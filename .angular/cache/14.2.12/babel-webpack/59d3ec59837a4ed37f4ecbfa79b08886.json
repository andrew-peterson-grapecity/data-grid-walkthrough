{"ast":null,"code":"/*!\n    *\n    * Wijmo Library 5.20231.888\n    * http://wijmo.com/\n    *\n    * Copyright(c) GrapeCity, Inc.  All rights reserved.\n    *\n    * Licensed under the GrapeCity Commercial License.\n    * sales@wijmo.com\n    * wijmo.com/products/wijmo-5/license/\n    *\n    */\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (e, t) {\n    return (extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var l in t) t.hasOwnProperty(l) && (e[l] = t[l]);\n    })(e, t);\n  };\n\n  return function (e, t) {\n    extendStatics(e, t);\n\n    function __() {\n      this.constructor = e;\n    }\n\n    e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());\n  };\n}();\n\nimport { _getModule, _registerModule } from \"@grapecity/wijmo\";\nimport * as wjcCore from \"@grapecity/wijmo\";\nimport * as wjcGrid from \"@grapecity/wijmo.grid\";\nimport * as selfModule from \"@grapecity/wijmo.interop.grid\";\nexport function softInput() {\n  return _getModule(\"wijmo.input\");\n}\nexport function softGridDetail() {\n  return _getModule(\"wijmo.grid.detail\");\n}\n\nvar __gridCFRef = wjcGrid && wjcGrid.CellFactory;\n\nif (!__gridCFRef) {\n  window.wijmo.grid = {};\n\n  window.wijmo.grid.CellFactory = function () {};\n}\n\nvar DirectiveCellFactoryBase = function (e) {\n  __extends(DirectiveCellFactoryBase, e);\n\n  function DirectiveCellFactoryBase(t) {\n    var l = e.call(this) || this;\n    l._lastApplyTimeStamp = 0;\n    l._noApplyLag = !1;\n    l._startingEditing = !1;\n    l._cellStampCounter = 0;\n    l._composing = !1;\n    l._isCheckingHeght = !1;\n    l._backupHeight = -1;\n    l._cacheRow = null;\n    l.grid = t;\n\n    if (!DirectiveCellFactoryBase._templateTypes) {\n      DirectiveCellFactoryBase._templateTypes = [];\n\n      for (var i in GridCellTemplateType) isNaN(i) && DirectiveCellFactoryBase._templateTypes.push(i);\n    }\n\n    var r = l;\n    l._baseCf = t.cellFactory;\n    t.cellFactory = l;\n    l._evtInput = document.createEvent(\"HTMLEvents\");\n\n    l._evtInput.initEvent(\"input\", !0, !1);\n\n    l._evtBlur = document.createEvent(\"HTMLEvents\");\n\n    l._evtBlur.initEvent(\"blur\", !1, !1);\n\n    t.prepareCellForEdit.addHandler(function (e, t) {\n      r._noApplyLag = !0;\n    });\n    t.cellEditEnded.addHandler(function (e, l) {\n      var i = l.range,\n          o = i.col;\n      (o < 0 || o < t.columns.length && !t._getBindingColumn(t.cells, i.row, t.columns[o])[DirectiveCellFactoryBase.getTemplContextProp(GridCellTemplateType.CellEdit)]) && (r._editChar = null);\n      setTimeout(function () {\n        r._noApplyLag = !1;\n      }, 300);\n    });\n    t.beginningEdit.addHandler(function (e, t) {\n      r._startingEditing = !0;\n    });\n    t.hostElement.addEventListener(\"keydown\", function (e) {\n      r._startingEditing = !1;\n    }, !0);\n    t.hostElement.addEventListener(\"keypress\", function (e) {\n      var l = e.charCode > 32 ? String.fromCharCode(e.charCode) : null;\n      if (l && wjcCore.closest(e.target, \".wj-flexgrid\") === t.hostElement) if (!t.activeEditor || r._startingEditing) {\n        r._editChar = l;\n        setTimeout(function () {\n          t.activeEditor || (r._editChar = null);\n        }, 0);\n      } else r._editChar && (r._editChar += l);\n    }, !0);\n    t.hostElement.addEventListener(\"compositionstart\", function (e) {\n      r._composing = !0;\n    }, !0);\n    t.hostElement.addEventListener(\"compositionend\", function (e) {\n      r._composing = !1;\n    }, !0);\n    return l;\n  }\n\n  DirectiveCellFactoryBase.prototype.updateCell = function (e, t, l, i, r) {\n    var o = this;\n    this._cellStampCounter = (this._cellStampCounter + 1) % 1e7;\n    var n = i[DirectiveCellFactoryBase._cellStampProp] = this._cellStampCounter;\n    i.style.overflow && (i.style.overflow = \"\");\n    var a = t,\n        c = l;\n\n    if (r && !r.isSingleCell) {\n      t = r.row;\n      l = r.col;\n    }\n\n    var s,\n        p = this,\n        d = e.grid,\n        u = d.editRange,\n        C = e.rows[t],\n        m = C.dataItem,\n        f = !1,\n        g = !1,\n        y = !1,\n        v = !1;\n\n    switch (e.cellType) {\n      case wjcGrid.CellType.Cell:\n        if (u && u.row === t && u.col === l) {\n          s = GridCellTemplateType.CellEdit;\n          g = y = !0;\n        } else if (C instanceof wjcGrid.GroupRow) {\n          var _ = !((v = m instanceof wjcCore.CollectionViewGroup) || C.hasChildren);\n\n          if (l == e.columns.firstVisibleIndex) s = _ ? GridCellTemplateType.Cell : GridCellTemplateType.GroupHeader;else {\n            s = _ ? GridCellTemplateType.Cell : GridCellTemplateType.Group;\n            g = !0;\n          }\n        } else C instanceof wjcGrid._NewRowTemplate ? s = GridCellTemplateType.NewCellTemplate : softGridDetail() && softGridDetail().DetailRow && C instanceof softGridDetail().DetailRow || (s = GridCellTemplateType.Cell);\n\n        break;\n\n      case wjcGrid.CellType.ColumnHeader:\n        s = GridCellTemplateType.ColumnHeader;\n        break;\n\n      case wjcGrid.CellType.RowHeader:\n        s = d.collectionView && d.collectionView.currentEditItem === m ? GridCellTemplateType.RowHeaderEdit : GridCellTemplateType.RowHeader;\n        f = !0;\n        break;\n\n      case wjcGrid.CellType.TopLeft:\n        s = GridCellTemplateType.TopLeft;\n        f = !0;\n        break;\n\n      case wjcGrid.CellType.ColumnFooter:\n        s = GridCellTemplateType.ColumnFooter;\n        g = !0;\n        break;\n\n      case wjcGrid.CellType.BottomLeft:\n        s = GridCellTemplateType.BottomLeft;\n        f = !0;\n    }\n\n    var h = !1;\n\n    if (null != s) {\n      var w = null;\n      v && s == GridCellTemplateType.GroupHeader ? w = d.getColumn(m.groupDescription.propertyName) : l >= 0 && l < e.columns.length && (w = e.cellType === wjcGrid.CellType.ColumnHeader && d._hasColumnGroups() ? d._getColumnGroup(t, l) : d._getBindingColumn(e, t, e.columns[l]));\n\n      if (w) {\n        var E = DirectiveCellFactoryBase.getTemplContextProp,\n            T = E(s),\n            F = (f ? d : w)[T];\n        if (!F) if (s === GridCellTemplateType.RowHeaderEdit) {\n          T = E(s = GridCellTemplateType.RowHeader);\n          F = d[T];\n        } else if ((s === GridCellTemplateType.Group || s === GridCellTemplateType.GroupHeader) && !v) {\n          T = E(s = GridCellTemplateType.Cell);\n          F = w[T];\n        }\n\n        if (F) {\n          var G;\n          g && (G = e.getCellData(t, l, !1));\n          h = !0;\n          var D = i.getAttribute(wjcGrid.FlexGrid._WJS_MEASURE),\n              j = D && \"true\" === D.toLowerCase();\n\n          if (y) {\n            this.clearCell(i);\n\n            this._baseCf.updateCell(e, a, c, i, r, !0);\n          }\n\n          var B,\n              H = y && d.imeEnabled,\n              I = H && this._composing,\n              R = i[T],\n              b = {\n            cell: i,\n            column: w,\n            row: C,\n            panel: e,\n            rng: r,\n            isEdit: y,\n            isImeInput: H,\n            isTrueImeInput: I,\n            templateContext: F,\n            templateCache: R,\n            templateContextProperty: T,\n            cellStamp: n,\n            cellValue: G\n          };\n\n          if (this.shouldInstantiate(b)) {\n            if (y) {\n              var S = i.firstElementChild;\n\n              if (S) {\n                H || i.focus();\n                S.style.display = \"none\";\n              }\n            } else this.clearCell(i);\n\n            this._doDisposeCell(i);\n\n            this.renderTemplate(b, !0);\n            b.templateCache = R = i[T];\n            B = b.cellBindingsData;\n          } else {\n            this.renderTemplate(b, !1);\n            B = b.cellBindingsData;\n          }\n\n          F.cellOverflow && (i.style.overflow = F.cellOverflow);\n          j ? this.applyImmediately(b) : F.autoSizeRows && !H ? this.checkHeight(b) : y && setTimeout(function () {\n            H ? o._initImeEditInput(b.cell, F) : o._initEditInput(b.cell, F, null);\n          }, 0);\n\n          if (y) {\n            p._cellEditorVars = B.localVars;\n\n            var editEndingEH = function (e, t) {\n              d.cellEditEnding.removeHandler(editEndingEH);\n\n              if (!t.stayInEditMode) {\n                var l = wjcCore.getActiveElement();\n                l && l.dispatchEvent(p._evtBlur);\n                wjcCore.contains(i, wjcCore.getActiveElement()) && i.focus();\n              }\n\n              p._triggerEditorEvents(i);\n\n              if (!t.cancel && !t.stayInEditMode) for (var r = B.localVars, o = 0, n = Object.getOwnPropertyNames(B.bindings); o < n.length; o++) {\n                var a = n[o];\n                B.bindings[a].setValue(r, B.localVars.values[a]);\n              }\n              var c = i.querySelectorAll(\".wj-dropdown\");\n              [].forEach.call(c, function (e) {\n                var t = wjcCore.Control.getControl(e);\n                t && softInput() && t instanceof softInput().DropDown && (t.isDroppedDown = !1);\n              });\n            },\n                editEndedEH_1 = function (e, t) {\n              d.cellEditEnded.removeHandler(editEndedEH_1);\n              p._cellEditorVars = null;\n            };\n\n            d.cellEditEnding.addHandler(editEndingEH);\n            d.cellEditEnded.addHandler(editEndedEH_1);\n          } else this._baseCf.updateCell(e, a, c, i, r, !1);\n        }\n      }\n    }\n\n    if (!h) {\n      this._doDisposeCell(i);\n\n      this._baseCf.updateCell(e, a, c, i, r);\n    }\n  };\n\n  DirectiveCellFactoryBase.prototype.getEditorValue = function (t) {\n    if (this._cellEditorVars) {\n      var l = t.editRange;\n      l && l.isValid && this._triggerEditorEvents(t.cells.getCellElement(l.row, l.col));\n      return this._cellEditorVars.value;\n    }\n\n    return e.prototype.getEditorValue.call(this, t);\n  };\n\n  DirectiveCellFactoryBase.prototype.disposeCell = function (e) {\n    this._doDisposeCell(e);\n  };\n\n  DirectiveCellFactoryBase.prototype.disposeTemplate = function (e, t, l) {\n    if (t) {\n      t.rootElement = null;\n      t.column = null;\n      e[t.templateContextProperty] = null;\n      t.templateContextProperty = null;\n    }\n  };\n\n  DirectiveCellFactoryBase.prototype.setBindingsData = function (e, t, l, i, r, o) {\n    e.row = t;\n    e.col = l;\n    e.item = i;\n    var n = {},\n        a = e.cell || {},\n        c = {},\n        s = {\n      localVars: a,\n      bindings: c\n    };\n    a.row = t;\n    a.col = l;\n    a.item = i;\n    a.value = r;\n    a.values = n;\n    if (o) for (var p = 0, d = Object.getOwnPropertyNames(o); p < d.length; p++) {\n      var u = d[p],\n          C = new wjcCore.Binding(o[u]);\n      c[u] = C;\n      n[u] = C.getValue(a);\n    }\n    e.cell !== a && (e.cell = a);\n    return s;\n  };\n\n  DirectiveCellFactoryBase.prototype.checkHeight = function (e) {\n    var t = this;\n    this._isCheckingHeght || setTimeout(function () {\n      var l = e.cell;\n\n      if (e.cellStamp === l[DirectiveCellFactoryBase._cellStampProp]) {\n        var i = l.scrollHeight,\n            r = e.panel.rows,\n            o = e.row.index,\n            n = e.rng,\n            a = n && n.rowSpan || 1,\n            c = e.isEdit;\n        null != r.maxSize && (i = Math.min(i, r.maxSize));\n\n        if (o < r.length && r[o].renderHeight * a < i - 1) {\n          var s = r.defaultSize = i / a;\n\n          if (c) {\n            var p = t._isFullEdit(),\n                d = t.grid;\n\n            t._backupHeight = e.row.height;\n            e.row.height = s;\n            t._cacheRow = e.row;\n            t._isCheckingHeght = !0;\n            d.refresh();\n            d.startEditing(p);\n            t._isCheckingHeght = !1;\n            return;\n          }\n        } else c && (e.isImeInput ? t._initImeEditInput(e.cell, e.templateContext) : t._initEditInput(e.cell, e.templateContext, null));\n      }\n    }, 0);\n  };\n\n  DirectiveCellFactoryBase.prototype._restoreRowHeight = function () {\n    if (!this._isCheckingHeght && this._backupHeight > 0) {\n      this._cacheRow.height = this._backupHeight;\n      this._backupHeight = -1;\n      this._cacheRow = null;\n    }\n  };\n\n  DirectiveCellFactoryBase.prototype.doDisposeCell = function (e) {\n    for (var t = DirectiveCellFactoryBase._templateTypes, l = 0; l < t.length; l++) {\n      var i = DirectiveCellFactoryBase.getTemplContextProp(GridCellTemplateType[t[l]]),\n          r = e[i];\n\n      if (r) {\n        var o = (r.column || this.grid)[i];\n        this.disposeTemplate(e, r, o);\n        t[l] == GridCellTemplateType[GridCellTemplateType.CellEdit] && this._restoreRowHeight();\n      }\n    }\n  };\n\n  DirectiveCellFactoryBase.getTemplContextProp = function (e) {\n    return \"$__cellTempl\" + GridCellTemplateType[e];\n  };\n\n  DirectiveCellFactoryBase.prototype._doDisposeCell = function (e) {\n    this.doDisposeCell(e);\n  };\n\n  DirectiveCellFactoryBase.prototype._initEditInput = function (e, t, l) {\n    var i = this;\n    this.setEditorFocusFlag(!0);\n    var r = !1 !== this.getEditorFocusFlag();\n    this.setEditorFocusFlag(null);\n\n    this._setFullEdit(t);\n\n    r && setTimeout(function () {\n      var t = i._findInitialInput(e);\n\n      if (t) {\n        var inpFocusEh = function () {\n          t.removeEventListener(\"focus\", inpFocusEh);\n          setTimeout(function () {\n            setTimeout(function () {\n              var e = null != l ? l : i._editChar;\n\n              if (e) {\n                t.value = e;\n                i._editChar = null;\n\n                DirectiveCellFactoryBase._setSelectionRange(t, e.length, e.length);\n\n                t.dispatchEvent(i._evtInput);\n              }\n            }, 0);\n          }, DirectiveCellFactoryBase._FOCUS_INTERVAL);\n        };\n\n        t.addEventListener(\"focus\", inpFocusEh);\n        t.focus();\n      }\n    }, 100);\n  };\n\n  DirectiveCellFactoryBase.prototype._initImeEditInput = function (e, t) {\n    var l = this,\n        i = wjcCore.getActiveElement();\n\n    if (i && (i instanceof HTMLInputElement || i instanceof HTMLTextAreaElement) && wjcCore.hasClass(i, \"wj-grid-ime\")) {\n      var r = this._findInitialInput(e),\n          o = r && r.style.color,\n          n = this._composing,\n          compEndEh_1 = function () {\n        i.removeEventListener(\"compositionend\", compEndEh_1);\n        wjcCore.setCss(i, wjcGrid._ImeHandler._cssHidden);\n        l.setEditorFocusFlag(!0);\n        r && (r.style.color = o);\n\n        l._initEditInput(e, t, n ? i.value : null);\n      };\n\n      if (n) {\n        i.addEventListener(\"compositionend\", compEndEh_1);\n\n        if (r) {\n          var a = r.getBoundingClientRect(),\n              c = i.getBoundingClientRect(),\n              s = window.getComputedStyle(i),\n              p = parseFloat(s.left),\n              d = parseFloat(s.top);\n          wjcCore.setCss(i, {\n            left: p + a.left - c.left + \"px\",\n            top: d + a.top - c.top + \"px\",\n            width: a.width + \"px\",\n            height: a.height + \"px\"\n          });\n          r.style.color = \"transparent\";\n        }\n      } else setTimeout(function () {\n        return compEndEh_1();\n      }, DirectiveCellFactoryBase._FOCUS_INTERVAL);\n    }\n  };\n\n  DirectiveCellFactoryBase.prototype._findInitialInput = function (e) {\n    var t = e && e.rootElement && e.rootElement.querySelectorAll(\"input,textarea\") || e && e.querySelectorAll(\"input,textarea\");\n    if (t) for (var l = 0; l < t.length; l++) {\n      var i = t[l],\n          r = window.getComputedStyle(i);\n      if (\"none\" !== r.display && \"visible\" === r.visibility) return i;\n    }\n    return null;\n  };\n\n  DirectiveCellFactoryBase._setSelectionRange = function (e, t, l) {\n    void 0 === l && (l = t);\n    if (wjcCore.contains(document.body, e) && !e.disabled && \"none\" != e.style.display) try {\n      e.setSelectionRange(wjcCore.asNumber(t), wjcCore.asNumber(l), wjcCore.isIE() ? null : \"backward\");\n      e.focus();\n    } catch (e) {}\n  };\n\n  DirectiveCellFactoryBase.prototype._triggerEditorEvents = function (e) {\n    if (e) for (var t = e.querySelectorAll(\".wj-control\"), l = 0; l < t.length; l++) {\n      var i = t[l],\n          r = wjcCore.Control.getControl(i);\n      r && this.flushPendingEvents(r);\n    }\n  };\n\n  DirectiveCellFactoryBase.prototype._isFullEdit = function () {\n    var e = this.grid;\n    return !e.activeEditor || e._edtHdl._fullEdit;\n  };\n\n  DirectiveCellFactoryBase.prototype._setFullEdit = function (e) {\n    var t = this.grid;\n    e.forceFullEdit && t.activeEditor && (t._edtHdl._fullEdit = !0);\n  };\n\n  DirectiveCellFactoryBase._cellStampProp = \"__wjCellStamp\";\n  DirectiveCellFactoryBase._FOCUS_INTERVAL = wjcCore.Control._FOCUS_INTERVAL + 20;\n  return DirectiveCellFactoryBase;\n}(wjcGrid.CellFactory);\n\nexport { DirectiveCellFactoryBase };\n__gridCFRef || (window.wijmo.grid = null);\nexport var GridCellTemplateType;\n!function (e) {\n  e[e.Cell = 0] = \"Cell\";\n  e[e.CellEdit = 1] = \"CellEdit\";\n  e[e.ColumnHeader = 2] = \"ColumnHeader\";\n  e[e.RowHeader = 3] = \"RowHeader\";\n  e[e.RowHeaderEdit = 4] = \"RowHeaderEdit\";\n  e[e.TopLeft = 5] = \"TopLeft\";\n  e[e.GroupHeader = 6] = \"GroupHeader\";\n  e[e.Group = 7] = \"Group\";\n  e[e.NewCellTemplate = 8] = \"NewCellTemplate\";\n  e[e.ColumnFooter = 9] = \"ColumnFooter\";\n  e[e.BottomLeft = 10] = \"BottomLeft\";\n}(GridCellTemplateType || (GridCellTemplateType = {}));\n\n_registerModule(\"wijmo.interop.grid\", selfModule);","map":{"version":3,"names":["__extends","extendStatics","e","t","Object","setPrototypeOf","__proto__","Array","l","hasOwnProperty","__","constructor","prototype","create","_getModule","_registerModule","wjcCore","wjcGrid","selfModule","softInput","softGridDetail","__gridCFRef","CellFactory","window","wijmo","grid","DirectiveCellFactoryBase","call","_lastApplyTimeStamp","_noApplyLag","_startingEditing","_cellStampCounter","_composing","_isCheckingHeght","_backupHeight","_cacheRow","_templateTypes","i","GridCellTemplateType","isNaN","push","r","_baseCf","cellFactory","_evtInput","document","createEvent","initEvent","_evtBlur","prepareCellForEdit","addHandler","cellEditEnded","range","o","col","columns","length","_getBindingColumn","cells","row","getTemplContextProp","CellEdit","_editChar","setTimeout","beginningEdit","hostElement","addEventListener","charCode","String","fromCharCode","closest","target","activeEditor","updateCell","n","_cellStampProp","style","overflow","a","c","isSingleCell","s","p","d","u","editRange","C","rows","m","dataItem","f","g","y","v","cellType","CellType","Cell","GroupRow","_","CollectionViewGroup","hasChildren","firstVisibleIndex","GroupHeader","Group","_NewRowTemplate","NewCellTemplate","DetailRow","ColumnHeader","RowHeader","collectionView","currentEditItem","RowHeaderEdit","TopLeft","ColumnFooter","BottomLeft","h","w","getColumn","groupDescription","propertyName","_hasColumnGroups","_getColumnGroup","E","T","F","G","getCellData","D","getAttribute","FlexGrid","_WJS_MEASURE","j","toLowerCase","clearCell","B","H","imeEnabled","I","R","b","cell","column","panel","rng","isEdit","isImeInput","isTrueImeInput","templateContext","templateCache","templateContextProperty","cellStamp","cellValue","shouldInstantiate","S","firstElementChild","focus","display","_doDisposeCell","renderTemplate","cellBindingsData","cellOverflow","applyImmediately","autoSizeRows","checkHeight","_initImeEditInput","_initEditInput","_cellEditorVars","localVars","editEndingEH","cellEditEnding","removeHandler","stayInEditMode","getActiveElement","dispatchEvent","contains","_triggerEditorEvents","cancel","getOwnPropertyNames","bindings","setValue","values","querySelectorAll","forEach","Control","getControl","DropDown","isDroppedDown","editEndedEH_1","getEditorValue","isValid","getCellElement","value","disposeCell","disposeTemplate","rootElement","setBindingsData","item","Binding","getValue","scrollHeight","index","rowSpan","maxSize","Math","min","renderHeight","defaultSize","_isFullEdit","height","refresh","startEditing","_restoreRowHeight","doDisposeCell","setEditorFocusFlag","getEditorFocusFlag","_setFullEdit","_findInitialInput","inpFocusEh","removeEventListener","_setSelectionRange","_FOCUS_INTERVAL","HTMLInputElement","HTMLTextAreaElement","hasClass","color","compEndEh_1","setCss","_ImeHandler","_cssHidden","getBoundingClientRect","getComputedStyle","parseFloat","left","top","width","visibility","body","disabled","setSelectionRange","asNumber","isIE","flushPendingEvents","_edtHdl","_fullEdit","forceFullEdit"],"sources":["C:/Users/Andrew P/Documents/code-practice/angular/data-grid-walkthrough/node_modules/@grapecity/wijmo.interop.grid/es5-esm.js"],"sourcesContent":["/*!\n    *\n    * Wijmo Library 5.20231.888\n    * http://wijmo.com/\n    *\n    * Copyright(c) GrapeCity, Inc.  All rights reserved.\n    *\n    * Licensed under the GrapeCity Commercial License.\n    * sales@wijmo.com\n    * wijmo.com/products/wijmo-5/license/\n    *\n    */\n\nvar __extends=this&&this.__extends||function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var l in t)t.hasOwnProperty(l)&&(e[l]=t[l])})(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();import{_getModule,_registerModule}from\"@grapecity/wijmo\";import*as wjcCore from\"@grapecity/wijmo\";import*as wjcGrid from\"@grapecity/wijmo.grid\";import*as selfModule from\"@grapecity/wijmo.interop.grid\";export function softInput(){return _getModule(\"wijmo.input\")}export function softGridDetail(){return _getModule(\"wijmo.grid.detail\")}var __gridCFRef=wjcGrid&&wjcGrid.CellFactory;if(!__gridCFRef){window.wijmo.grid={};window.wijmo.grid.CellFactory=function(){}}var DirectiveCellFactoryBase=function(e){__extends(DirectiveCellFactoryBase,e);function DirectiveCellFactoryBase(t){var l=e.call(this)||this;l._lastApplyTimeStamp=0;l._noApplyLag=!1;l._startingEditing=!1;l._cellStampCounter=0;l._composing=!1;l._isCheckingHeght=!1;l._backupHeight=-1;l._cacheRow=null;l.grid=t;if(!DirectiveCellFactoryBase._templateTypes){DirectiveCellFactoryBase._templateTypes=[];for(var i in GridCellTemplateType)isNaN(i)&&DirectiveCellFactoryBase._templateTypes.push(i)}var r=l;l._baseCf=t.cellFactory;t.cellFactory=l;l._evtInput=document.createEvent(\"HTMLEvents\");l._evtInput.initEvent(\"input\",!0,!1);l._evtBlur=document.createEvent(\"HTMLEvents\");l._evtBlur.initEvent(\"blur\",!1,!1);t.prepareCellForEdit.addHandler((function(e,t){r._noApplyLag=!0}));t.cellEditEnded.addHandler((function(e,l){var i=l.range,o=i.col;(o<0||o<t.columns.length&&!t._getBindingColumn(t.cells,i.row,t.columns[o])[DirectiveCellFactoryBase.getTemplContextProp(GridCellTemplateType.CellEdit)])&&(r._editChar=null);setTimeout((function(){r._noApplyLag=!1}),300)}));t.beginningEdit.addHandler((function(e,t){r._startingEditing=!0}));t.hostElement.addEventListener(\"keydown\",(function(e){r._startingEditing=!1}),!0);t.hostElement.addEventListener(\"keypress\",(function(e){var l=e.charCode>32?String.fromCharCode(e.charCode):null;if(l&&wjcCore.closest(e.target,\".wj-flexgrid\")===t.hostElement)if(!t.activeEditor||r._startingEditing){r._editChar=l;setTimeout((function(){t.activeEditor||(r._editChar=null)}),0)}else r._editChar&&(r._editChar+=l)}),!0);t.hostElement.addEventListener(\"compositionstart\",(function(e){r._composing=!0}),!0);t.hostElement.addEventListener(\"compositionend\",(function(e){r._composing=!1}),!0);return l}DirectiveCellFactoryBase.prototype.updateCell=function(e,t,l,i,r){var o=this;this._cellStampCounter=(this._cellStampCounter+1)%1e7;var n=i[DirectiveCellFactoryBase._cellStampProp]=this._cellStampCounter;i.style.overflow&&(i.style.overflow=\"\");var a=t,c=l;if(r&&!r.isSingleCell){t=r.row;l=r.col}var s,p=this,d=e.grid,u=d.editRange,C=e.rows[t],m=C.dataItem,f=!1,g=!1,y=!1,v=!1;switch(e.cellType){case wjcGrid.CellType.Cell:if(u&&u.row===t&&u.col===l){s=GridCellTemplateType.CellEdit;g=y=!0}else if(C instanceof wjcGrid.GroupRow){var _=!((v=m instanceof wjcCore.CollectionViewGroup)||C.hasChildren);if(l==e.columns.firstVisibleIndex)s=_?GridCellTemplateType.Cell:GridCellTemplateType.GroupHeader;else{s=_?GridCellTemplateType.Cell:GridCellTemplateType.Group;g=!0}}else C instanceof wjcGrid._NewRowTemplate?s=GridCellTemplateType.NewCellTemplate:softGridDetail()&&softGridDetail().DetailRow&&C instanceof softGridDetail().DetailRow||(s=GridCellTemplateType.Cell);break;case wjcGrid.CellType.ColumnHeader:s=GridCellTemplateType.ColumnHeader;break;case wjcGrid.CellType.RowHeader:s=d.collectionView&&d.collectionView.currentEditItem===m?GridCellTemplateType.RowHeaderEdit:GridCellTemplateType.RowHeader;f=!0;break;case wjcGrid.CellType.TopLeft:s=GridCellTemplateType.TopLeft;f=!0;break;case wjcGrid.CellType.ColumnFooter:s=GridCellTemplateType.ColumnFooter;g=!0;break;case wjcGrid.CellType.BottomLeft:s=GridCellTemplateType.BottomLeft;f=!0}var h=!1;if(null!=s){var w=null;v&&s==GridCellTemplateType.GroupHeader?w=d.getColumn(m.groupDescription.propertyName):l>=0&&l<e.columns.length&&(w=e.cellType===wjcGrid.CellType.ColumnHeader&&d._hasColumnGroups()?d._getColumnGroup(t,l):d._getBindingColumn(e,t,e.columns[l]));if(w){var E=DirectiveCellFactoryBase.getTemplContextProp,T=E(s),F=(f?d:w)[T];if(!F)if(s===GridCellTemplateType.RowHeaderEdit){T=E(s=GridCellTemplateType.RowHeader);F=d[T]}else if((s===GridCellTemplateType.Group||s===GridCellTemplateType.GroupHeader)&&!v){T=E(s=GridCellTemplateType.Cell);F=w[T]}if(F){var G;g&&(G=e.getCellData(t,l,!1));h=!0;var D=i.getAttribute(wjcGrid.FlexGrid._WJS_MEASURE),j=D&&\"true\"===D.toLowerCase();if(y){this.clearCell(i);this._baseCf.updateCell(e,a,c,i,r,!0)}var B,H=y&&d.imeEnabled,I=H&&this._composing,R=i[T],b={cell:i,column:w,row:C,panel:e,rng:r,isEdit:y,isImeInput:H,isTrueImeInput:I,templateContext:F,templateCache:R,templateContextProperty:T,cellStamp:n,cellValue:G};if(this.shouldInstantiate(b)){if(y){var S=i.firstElementChild;if(S){H||i.focus();S.style.display=\"none\"}}else this.clearCell(i);this._doDisposeCell(i);this.renderTemplate(b,!0);b.templateCache=R=i[T];B=b.cellBindingsData}else{this.renderTemplate(b,!1);B=b.cellBindingsData}F.cellOverflow&&(i.style.overflow=F.cellOverflow);j?this.applyImmediately(b):F.autoSizeRows&&!H?this.checkHeight(b):y&&setTimeout((function(){H?o._initImeEditInput(b.cell,F):o._initEditInput(b.cell,F,null)}),0);if(y){p._cellEditorVars=B.localVars;var editEndingEH=function(e,t){d.cellEditEnding.removeHandler(editEndingEH);if(!t.stayInEditMode){var l=wjcCore.getActiveElement();l&&l.dispatchEvent(p._evtBlur);wjcCore.contains(i,wjcCore.getActiveElement())&&i.focus()}p._triggerEditorEvents(i);if(!t.cancel&&!t.stayInEditMode)for(var r=B.localVars,o=0,n=Object.getOwnPropertyNames(B.bindings);o<n.length;o++){var a=n[o];B.bindings[a].setValue(r,B.localVars.values[a])}var c=i.querySelectorAll(\".wj-dropdown\");[].forEach.call(c,(function(e){var t=wjcCore.Control.getControl(e);t&&softInput()&&t instanceof softInput().DropDown&&(t.isDroppedDown=!1)}))},editEndedEH_1=function(e,t){d.cellEditEnded.removeHandler(editEndedEH_1);p._cellEditorVars=null};d.cellEditEnding.addHandler(editEndingEH);d.cellEditEnded.addHandler(editEndedEH_1)}else this._baseCf.updateCell(e,a,c,i,r,!1)}}}if(!h){this._doDisposeCell(i);this._baseCf.updateCell(e,a,c,i,r)}};DirectiveCellFactoryBase.prototype.getEditorValue=function(t){if(this._cellEditorVars){var l=t.editRange;l&&l.isValid&&this._triggerEditorEvents(t.cells.getCellElement(l.row,l.col));return this._cellEditorVars.value}return e.prototype.getEditorValue.call(this,t)};DirectiveCellFactoryBase.prototype.disposeCell=function(e){this._doDisposeCell(e)};DirectiveCellFactoryBase.prototype.disposeTemplate=function(e,t,l){if(t){t.rootElement=null;t.column=null;e[t.templateContextProperty]=null;t.templateContextProperty=null}};DirectiveCellFactoryBase.prototype.setBindingsData=function(e,t,l,i,r,o){e.row=t;e.col=l;e.item=i;var n={},a=e.cell||{},c={},s={localVars:a,bindings:c};a.row=t;a.col=l;a.item=i;a.value=r;a.values=n;if(o)for(var p=0,d=Object.getOwnPropertyNames(o);p<d.length;p++){var u=d[p],C=new wjcCore.Binding(o[u]);c[u]=C;n[u]=C.getValue(a)}e.cell!==a&&(e.cell=a);return s};DirectiveCellFactoryBase.prototype.checkHeight=function(e){var t=this;this._isCheckingHeght||setTimeout((function(){var l=e.cell;if(e.cellStamp===l[DirectiveCellFactoryBase._cellStampProp]){var i=l.scrollHeight,r=e.panel.rows,o=e.row.index,n=e.rng,a=n&&n.rowSpan||1,c=e.isEdit;null!=r.maxSize&&(i=Math.min(i,r.maxSize));if(o<r.length&&r[o].renderHeight*a<i-1){var s=r.defaultSize=i/a;if(c){var p=t._isFullEdit(),d=t.grid;t._backupHeight=e.row.height;e.row.height=s;t._cacheRow=e.row;t._isCheckingHeght=!0;d.refresh();d.startEditing(p);t._isCheckingHeght=!1;return}}else c&&(e.isImeInput?t._initImeEditInput(e.cell,e.templateContext):t._initEditInput(e.cell,e.templateContext,null))}}),0)};DirectiveCellFactoryBase.prototype._restoreRowHeight=function(){if(!this._isCheckingHeght&&this._backupHeight>0){this._cacheRow.height=this._backupHeight;this._backupHeight=-1;this._cacheRow=null}};DirectiveCellFactoryBase.prototype.doDisposeCell=function(e){for(var t=DirectiveCellFactoryBase._templateTypes,l=0;l<t.length;l++){var i=DirectiveCellFactoryBase.getTemplContextProp(GridCellTemplateType[t[l]]),r=e[i];if(r){var o=(r.column||this.grid)[i];this.disposeTemplate(e,r,o);t[l]==GridCellTemplateType[GridCellTemplateType.CellEdit]&&this._restoreRowHeight()}}};DirectiveCellFactoryBase.getTemplContextProp=function(e){return\"$__cellTempl\"+GridCellTemplateType[e]};DirectiveCellFactoryBase.prototype._doDisposeCell=function(e){this.doDisposeCell(e)};DirectiveCellFactoryBase.prototype._initEditInput=function(e,t,l){var i=this;this.setEditorFocusFlag(!0);var r=!1!==this.getEditorFocusFlag();this.setEditorFocusFlag(null);this._setFullEdit(t);r&&setTimeout((function(){var t=i._findInitialInput(e);if(t){var inpFocusEh=function(){t.removeEventListener(\"focus\",inpFocusEh);setTimeout((function(){setTimeout((function(){var e=null!=l?l:i._editChar;if(e){t.value=e;i._editChar=null;DirectiveCellFactoryBase._setSelectionRange(t,e.length,e.length);t.dispatchEvent(i._evtInput)}}),0)}),DirectiveCellFactoryBase._FOCUS_INTERVAL)};t.addEventListener(\"focus\",inpFocusEh);t.focus()}}),100)};DirectiveCellFactoryBase.prototype._initImeEditInput=function(e,t){var l=this,i=wjcCore.getActiveElement();if(i&&(i instanceof HTMLInputElement||i instanceof HTMLTextAreaElement)&&wjcCore.hasClass(i,\"wj-grid-ime\")){var r=this._findInitialInput(e),o=r&&r.style.color,n=this._composing,compEndEh_1=function(){i.removeEventListener(\"compositionend\",compEndEh_1);wjcCore.setCss(i,wjcGrid._ImeHandler._cssHidden);l.setEditorFocusFlag(!0);r&&(r.style.color=o);l._initEditInput(e,t,n?i.value:null)};if(n){i.addEventListener(\"compositionend\",compEndEh_1);if(r){var a=r.getBoundingClientRect(),c=i.getBoundingClientRect(),s=window.getComputedStyle(i),p=parseFloat(s.left),d=parseFloat(s.top);wjcCore.setCss(i,{left:p+a.left-c.left+\"px\",top:d+a.top-c.top+\"px\",width:a.width+\"px\",height:a.height+\"px\"});r.style.color=\"transparent\"}}else setTimeout((function(){return compEndEh_1()}),DirectiveCellFactoryBase._FOCUS_INTERVAL)}};DirectiveCellFactoryBase.prototype._findInitialInput=function(e){var t=e&&e.rootElement&&e.rootElement.querySelectorAll(\"input,textarea\")||e&&e.querySelectorAll(\"input,textarea\");if(t)for(var l=0;l<t.length;l++){var i=t[l],r=window.getComputedStyle(i);if(\"none\"!==r.display&&\"visible\"===r.visibility)return i}return null};DirectiveCellFactoryBase._setSelectionRange=function(e,t,l){void 0===l&&(l=t);if(wjcCore.contains(document.body,e)&&!e.disabled&&\"none\"!=e.style.display)try{e.setSelectionRange(wjcCore.asNumber(t),wjcCore.asNumber(l),wjcCore.isIE()?null:\"backward\");e.focus()}catch(e){}};DirectiveCellFactoryBase.prototype._triggerEditorEvents=function(e){if(e)for(var t=e.querySelectorAll(\".wj-control\"),l=0;l<t.length;l++){var i=t[l],r=wjcCore.Control.getControl(i);r&&this.flushPendingEvents(r)}};DirectiveCellFactoryBase.prototype._isFullEdit=function(){var e=this.grid;return!e.activeEditor||e._edtHdl._fullEdit};DirectiveCellFactoryBase.prototype._setFullEdit=function(e){var t=this.grid;e.forceFullEdit&&t.activeEditor&&(t._edtHdl._fullEdit=!0)};DirectiveCellFactoryBase._cellStampProp=\"__wjCellStamp\";DirectiveCellFactoryBase._FOCUS_INTERVAL=wjcCore.Control._FOCUS_INTERVAL+20;return DirectiveCellFactoryBase}(wjcGrid.CellFactory);export{DirectiveCellFactoryBase};__gridCFRef||(window.wijmo.grid=null);export var GridCellTemplateType;!function(e){e[e.Cell=0]=\"Cell\";e[e.CellEdit=1]=\"CellEdit\";e[e.ColumnHeader=2]=\"ColumnHeader\";e[e.RowHeader=3]=\"RowHeader\";e[e.RowHeaderEdit=4]=\"RowHeaderEdit\";e[e.TopLeft=5]=\"TopLeft\";e[e.GroupHeader=6]=\"GroupHeader\";e[e.Group=7]=\"Group\";e[e.NewCellTemplate=8]=\"NewCellTemplate\";e[e.ColumnFooter=9]=\"ColumnFooter\";e[e.BottomLeft=10]=\"BottomLeft\"}(GridCellTemplateType||(GridCellTemplateType={}));_registerModule(\"wijmo.interop.grid\",selfModule);"],"mappings":"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"},"metadata":{},"sourceType":"module"}