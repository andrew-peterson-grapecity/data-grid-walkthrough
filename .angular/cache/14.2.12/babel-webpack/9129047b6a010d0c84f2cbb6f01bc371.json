{"ast":null,"code":"/*!\n    *\n    * Wijmo Library 5.20231.888\n    * http://wijmo.com/\n    *\n    * Copyright(c) GrapeCity, Inc.  All rights reserved.\n    *\n    * Licensed under the GrapeCity Commercial License.\n    * sales@wijmo.com\n    * wijmo.com/products/wijmo-5/license/\n    *\n    */\nvar _a,\n    __extends = this && this.__extends || function () {\n  var extendStatics = function (e, t) {\n    return (extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (e, t) {\n      e.__proto__ = t;\n    } || function (e, t) {\n      for (var i in t) t.hasOwnProperty(i) && (e[i] = t[i]);\n    })(e, t);\n  };\n\n  return function (e, t) {\n    extendStatics(e, t);\n\n    function __() {\n      this.constructor = e;\n    }\n\n    e.prototype = null === t ? Object.create(t) : (__.prototype = t.prototype, new __());\n  };\n}();\n\nimport { isInt, asInt, _addCultureInfo, tryCast, format, Size, CancelEventArgs, asType, asBoolean, isFunction, Key, _getModule, asArray, assert, copy, isArray, isNumber, isString, toHeaderCase, NotifyCollectionChangedEventArgs, ObservableArray, Point, mouseToPage, closest, Control, SortDescription, isSafari, isIE, isIE9, closestClass, addClass, removeClass, setCss, getActiveElement, removeChild, createElement, setAttribute, _startDrag, clamp, hasClass, Event, EventArgs, _MaskProvider, asString, asCollectionView, toPlainText, _Map, asFunction, culture, Globalize, escapeHtml, isBoolean, toggleClass, contains, setChecked, setAriaLabel, disableAutoComplete, evalTemplate, DataType, isiOS, setSelectionRange, isUndefined, asNumber, asEnum, getType, _deprecated, Aggregate, Binding, CollectionViewGroup, changeType, isFirefox, DateTime, Rect, CollectionView, NotifyCollectionChangedAction, getAggregate, isDate, showPopup, hidePopup, Clipboard, Tooltip, isPrimitive, enable, setText, getTypes, hasItems, getElementRect, supportsFocusOptions, isIE10, isMobile, _registerModule } from \"@grapecity/wijmo\";\nimport * as mInput from \"@grapecity/wijmo.input\";\nimport * as selfModule from \"@grapecity/wijmo.grid\";\nvar _safariVer = null;\nexport function _getSafariVer() {\n  return _safariVer;\n}\n\nif (isSafari()) {\n  var match = navigator.userAgent.match(/version\\/([\\d\\.]+)/i);\n\n  if (null != match) {\n    var version = match[1],\n        parts = (match = version.match(/(\\d+)/g)).map(function (e) {\n      return parseInt(e);\n    });\n    _safariVer = {\n      full: version,\n      major: parts[0],\n      minor: parts[1]\n    };\n  }\n}\n\nexport var DataMapEditor;\n!function (e) {\n  e[e.AutoComplete = 0] = \"AutoComplete\";\n  e[e.DropDownList = 1] = \"DropDownList\";\n  e[e.RadioButtons = 2] = \"RadioButtons\";\n}(DataMapEditor || (DataMapEditor = {}));\n\nvar DataMap = function () {\n  function DataMap(e, t, i) {\n    this._keyPath = \"\";\n    this._displayPath = \"\";\n    this._sortByVal = !0;\n    this._editable = !1;\n    this._serK = !0;\n    this.mapChanged = new Event();\n\n    if (isArray(e) && !t && !i) {\n      e = e.map(function (e) {\n        return {\n          value: e\n        };\n      });\n      t = i = \"value\";\n    }\n\n    this._cv = asCollectionView(e);\n    this._keyPath = asString(t, !1);\n    this._displayPath = asString(i, !1);\n\n    this._cv.collectionChanged.addHandler(this.onMapChanged, this);\n  }\n\n  Object.defineProperty(DataMap.prototype, \"sortByDisplayValues\", {\n    get: function () {\n      return this._sortByVal;\n    },\n    set: function (e) {\n      this._sortByVal = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(DataMap.prototype, \"serializeKeys\", {\n    get: function () {\n      return this._serK;\n    },\n    set: function (e) {\n      if ((e = asBoolean(e)) !== this._serK) {\n        var t = this._map,\n            i = t && t.size;\n        this._map = null;\n        this._serK = e;\n        i && this.onMapChanged(EventArgs.empty);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(DataMap.prototype, \"collectionView\", {\n    get: function () {\n      return this._cv;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(DataMap.prototype, \"selectedValuePath\", {\n    get: function () {\n      return this._keyPath;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(DataMap.prototype, \"displayMemberPath\", {\n    get: function () {\n      return this._displayPath;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  DataMap.prototype.getDataItem = function (e) {\n    var t = this;\n\n    if (!this._map) {\n      var i = this._cv.sourceCollection,\n          o = new _Map(this.serializeKeys);\n      isArray(i) && this._keyPath && i.forEach(function (e) {\n        var i = e[t._keyPath];\n        o.has(i) || o.set(i, e);\n      });\n      this._map = o;\n    }\n\n    return this._map.get(e);\n  };\n\n  DataMap.prototype.getDisplayValue = function (e) {\n    var t = this._displayPath,\n        i = this.getDataItem(e);\n    return t && i ? i[t] : e;\n  };\n\n  DataMap.prototype.getKeyValue = function (e, t) {\n    var i = this._displayPath,\n        o = this._indexOf(e, i, t, !0);\n\n    o < 0 && (o = this._indexOf(e, i, t, !1));\n    return o > -1 ? this._cv.sourceCollection[o][this._keyPath] : null;\n  };\n\n  DataMap.prototype.getDisplayValues = function (e) {\n    var t = this;\n    return this._cv && this._displayPath ? this._cv.items.map(function (e) {\n      return e[t._displayPath];\n    }) : [];\n  };\n\n  DataMap.prototype.getKeyValues = function () {\n    var e = this;\n    return this._cv && this._keyPath ? this._cv.items.map(function (t) {\n      return t[e._keyPath];\n    }) : [];\n  };\n\n  Object.defineProperty(DataMap.prototype, \"isEditable\", {\n    get: function () {\n      return this._editable;\n    },\n    set: function (e) {\n      this._editable = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(DataMap.prototype, \"search\", {\n    get: function () {\n      return this._search;\n    },\n    set: function (e) {\n      this._search = asFunction(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  DataMap.prototype.onMapChanged = function (e) {\n    this._map = null;\n    this.mapChanged.raise(this, e);\n  };\n\n  DataMap.prototype._indexOf = function (e, t, i, o) {\n    var n = -1,\n        r = -1;\n\n    if (this._cv && t) {\n      var l = null != e ? e.toString() : \"\";\n      l && i && (e = toPlainText(l));\n\n      for (var s = o ? l : l.toLowerCase(), a = this._cv.sourceCollection, c = 0; c < a.length; c++) {\n        var u = a[c],\n            d = u[t];\n        null != d && null != d || (d = \"\");\n        i && isString(d) && (d = toPlainText(d));\n        d == e ? n = c : o || d.length != s.length || d.toLowerCase() != s ? null != d && d.toString() == l && (n = c) : n = c;\n\n        if (n == c) {\n          if (!this._cv.filter || this._cv.filter(u)) return n;\n          r < 0 && (r = n);\n        }\n      }\n    }\n\n    return r;\n  };\n\n  return DataMap;\n}();\n\nexport { DataMap };\n\nvar CellRange = function () {\n  function CellRange(e, t, i, o) {\n    void 0 === e && (e = -1);\n    void 0 === t && (t = -1);\n    void 0 === i && (i = e);\n    void 0 === o && (o = t);\n    this.setRange(e, t, i, o);\n  }\n\n  CellRange.prototype.setRange = function (e, t, i, o) {\n    void 0 === e && (e = -1);\n    void 0 === t && (t = -1);\n    void 0 === i && (i = e);\n    void 0 === o && (o = t);\n    this._row = asInt(e);\n    this._col = asInt(t);\n    this._row2 = asInt(i);\n    this._col2 = asInt(o);\n  };\n\n  Object.defineProperty(CellRange.prototype, \"row\", {\n    get: function () {\n      return this._row;\n    },\n    set: function (e) {\n      this._row = asInt(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRange.prototype, \"col\", {\n    get: function () {\n      return this._col;\n    },\n    set: function (e) {\n      this._col = asInt(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRange.prototype, \"row2\", {\n    get: function () {\n      return this._row2;\n    },\n    set: function (e) {\n      this._row2 = asInt(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRange.prototype, \"col2\", {\n    get: function () {\n      return this._col2;\n    },\n    set: function (e) {\n      this._col2 = asInt(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  CellRange.prototype.clone = function () {\n    return new CellRange(this._row, this._col, this._row2, this._col2);\n  };\n\n  CellRange.prototype.copy = function (e) {\n    this.setRange(e._row, e._col, e._row2, e._col2);\n  };\n\n  Object.defineProperty(CellRange.prototype, \"rowSpan\", {\n    get: function () {\n      return Math.abs(this._row2 - this._row) + 1;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRange.prototype, \"columnSpan\", {\n    get: function () {\n      return Math.abs(this._col2 - this._col) + 1;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRange.prototype, \"topRow\", {\n    get: function () {\n      return Math.min(this._row, this._row2);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRange.prototype, \"bottomRow\", {\n    get: function () {\n      return Math.max(this._row, this._row2);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRange.prototype, \"leftCol\", {\n    get: function () {\n      return Math.min(this._col, this._col2);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRange.prototype, \"rightCol\", {\n    get: function () {\n      return Math.max(this._col, this._col2);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRange.prototype, \"isValid\", {\n    get: function () {\n      return this._row > -1 && this._col > -1 && this._row2 > -1 && this._col2 > -1;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRange.prototype, \"isSingleCell\", {\n    get: function () {\n      return this._row == this._row2 && this._col == this._col2;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  CellRange.prototype.contains = function (e, t) {\n    var i = tryCast(e, CellRange);\n    if (i) return i.topRow >= this.topRow && i.bottomRow <= this.bottomRow && i.leftCol >= this.leftCol && i.rightCol <= this.rightCol;\n    if (isInt(e) && isInt(t)) return e >= this.topRow && e <= this.bottomRow && t >= this.leftCol && t <= this.rightCol;\n    throw \"contains expects a CellRange or row/column indices.\";\n  };\n\n  CellRange.prototype.containsRow = function (e) {\n    return asInt(e) >= this.topRow && e <= this.bottomRow;\n  };\n\n  CellRange.prototype.containsColumn = function (e) {\n    return asInt(e) >= this.leftCol && e <= this.rightCol;\n  };\n\n  CellRange.prototype.intersects = function (e) {\n    return this.intersectsRow(e) && this.intersectsColumn(e);\n  };\n\n  CellRange.prototype.intersectsRow = function (e) {\n    return e && !(this.bottomRow < e.topRow || this.topRow > e.bottomRow);\n  };\n\n  CellRange.prototype.intersectsColumn = function (e) {\n    return e && !(this.rightCol < e.leftCol || this.leftCol > e.rightCol);\n  };\n\n  CellRange.prototype.getRenderSize = function (e) {\n    var t = new Size(0, 0);\n\n    if (this.isValid) {\n      for (var i = this.topRow; i <= this.bottomRow; i++) e.rows[i] && (t.height += e.rows[i].renderSize);\n\n      for (var o = this.leftCol; o <= this.rightCol; o++) e.columns[o] && (t.width += e.columns[o].renderSize);\n    }\n\n    return t;\n  };\n\n  CellRange.prototype.equals = function (e) {\n    return e instanceof CellRange && this._row == e._row && this._col == e._col && this._row2 == e._row2 && this._col2 == e._col2;\n  };\n\n  CellRange.prototype.combine = function (e) {\n    return e ? new CellRange(Math.min(this.topRow, e.topRow), Math.min(this.leftCol, e.leftCol), Math.max(this.bottomRow, e.bottomRow), Math.max(this.rightCol, e.rightCol)) : this;\n  };\n\n  CellRange.prototype.toString = function () {\n    return format(\"({row}, {col})-({row2}, {col2})\", this);\n  };\n\n  return CellRange;\n}();\n\nexport { CellRange };\nexport var CellType;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.Cell = 1] = \"Cell\";\n  e[e.ColumnHeader = 2] = \"ColumnHeader\";\n  e[e.RowHeader = 3] = \"RowHeader\";\n  e[e.TopLeft = 4] = \"TopLeft\";\n  e[e.ColumnFooter = 5] = \"ColumnFooter\";\n  e[e.BottomLeft = 6] = \"BottomLeft\";\n}(CellType || (CellType = {}));\n\nvar GridPanel = function () {\n  function GridPanel(e, t, i, o, n) {\n    this._offsetY = 0;\n    this._rng = new CellRange();\n    this._g = asType(e, FlexGrid);\n    this._ct = asInt(t);\n    this._rows = asType(i, RowCollection);\n    this._cols = asType(o, ColumnCollection);\n    this._e = asType(n, HTMLElement);\n    this._vrb = new CellRange();\n  }\n\n  Object.defineProperty(GridPanel.prototype, \"grid\", {\n    get: function () {\n      return this._g;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(GridPanel.prototype, \"cellType\", {\n    get: function () {\n      return this._ct;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(GridPanel.prototype, \"viewRange\", {\n    get: function () {\n      return this._getViewRange();\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(GridPanel.prototype, \"width\", {\n    get: function () {\n      return this._cols.getTotalSize();\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(GridPanel.prototype, \"height\", {\n    get: function () {\n      return this._rows.getTotalSize();\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(GridPanel.prototype, \"rows\", {\n    get: function () {\n      return this._rows;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(GridPanel.prototype, \"columns\", {\n    get: function () {\n      return this._cols;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  GridPanel.prototype.getCellData = function (e, t, i) {\n    var o,\n        n = this._g,\n        r = this._rows[asNumber(e, !1, !0)],\n        l = null;\n\n    if (!r) return null;\n    t = this._toIndex(t);\n    o = this._cols[asNumber(t, !1, !0)];\n    var s = n ? n._getBindingColumn(this, e, o) : o,\n        a = null;\n    r instanceof GroupRow && r.dataItem instanceof CollectionViewGroup && !n.childItemsPath && (a = r.dataItem);\n    s.binding && r.dataItem && !a ? l = s._binding.getValue(r.dataItem) : r._ubv && (l = r._ubv[o._hash]);\n\n    if (null == l) {\n      var c = CellType;\n\n      switch (this._ct) {\n        case c.TopLeft:\n        case c.ColumnHeader:\n          e != this._rows.length - 1 && s == o || (l = s.header);\n          break;\n\n        case c.ColumnFooter:\n          if (r instanceof GroupRow && s.aggregate != Aggregate.None) {\n            var u = this._g.collectionView;\n\n            if (u) {\n              var d = tryCast(u, CollectionView);\n              l = d ? d.getAggregate(s.aggregate, s.binding) : getAggregate(s.aggregate, u.items, s.binding);\n            }\n          }\n\n          break;\n\n        case c.Cell:\n          r instanceof GroupRow && (t == this._cols.firstVisibleIndex ? l = r.getGroupHeader() : a && s.aggregate != Aggregate.None && (l = a.getAggregate(s.aggregate, s.binding, this._g.collectionView)));\n      }\n    }\n\n    if (i) {\n      var h = s.dataMap || r.dataMap;\n      this.cellType == CellType.Cell && h && (l = h.getDisplayValue(l));\n      l = null != l ? Globalize.format(l, s.format || r.format) : \"\";\n    }\n\n    return l;\n  };\n\n  GridPanel.prototype.setCellData = function (e, t, i, o, n, r) {\n    void 0 === o && (o = !0);\n    void 0 === n && (n = !0);\n    void 0 === r && (r = !1);\n\n    var l = this._g,\n        s = this._rows[asNumber(e, !1, !0)],\n        a = this._cols[asNumber(this._toIndex(t), !1, !0)],\n        c = DataType;\n\n    if (!s) return !1;\n    var u = l ? l._getBindingColumn(this, e, a) : a,\n        d = u.dataMap || s.dataMap;\n\n    if (this._ct == CellType.Cell) {\n      var h = u.getIsRequired(s),\n          p = u.isContentHtml || s.isContentHtml;\n\n      if (!r && d && null != i) {\n        var f = d.getKeyValue(i, p);\n\n        if (null == f && null == d.getDisplayValue(null)) {\n          if (d.getDisplayValue(i) != i) ;else if (!d.isEditable || d.displayMemberPath != d.selectedValuePath) {\n            if (\"\" != i || h || !l.commitEmptyEdits) return !1;\n            i = null;\n          }\n        } else i = f;\n      }\n\n      var g = c.Object,\n          _ = u.dataType || s.dataType,\n          m = this.getCellData(e, t, !1);\n\n      g = _ || getType(m);\n\n      if (null == i || \"\" === i && o && !d) {\n        if (h || !l.commitEmptyEdits && (null == m || \"\" === m)) return !1;\n        g != c.String && (i = null);\n        o = !1;\n      }\n\n      if (\"NaN\" == i && Number.isNaN(m) && !l.commitEmptyEdits) return !1;\n\n      if (o) {\n        var C = u.format || s.format;\n        C || g != c.Date || (C = \"d\");\n        u.mask && isString(i) && g != c.String && (i = i.replace(/_/g, \"\"));\n        i = changeType(i, g, C, m);\n        if (g != c.Object && getType(i) != g) return !1;\n      }\n    }\n\n    if (s.dataItem && u.binding) {\n      var w = u._binding,\n          v = s.dataItem,\n          y = w.getValue(v);\n\n      if (i !== y && (d && !d.serializeKeys || !DateTime.equals(i, y))) {\n        var b = l.collectionView,\n            R = b instanceof CollectionView && v != b.currentEditItem && b.trackChanges,\n            E = null;\n        R && (E = b._extend({}, v));\n        w.setValue(v, i);\n\n        if (R) {\n          var x = new NotifyCollectionChangedEventArgs(NotifyCollectionChangedAction.Change, v, b.items.indexOf(v));\n          b.onCollectionChanged(x);\n\n          b._trackItemChanged(v, E);\n        }\n      }\n    } else {\n      s._ubv || (s._ubv = {});\n      s._ubv[a._hash] = i;\n    }\n\n    n && l && l.invalidate();\n    return !0;\n  };\n\n  GridPanel.prototype.getCellBoundingRect = function (e, t, i) {\n    var o = this._g,\n        n = this.rows[e],\n        r = this.columns[this._toIndex(t)],\n        l = new Rect(r.pos, n.pos, r.renderSize, n.renderSize);\n\n    if (o.rightToLeft) {\n      l.left = this.hostElement.clientWidth - l.right;\n      isIE() || (l.left -= o._root.offsetWidth - o._root.clientWidth);\n    }\n\n    if (!i) {\n      var s = this.hostElement.getBoundingClientRect();\n      l.left += s.left;\n      l.top += s.top - this._offsetY;\n    }\n\n    e < this.rows.frozen && (l.top -= o.scrollPosition.y);\n    t < this.columns.frozen && (l.left -= o.scrollPosition.x * (o.rightToLeft ? -1 : 1));\n    return l;\n  };\n\n  GridPanel.prototype.getCellElement = function (e, t) {\n    var i = this.hostElement.children,\n        o = Math.min(e + 2, i.length);\n    t = this._toIndex(t);\n\n    for (var n = 0; n < o; n++) for (var r = i[n].children, l = Math.min(t + 2, r.length), s = 0; s < l; s++) {\n      var a = r[s],\n          c = a[GridPanel._INDEX_KEY];\n      if (c && (c.row == e && c.col == t || c.rng && c.rng.contains(e, t))) return a;\n    }\n\n    return null;\n  };\n\n  GridPanel.prototype.getSelectedState = function (e, t, i) {\n    var o = this._g,\n        n = o.selectionMode,\n        r = o._selHdl.selection,\n        l = SelectionMode,\n        s = SelectedState;\n    if (n == l.None) return s.None;\n    t = this._toIndex(t);\n\n    switch (this._ct) {\n      case CellType.Cell:\n        i || (i = o.getMergedRange(this, e, t));\n\n        var a = o._getAnchorCell();\n\n        if (i) {\n          if (i.contains(r.row, r.col)) {\n            if (!o.anchorCursor || null == a) return o.showMarquee ? s.Active : s.Cursor;\n            if (e == a.y && t == a.x || i.row == a.y && i.col == a.x) return o.showMarquee ? s.Active : s.Cursor;\n          }\n\n          if (i.intersects(r) && o.anchorCursor && null != a && (e == a.y && t == a.x || i.row == a.y && i.col == a.x)) return o.showMarquee ? s.Active : s.Cursor;\n          if (i.intersects(r) && n != l.ListBox) return s.Selected;\n\n          for (var c = i.leftCol; c <= i.rightCol; c++) if (o.columns[c] && o.columns[c].isSelected) return s.Selected;\n\n          for (var u = i.topRow; u <= i.bottomRow; u++) if (o.rows[u].isSelected) return s.Selected;\n        }\n\n        if (o.anchorCursor && null != a) {\n          if (e == a.y && t == a.x) return o.showMarquee ? s.Active : s.Cursor;\n        } else if (r.row == e && r.col == t) return o.showMarquee ? s.Active : s.Cursor;\n\n        if (o.rows[e].isSelected || o.columns[t].isSelected) return s.Selected;\n        if (n == l.MultiRange) for (var d = o._selHdl.extendedSelection, h = 0; h < d.length; h++) if (d[h].contains(e, t) || i && i.intersects(d[h])) return s.Selected;\n        if (i) switch (n) {\n          case l.Row:\n          case l.RowRange:\n            if (i.containsRow(r.row)) return s.Selected;\n        }\n        return n == l.ListBox ? s.None : (r = this._getAdjustedSelection(r)).containsRow(e) && r.containsColumn(t) ? s.Selected : s.None;\n\n      case CellType.ColumnHeader:\n        if (o.showSelectedHeaders & HeadersVisibility.Column && (o.columns[t].isSelected || r.containsColumn(t) || r.intersectsColumn(i))) {\n          i && (e = i.bottomRow);\n          if (e == this.rows.length - 1) return s.Selected;\n        }\n\n        break;\n\n      case CellType.RowHeader:\n        if (o.showSelectedHeaders & HeadersVisibility.Row && (o.rows[e].isSelected || r.containsRow(e) || r.intersectsRow(i))) {\n          i && (t = i.rightCol);\n          if (t == this.columns.length - 1) return s.Selected;\n        }\n\n    }\n\n    return s.None;\n  };\n\n  Object.defineProperty(GridPanel.prototype, \"hostElement\", {\n    get: function () {\n      return this._e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  GridPanel.prototype._toIndex = function (e) {\n    if (isString(e) && (e = this._cols.indexOf(e)) < 0) throw \"Invalid column name or binding.\";\n    return e;\n  };\n\n  GridPanel.prototype._getAdjustedSelection = function (e) {\n    var t = this._g,\n        i = this._rng,\n        o = SelectionMode;\n\n    switch (t.selectionMode) {\n      case o.Cell:\n        i.setRange(e.row, e.col, e.row, e.col);\n        break;\n\n      case o.Row:\n        i.setRange(e.row, 0, e.row, t.columns.length - 1);\n        break;\n\n      case o.RowRange:\n      case o.ListBox:\n        i.setRange(e.row, 0, e.row2, t.columns.length - 1);\n        break;\n\n      default:\n        i.copy(e);\n    }\n\n    return i;\n  };\n\n  GridPanel.prototype._getOffsetY = function () {\n    return this._offsetY;\n  };\n\n  GridPanel.prototype._updateContent = function (e, t, i) {\n    var o = this._g,\n        n = this._e,\n        r = this._rows,\n        l = this._cols,\n        s = this._ct;\n\n    if (s == CellType.ColumnHeader || s == CellType.ColumnFooter || s == CellType.RowHeader) {\n      var a = o._ptScrl,\n          c = n.style;\n      s == CellType.RowHeader ? c.top = a.y + \"px\" : o.rightToLeft ? c.right = a.x + \"px\" : c.left = a.x + \"px\";\n    }\n\n    if (this._offsetY != i) {\n      e = !1;\n      this._offsetY = i;\n    }\n\n    var u = this._getViewRange(),\n        d = u;\n\n    if (d.isValid) {\n      var h = r.length <= o._vtRows ? r.length : 0,\n          p = l.length <= o._vtCols ? l.length : 0;\n      d = new CellRange(Math.max(u.row - h, r.frozen), Math.max(u.col - p, l.frozen), Math.min(u.row2 + h, r.length - 1), Math.min(u.col2 + p, l.length - 1));\n    }\n\n    if (e && !t && this._vrb.contains(u) && !r.frozen && !l.frozen) return this._activeCell;\n    e && d.equals(this._vrb) || (t = !1);\n    e && !t && this._ct != CellType.TopLeft && this._reorderCells(d, this._vrb);\n    this._activeCell = null;\n    this._vru = u;\n    this._vrb = d;\n    this._recycle = e;\n    var f = 0;\n    this._ct != CellType.Cell || [HeadersFocusability.All, HeadersFocusability.Column].includes(this._g.headersFocusability) || (f = this._renderColHdrRow(d, t));\n\n    this._updateCells(t, f);\n\n    return this._activeCell;\n  };\n\n  GridPanel.prototype._updateCells = function (e, t) {\n    this._e;\n\n    for (var i = this._rows, o = 0; o < i.frozen && o < i.length; o++) t = this._renderRow(o, this._vrb, e, t);\n\n    for (o = this._vrb.topRow; o <= this._vrb.bottomRow && o > -1; o++) t = this._renderRow(o, this._vrb, e, t);\n\n    this._scanAndRemoveExtraCells(t);\n  };\n\n  GridPanel.prototype._scanAndRemoveExtraCells = function (e) {\n    for (var t = this._e; t.childElementCount > e;) {\n      var i = t.lastElementChild;\n      removeChild(i);\n\n      this._removeExtraCells(i, 0);\n    }\n  };\n\n  GridPanel.prototype._clearCells = function () {\n    for (var e = this.hostElement, t = this._g.cellFactory, i = e.childElementCount - 1; i >= 0; i--) {\n      var o = e.children[i];\n      removeChild(o);\n\n      for (var n = o.childElementCount - 1; n >= 0; n--) t.disposeCell(o.children[n]);\n    }\n  };\n\n  GridPanel.prototype._reorderCells = function (e, t) {\n    var i = this;\n\n    if (this._g._reorderCells && t.isValid && e.isValid && e.intersects(t)) {\n      var relocateForScrollToBeginning = function (e, t, o, n, r, l) {\n        assert(o < 0, \"Scroll delta must be a negative number\");\n        var s,\n            a,\n            c = -o,\n            u = t + (n - r + 1),\n            d = e.childElementCount - u;\n\n        if (d < c && d > 0) {\n          s = d;\n          a = c - d;\n        } else {\n          s = c;\n          a = 0;\n        }\n\n        if (s > 0) {\n          var h = i._createRange(e, u, u + s);\n\n          h && e.insertBefore(h.extractContents(), e.children[t]);\n        }\n\n        if (a > 0) for (var p = e.children[t], f = 0; f < a; f++) {\n          var g = document.createElement(\"div\");\n          g.className = l;\n          e.insertBefore(g, p);\n        }\n      };\n\n      if (e.row != t.row) {\n        var o = this._e;\n\n        if (0 != (a = e.row - t.row)) {\n          var n = this._ct == CellType.Cell ? 1 : 0,\n              r = o.childElementCount;\n          n += this.rows.frozen;\n\n          if (a > 0) {\n            var l = n,\n                s = Math.min(n + a, r);\n            (d = this._createRange(o, l, s)) && o.appendChild(d.extractContents());\n          } else relocateForScrollToBeginning(o, n, a, e.row2, t.row, \"wj-row\");\n        }\n      }\n\n      if (e.col != t.col) {\n        var a;\n        o = this._e;\n\n        if (0 != (a = e.col - t.col)) {\n          n = this._ct == CellType.Cell && this._g.rowHeaderPath ? 1 : 0;\n          n += this.columns.frozen;\n\n          for (var c = 0; c < o.children.length; c++) {\n            var u = o.children[c];\n            r = u.children.length;\n            if (hasClass(u, \"wj-row\")) if (a > 0) {\n              var d;\n              l = n, s = Math.min(n + a, r);\n              (d = this._createRange(u, l, s)) && u.appendChild(d.extractContents());\n            } else relocateForScrollToBeginning(u, n, a, e.col2, t.col, \"wj-cell\");\n          }\n        }\n      }\n    }\n  };\n\n  GridPanel.prototype._createRange = function (e, t, i) {\n    if (i > t && i <= e.children.length && t > -1) {\n      this._docRange || (this._docRange = document.createRange());\n      var o = this._docRange;\n      o.setStart(e, t);\n      o.setEnd(e, i);\n      return o;\n    }\n\n    return null;\n  };\n\n  GridPanel.prototype._renderColHdrRow = function (e, t) {\n    if (t) return 1;\n    var i = this._e.children[0];\n    i || (i = createElement('<div class=\"wj-row\" role=\"row\"></div>', this._e));\n    var o = this._g,\n        n = o ? o.columnHeaders.rows.ariaLabel : null;\n    setAttribute(i, \"aria-label\", n);\n    setAttribute(i, \"aria-selected\", null);\n\n    var r = 0,\n        l = this._g._getRowHeaderPath();\n\n    l && (r = this._renderRowHdrCell(i, -1, l.path));\n\n    for (var s = 0; s < this.columns.frozen && s < this.columns.length; s++) r = this._renderColHdrCell(i, s, e, t, r);\n\n    for (s = e.leftCol; s <= e.rightCol && s > -1; s++) r = this._renderColHdrCell(i, s, e, t, r);\n\n    [HeadersVisibility.None, HeadersVisibility.Row].includes(o.headersVisibility) && setAttribute(i.closest(\".wj-row\"), \"aria-hidden\", \"true\");\n\n    this._removeExtraCells(i, r);\n\n    return 1;\n  };\n\n  GridPanel.prototype._renderColHdrCell = function (e, t, i, o, n) {\n    var r = this.grid,\n        l = this.columns[t];\n    if (l.renderSize <= 0) return n;\n    if (o) return n + 1;\n    var s = e.children[n];\n    s || (s = createElement(GridPanel._HTML_CELL, e));\n\n    if (s && this._recycle && r._lazyRender) {\n      var a = s[GridPanel._INDEX_KEY];\n      if (a && -1 == a.row && a.col == t && t >= this.columns.frozen) return n + 1;\n    }\n\n    s.textContent = this.columns[t].header;\n    setCss(s, {\n      position: \"fixed\",\n      left: l.pos,\n      top: -32e3,\n      width: l.renderSize,\n      height: .1,\n      overflow: \"hidden\",\n      opacity: \"0\",\n      pointerEvents: \"none\"\n    });\n    colHdrAriaAttributes(s, l, this, r);\n    s[GridPanel._INDEX_KEY] = {\n      row: -1,\n      col: t,\n      panel: this\n    };\n    return n + 1;\n  };\n\n  GridPanel.prototype._renderRowHdrCell = function (e, t, i) {\n    var o = e.children[0];\n    o || (o = createElement(GridPanel._HTML_CELL, e));\n    o.setAttribute(\"role\", t < 0 ? \"columnheader\" : \"rowheader\");\n    o.textContent = i ? i.toString() : \"\";\n    setCss(o, {\n      position: \"fixed\",\n      left: -32e3,\n      top: -32e3,\n      width: .1,\n      height: .1,\n      overflow: \"hidden\",\n      opacity: \"0\"\n    });\n    o[GridPanel._INDEX_KEY] = {\n      row: t,\n      col: -1,\n      panel: this\n    };\n    return 1;\n  };\n\n  GridPanel.prototype._renderRow = function (e, t, i, o) {\n    var n = this._g,\n        r = this.rows[e];\n    if (r.renderSize <= 0) return o;\n    var l = this._e.children[o];\n    l || (l = createElement('<div class=\"wj-row\"></div>', this._e));\n\n    if (this._ct == CellType.Cell) {\n      l.setAttribute(\"role\", \"row\");\n      var s = SelectionMode,\n          a = r.isSelected;\n\n      switch (n.selectionMode) {\n        case s.Row:\n        case s.RowRange:\n          a = a || this._g._selHdl.selection.containsRow(e);\n      }\n\n      setAttribute(l, \"aria-selected\", !!a || null);\n      setAttribute(l, \"aria-level\", r instanceof GroupRow ? r.level + 1 : null);\n      setAttribute(l, \"aria-expanded\", r instanceof GroupRow ? !r.isCollapsed : null);\n      this.rows.ariaLabel && setAttribute(l, \"aria-label\", this.rows.ariaLabel);\n    }\n\n    var c = 0;\n\n    if (this._ct == CellType.Cell) {\n      var u = this._g._getRowHeaderPath();\n\n      u && (c = this._renderRowHdrCell(l, e, u.getValue(r.dataItem)));\n    }\n\n    for (var d = 0; d < this.columns.frozen && d < this.columns.length; d++) c = this._renderCell(l, e, d, t, i, c);\n\n    for (d = t.leftCol; d <= t.rightCol && d > -1; d++) c = this._renderCell(l, e, d, t, i, c);\n\n    this._removeExtraCells(l, c);\n\n    return o + 1;\n  };\n\n  GridPanel.prototype._renderCell = function (e, t, i, o, n, r) {\n    var l = this._g,\n        s = this._ct == CellType.Cell ? l.getMergedRange(this, t, i, !1) : l.getMergedRange(this, t, i);\n\n    if (s) {\n      for (var a = Math.max(o.row, s.row); a < t; a++) if (this.rows[a].renderSize) return r;\n\n      for (a = Math.max(o.col, s.col); a < i; a++) if (this.columns[a].renderSize) return r;\n\n      if (t >= s.row && t <= s.row2 && i > s.col && i <= s.col2 && this._ct === CellType.Cell && s.isSingleCell) return r;\n      var c = this.columns.frozen;\n      if (c && s.col < c && s.col2 >= c && i > s.col) return r;\n    }\n\n    var u = this.columns[i];\n    if ((!u || u.renderSize <= 0) && (!s || s.getRenderSize(this).width <= 0)) return r;\n    var d = e.children[r];\n\n    if (d && !n && this._recycle && l._lazyRender && !l.activeEditor) {\n      var h = d[GridPanel._INDEX_KEY];\n      h && h.row == t && h.col == i && h.rng == s && t >= this.rows.frozen && i >= this.columns.frozen && (n = !0);\n    }\n\n    var p = SelectedState,\n        f = this.getSelectedState(t, i, s),\n        g = f == p.Cursor || f == p.Active;\n\n    if (d && n) {\n      toggleClass(d, \"wj-state-active\", g);\n      toggleClass(d, \"wj-state-selected\", f == p.Cursor);\n      toggleClass(d, \"wj-state-multi-selected\", f == p.Selected);\n\n      var _ = d.querySelector(\".wj-column-selector\");\n\n      _ ? g || f != p.None ? setAttribute(d, \"aria-selected\", !!_.checked) : setAttribute(d, \"aria-selected\", null) : setAttribute(d, \"aria-selected\", !(!g && f == p.None) || null);\n      g && (this._activeCell = d);\n      return r + 1;\n    }\n\n    d || (d = createElement(GridPanel._HTML_CELL, e));\n    g && (this._activeCell = d);\n\n    if (this._ct == CellType.Cell) {\n      setAttribute(d, \"role\", \"gridcell\");\n      setAttribute(d, \"aria-selected\", !(f == p.None && !g) || null);\n      var m = !l.canEditCell(t, i) || null;\n      setAttribute(d, \"aria-readonly\", m);\n      setAttribute(d, \"aria-required\", m ? null : u.getIsRequired());\n    }\n\n    l.cellFactory.updateCell(this, t, i, d, s);\n    d[GridPanel._INDEX_KEY] = {\n      row: t,\n      col: i,\n      rng: s,\n      panel: this\n    };\n    return r + 1;\n  };\n\n  GridPanel.prototype._removeExtraCells = function (e, t) {\n    for (var i = this._g.cellFactory; e.childElementCount > t;) {\n      var o = e.lastElementChild;\n      removeChild(o);\n      i.disposeCell(o);\n    }\n\n    for (var n = e.childElementCount - 1; n > -1; --n) {\n      var r = [e.children[n], e.children[n - 1]],\n          l = r[1];\n\n      if ((o = r[0]) && l) {\n        var s = o.getAttribute(\"style\") === l.getAttribute(\"style\"),\n            a = o.innerHTML === l.innerHTML;\n        if (!s || !a) break;\n        removeChild(o);\n        i.disposeCell(o);\n      }\n    }\n  };\n\n  GridPanel.prototype._getViewRange = function () {\n    var e = this._g,\n        t = e._ptScrl,\n        i = e._szClientSB,\n        o = this._rows,\n        n = this._cols,\n        r = new CellRange(0, 0, o.length - 1, n.length - 1);\n\n    if (this._ct == CellType.Cell || this._ct == CellType.RowHeader) {\n      var l = -t.y + this._offsetY,\n          s = i.height;\n\n      if ((d = Math.min(o.frozen, o.length - 1)) > 0) {\n        l += f = o[d - 1].pos;\n        s -= f;\n      }\n\n      if (d > 0 && o[d].pos > i.height) r.row = r.row2 = -1;else {\n        r.row = Math.min(o.length - 1, Math.max(d, o.getItemAt(l)));\n        r.row2 = Math.max(r.row, o.getItemAt(l + s));\n      }\n      var a = e.hostElement;\n\n      if (e._clipToScreen && a) {\n        var c = a.getBoundingClientRect(),\n            u = -c.top - e.cells._e.offsetTop;\n        c.top < 0 && (r.row = Math.max(r.row, o.getItemAt(u) - 1));\n        c.bottom > innerHeight && (r.row2 = Math.min(r.row2, o.getItemAt(u + innerHeight) + 1));\n      }\n    }\n\n    if (this._ct == CellType.Cell || this._ct == CellType.ColumnHeader) {\n      var d,\n          h = -t.x,\n          p = i.width;\n\n      if ((d = Math.min(n.frozen, n.length - 1)) > 0) {\n        var f;\n        h += f = n[d - 1].pos;\n        p -= f;\n      }\n\n      if (d > 0 && n[d].pos > i.width) r.col = r.col2 = -1;else {\n        r.col = Math.min(n.length - 1, Math.max(d, n.getItemAt(h)));\n        r.col2 = Math.max(r.col, n.getItemAt(h + p));\n      }\n    }\n\n    o.length <= o.frozen && (r.row = r.row2 = -1);\n    n.length <= n.frozen && (r.col = r.col2 = -1);\n    return r;\n  };\n\n  GridPanel.prototype._getFrozenPos = function () {\n    var e = this._rows.frozen,\n        t = this._cols.frozen,\n        i = e > 0 ? this._rows[e - 1] : null,\n        o = t > 0 ? this._cols[t - 1] : null,\n        n = i ? i.pos + i.renderSize : 0,\n        r = o ? o.pos + o.renderSize : 0;\n    return new Point(r, n);\n  };\n\n  GridPanel._INDEX_KEY = \"wj-cell-index\";\n  GridPanel._HTML_CELL = '<div class=\"wj-cell\" tabindex=\"-1\"></div>';\n  return GridPanel;\n}();\n\nexport { GridPanel };\n\nvar CellRangeEventArgs = function (e) {\n  __extends(CellRangeEventArgs, e);\n\n  function CellRangeEventArgs(t, i, o) {\n    var n = e.call(this) || this;\n    n._p = asType(t, GridPanel, !0);\n    n._rng = asType(i, CellRange, !0);\n    n._data = o;\n    return n;\n  }\n\n  Object.defineProperty(CellRangeEventArgs.prototype, \"panel\", {\n    get: function () {\n      return this._p;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRangeEventArgs.prototype, \"range\", {\n    get: function () {\n      return this._rng.clone();\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRangeEventArgs.prototype, \"row\", {\n    get: function () {\n      return this._rng.row;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRangeEventArgs.prototype, \"col\", {\n    get: function () {\n      return this._rng.col;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellRangeEventArgs.prototype, \"data\", {\n    get: function () {\n      return this._data;\n    },\n    set: function (e) {\n      this._data = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  CellRangeEventArgs.prototype.getRow = function () {\n    return this._p && this.row > -1 ? this._p.rows[this.row] : null;\n  };\n\n  CellRangeEventArgs.prototype.getColumn = function (e) {\n    var t = this._p,\n        i = t && this.col > -1 ? t.columns[this.col] : null;\n\n    if (i && e) {\n      var o = t.grid;\n      i = t.cellType === CellType.ColumnHeader && o._hasColumnGroups() ? o._getColumnGroup(this.row, this.col) : t.grid._getBindingColumn(t, this.row, i);\n    }\n\n    return i;\n  };\n\n  return CellRangeEventArgs;\n}(CancelEventArgs);\n\nexport { CellRangeEventArgs };\n\nvar FormatItemEventArgs = function (e) {\n  __extends(FormatItemEventArgs, e);\n\n  function FormatItemEventArgs(t, i, o, n) {\n    void 0 === n && (n = !0);\n    var r = e.call(this, t, i) || this;\n    r._updateContent = !0;\n    r._cell = asType(o, HTMLElement);\n    return r;\n  }\n\n  Object.defineProperty(FormatItemEventArgs.prototype, \"cell\", {\n    get: function () {\n      return this._cell;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FormatItemEventArgs.prototype, \"updateContent\", {\n    get: function () {\n      return this._updateContent;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  return FormatItemEventArgs;\n}(CellRangeEventArgs);\n\nexport { FormatItemEventArgs };\n\nvar CellEditEndingEventArgs = function (e) {\n  __extends(CellEditEndingEventArgs, e);\n\n  function CellEditEndingEventArgs() {\n    var t = null !== e && e.apply(this, arguments) || this;\n    t._stayInEditMode = !1;\n    t._refresh = !0;\n    return t;\n  }\n\n  Object.defineProperty(CellEditEndingEventArgs.prototype, \"stayInEditMode\", {\n    get: function () {\n      return this._stayInEditMode;\n    },\n    set: function (e) {\n      this._stayInEditMode = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(CellEditEndingEventArgs.prototype, \"refresh\", {\n    get: function () {\n      return this._refresh;\n    },\n    set: function (e) {\n      this._refresh = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  return CellEditEndingEventArgs;\n}(CellRangeEventArgs);\n\nexport { CellEditEndingEventArgs };\nexport var SelectionMode;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.Cell = 1] = \"Cell\";\n  e[e.CellRange = 2] = \"CellRange\";\n  e[e.Row = 3] = \"Row\";\n  e[e.RowRange = 4] = \"RowRange\";\n  e[e.ListBox = 5] = \"ListBox\";\n  e[e.MultiRange = 6] = \"MultiRange\";\n}(SelectionMode || (SelectionMode = {}));\nexport var SelectedState;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.Selected = 1] = \"Selected\";\n  e[e.Cursor = 2] = \"Cursor\";\n  e[e.Active = 3] = \"Active\";\n}(SelectedState || (SelectedState = {}));\nexport var SelMove;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.Next = 1] = \"Next\";\n  e[e.Prev = 2] = \"Prev\";\n  e[e.NextPage = 3] = \"NextPage\";\n  e[e.PrevPage = 4] = \"PrevPage\";\n  e[e.Home = 5] = \"Home\";\n  e[e.End = 6] = \"End\";\n  e[e.NextCell = 7] = \"NextCell\";\n  e[e.PrevCell = 8] = \"PrevCell\";\n  e[e.NextEditableCell = 9] = \"NextEditableCell\";\n  e[e.PrevEditableCell = 10] = \"PrevEditableCell\";\n}(SelMove || (SelMove = {}));\n\nvar _SelectionHandler = function () {\n  function _SelectionHandler(e) {\n    this._sel = new CellRange(0, 0);\n    this._xSel = new ObservableArray();\n    this._mode = SelectionMode.CellRange;\n    this._g = e;\n    this._e = new CellRangeEventArgs(e.cells, new CellRange(0, 0));\n\n    this._xSel.collectionChanged.addHandler(function () {\n      e.invalidate();\n    });\n  }\n\n  Object.defineProperty(_SelectionHandler.prototype, \"selectionMode\", {\n    get: function () {\n      return this._mode;\n    },\n    set: function (e) {\n      e != this._mode && this._setSelectionMode(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(_SelectionHandler.prototype, \"selection\", {\n    get: function () {\n      return this._sel;\n    },\n    set: function (e) {\n      this.select(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(_SelectionHandler.prototype, \"extendedSelection\", {\n    get: function () {\n      return this._xSel;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  _SelectionHandler.prototype.select = function (e, t, i) {\n    void 0 === t && (t = !0);\n    void 0 === i && (i = !1);\n    var o = this._g,\n        n = this._e.range,\n        r = this._sel,\n        l = n,\n        s = !1,\n        a = SelectionMode;\n\n    if (isNumber(e) && isString(t)) {\n      var c = o.columns.indexOf(t);\n      if (c < 0) throw \"Invalid column name or binding.\";\n      n.setRange(e, c);\n      t = !0;\n    } else if (isNumber(e) && isNumber(t)) {\n      n.setRange(e, t);\n      t = !0;\n    } else e instanceof CellRange ? n.copy(e) : assert(!1, \"CellRange expected\");\n\n    switch (o.selectionMode) {\n      case a.Cell:\n        l.row2 = l.row;\n        l.col2 = l.col;\n        break;\n\n      case a.Row:\n        l.row2 = l.row;\n        break;\n\n      case a.ListBox:\n        s = !0;\n    }\n\n    var u = l.equals(r);\n    if (u && s) for (var d = 0; d < o.rows.length; d++) if (o.rows[d].isSelected !== l.containsRow(d)) {\n      u = !1;\n      break;\n    }\n\n    if (u) {\n      t && o.isRangeValid(l) && this._showSelection();\n      return !0;\n    }\n\n    var h = Control.getControl(closest(getActiveElement(), \".wj-flexgrid\"));\n    if (h && h.activeEditor && !h.finishEditing()) return !1;\n    var p = this._e;\n    p._rng = l;\n    p.cancel = !1;\n    if (!o.onSelectionChanging(p) && !i) return !1;\n    s && o.rows.forEach(function (e, t) {\n      e._setFlag(RowColFlags.Selected, l.containsRow(t), !0);\n    });\n    l.row = Math.min(l.row, o.rows.length - 1);\n    l.row2 = Math.min(l.row2, o.rows.length - 1);\n\n    this._sel.copy(l);\n\n    o.refreshCells(!1, !0, !0);\n    t && this._showSelection();\n    var f = o.collectionView;\n\n    if (f) {\n      var g = o._getCvIndex(l.row);\n\n      f.moveCurrentToPosition(g);\n    }\n\n    o.onSelectionChanged(p);\n    return !0;\n  };\n\n  _SelectionHandler.prototype.moveSelection = function (e, t, i) {\n    var o = this._g,\n        n = this._sel,\n        r = i && o.anchorCursor ? new CellRange(n.row2, n.col2) : new CellRange(n.row, n.col);\n\n    this._adjustReferenceCell(r, e, t);\n\n    var l = r.row,\n        s = r.col,\n        a = o.columns,\n        c = Math.max(0, o._szClient.height - o.columnHeaders.height),\n        u = SelMove;\n\n    switch (t) {\n      case u.NextCell:\n      case u.NextEditableCell:\n        if ((s = this._getNextColumnCell(l, s, t)) == r.col && (l = this._getNextRowCell(l, s, t)) > r.row) {\n          s = this._getNextColumnCell(l, 0, t);\n          s = this._getNextColumnCell(l, s, t == u.NextCell ? u.PrevCell : u.PrevEditableCell);\n        }\n\n        o.select(l, s);\n        break;\n\n      case u.PrevCell:\n      case u.PrevEditableCell:\n        if ((s = this._getNextColumnCell(l, r.col, t)) == r.col && (l = this._getNextRowCell(l, s, t)) < r.row) {\n          s = this._getNextColumnCell(l, a.length - 1, t);\n          s = this._getNextColumnCell(l, s, t == u.PrevCell ? u.NextCell : u.NextEditableCell);\n        }\n\n        o.select(l, s);\n        break;\n\n      default:\n        if (!this.moveHeaderCells(e, t, l, s)) {\n          l = this._getNextRowCell(l, s, e, c);\n          s = this._getNextColumnCell(l, s, t, c);\n          i ? o.selection = o.anchorCursor ? new CellRange(n.row, n.col, l, s) : new CellRange(l, s, n.row2, n.col2) : o.select(l, s);\n          break;\n        }\n\n    }\n  };\n\n  _SelectionHandler.prototype.moveHeaderCells = function (e, t, i, o) {\n    var n = this._g,\n        r = [HeadersFocusability.Column, HeadersFocusability.All].includes(n.headersFocusability),\n        l = [HeadersFocusability.Row, HeadersFocusability.All].includes(n.headersFocusability),\n        s = n.activePanelType === CellType.ColumnHeader,\n        a = n.activePanelType === CellType.RowHeader,\n        c = n.activePanelType === CellType.TopLeft,\n        u = n.activePanelType === CellType.Cell,\n        d = 2 === e ? \"up\" : 1 === e ? \"down\" : 2 === t ? \"left\" : 1 === t ? \"right\" : void 0,\n        h = Array.from(n.activePanel.hostElement.getElementsByClassName(\"wj-focus-header-cell\"))[0];\n\n    if (u && r && 0 === i && \"up\" === d) {\n      n.activePanelType = CellType.ColumnHeader;\n      var p = Array.from(n.activePanel.hostElement.getElementsByClassName(\"wj-row\")),\n          f = Array.from(n._gpCells.hostElement.getElementsByClassName(\"wj-row\"))[0],\n          g = p[p.length - 1];\n      (Array.from(f.getElementsByClassName(\"wj-cell\")).find(function (e) {\n        return e[\"wj-cell-index\"].col === o;\n      }) || Array.from(f.getElementsByClassName(\"wj-cell\"))[0]).setAttribute(\"tabindex\", \"-1\");\n      (m = Array.from(g.getElementsByClassName(\"wj-cell\")).find(function (e) {\n        return e[\"wj-cell-index\"].col === o;\n      })).classList.add(\"wj-focus-header-cell\");\n      m.setAttribute(\"tabindex\", \"0\");\n\n      n._hideMarquee();\n\n      m.focus();\n      return !0;\n    }\n\n    if (u && l && 0 === o && \"left\" === d) {\n      n.activePanelType = CellType.RowHeader;\n\n      var _ = (p = Array.from(n.activePanel.hostElement.getElementsByClassName(\"wj-row\"))).find(function (e) {\n        return Array.from(e.getElementsByClassName(\"wj-cell\")).some(function (e) {\n          return e[\"wj-cell-index\"].row === i;\n        });\n      });\n\n      if (!_) return !0;\n      var m,\n          C = Array.from(_.getElementsByClassName(\"wj-cell\"));\n      (m = C[C.length - 1]).classList.add(\"wj-focus-header-cell\");\n      m.setAttribute(\"tabindex\", \"0\");\n\n      n._hideMarquee();\n\n      m.focus();\n      return !0;\n    }\n\n    if (s && h) {\n      var w = h.nextElementSibling,\n          v = h.previousElementSibling;\n\n      if (h && \"right\" === d && w) {\n        h.classList.remove(\"wj-focus-header-cell\");\n        h.setAttribute(\"tabindex\", \"-1\");\n        n.scrollIntoView(0, h[\"wj-cell-index\"].col + 1);\n        setTimeout(function () {\n          w.classList.add(\"wj-focus-header-cell\");\n          w.setAttribute(\"tabindex\", \"0\");\n\n          n._hideMarquee();\n\n          w.focus();\n        }, 10);\n      } else if (h && \"left\" === d) {\n        h.classList.remove(\"wj-focus-header-cell\");\n        h.setAttribute(\"tabindex\", \"-1\");\n\n        if (v) {\n          n.scrollIntoView(0, h[\"wj-cell-index\"].col - 1);\n          setTimeout(function () {\n            v.classList.add(\"wj-focus-header-cell\");\n            v.setAttribute(\"tabindex\", \"0\");\n\n            n._hideMarquee();\n\n            v.focus();\n          }, 10);\n        } else {\n          n.activePanelType = CellType.TopLeft;\n          var y = Array.from(n.activePanel.hostElement.getElementsByClassName(\"wj-cell\"))[0];\n          y && setTimeout(function () {\n            y.classList.add(\"wj-focus-header-cell\");\n            y.setAttribute(\"tabindex\", \"0\");\n\n            n._hideMarquee();\n\n            y.focus();\n          }, 10);\n        }\n      } else if (h && \"down\" === d) {\n        var b = Array.from(h.parentElement.children).indexOf(h);\n        n.activePanelType = CellType.Cell;\n        n.focus();\n        n.select(0, b);\n\n        n._updateMarquee();\n      }\n\n      return !0;\n    }\n\n    if (a && h) {\n      b = Array.from(h.parentElement.children).indexOf(h);\n      var R = h[\"wj-cell-index\"].row,\n          E = h.parentElement.nextElementSibling && Array.from(h.parentElement.nextElementSibling.children)[b],\n          x = h.parentElement.previousElementSibling && Array.from(h.parentElement.previousElementSibling.children)[b];\n\n      if (\"up\" === d) {\n        h.classList.remove(\"wj-focus-header-cell\");\n        h.setAttribute(\"tabindex\", \"-1\");\n\n        if (x) {\n          n.scrollIntoView(R - 1, 0);\n          setTimeout(function () {\n            x.classList.add(\"wj-focus-header-cell\");\n            x.setAttribute(\"tabindex\", \"0\");\n            x.focus();\n          }, 10);\n        } else {\n          n.activePanelType = CellType.TopLeft;\n          var S = Array.from(n.activePanel.hostElement.getElementsByClassName(\"wj-cell\"))[0];\n          S && setTimeout(function () {\n            S.classList.add(\"wj-focus-header-cell\");\n            S.setAttribute(\"tabindex\", \"0\");\n\n            n._hideMarquee();\n\n            S.focus();\n          }, 10);\n        }\n      } else if (\"down\" === d && E) {\n        h.classList.remove(\"wj-focus-header-cell\");\n        h.setAttribute(\"tabindex\", \"-1\");\n        n.scrollIntoView(R + 1, 0);\n        setTimeout(function () {\n          E.classList.add(\"wj-focus-header-cell\");\n          E.setAttribute(\"tabindex\", \"0\");\n          E.focus();\n        }, 10);\n      } else if (h && \"right\" === d) {\n        n.activePanelType = CellType.Cell;\n        h.classList.remove(\"wj-focus-header-cell\");\n        h.setAttribute(\"tabindex\", \"-1\");\n        n.focus();\n        n.select(R, 0);\n      }\n\n      return !0;\n    }\n\n    if (c && h) {\n      if (\"down\" === d && l) {\n        n.activePanelType = CellType.RowHeader;\n        h.classList.remove(\"wj-focus-header-cell\");\n        h.setAttribute(\"tabindex\", \"-1\");\n        var H = Array.from(n.activePanel.hostElement.getElementsByClassName(\"wj-cell\"))[0];\n        H && setTimeout(function () {\n          H.classList.add(\"wj-focus-header-cell\");\n          H.setAttribute(\"tabindex\", \"0\");\n          H.focus();\n        }, 10);\n      }\n\n      if (\"right\" === d && r) {\n        n.activePanelType = CellType.ColumnHeader;\n        h.classList.remove(\"wj-focus-header-cell\");\n        h.setAttribute(\"tabindex\", \"-1\");\n        var M = Array.from(n.activePanel.hostElement.getElementsByClassName(\"wj-cell\"))[0];\n        M && setTimeout(function () {\n          M.classList.add(\"wj-focus-header-cell\");\n          M.setAttribute(\"tabindex\", \"0\");\n          M.focus();\n        }, 10);\n      }\n\n      return !0;\n    }\n\n    return !1;\n  };\n\n  _SelectionHandler.prototype._getNextColumnCell = function (e, t, i, o) {\n    void 0 === o && (o = 0);\n    return this._g.columns.getNextCell(t, i, o);\n  };\n\n  _SelectionHandler.prototype._getNextRowCell = function (e, t, i, o) {\n    void 0 === o && (o = 0);\n    return this._g.rows.getNextCell(e, i, o);\n  };\n\n  _SelectionHandler.prototype._setSelectionMode = function (e) {\n    var t = this._g,\n        i = t.rows;\n    this._mode = e;\n\n    this._xSel.clear();\n\n    if (i.length) {\n      this._adjustSelection(this._sel, e, !0);\n\n      t.invalidate();\n    }\n  };\n\n  _SelectionHandler.prototype._adjustSelection = function (e, t, i) {\n    void 0 === i && (i = !1);\n    var o = this._g.rows,\n        n = SelectionMode,\n        r = this._g.hostElement.querySelector(\"input.wj-column-selector\") instanceof HTMLInputElement;\n    if (!r) for (var l = 0; l < o.length; l++) o[l]._setFlag(RowColFlags.Selected, !1, !0);\n    var s = e.clone();\n\n    switch (t) {\n      case n.None:\n        s = new CellRange();\n        break;\n\n      case n.Cell:\n        s = new CellRange(e.row, e.col);\n        break;\n\n      case n.ListBox:\n        if (r) return;\n\n        for (l = 0; l < o.length; l++) o[l]._setFlag(RowColFlags.Selected, s.containsRow(l), !0);\n\n    }\n\n    this.select(s, !1, i);\n  };\n\n  _SelectionHandler.prototype._expandSelection = function () {\n    var e = this._g,\n        t = e.selectionMode;\n\n    if (e.expandSelectionOnCopyPaste && t) {\n      var i = this.selection,\n          o = SelectionMode;\n\n      switch (t) {\n        case o.Cell:\n        case o.Row:\n          break;\n\n        case o.ListBox:\n          this._expandSelectedRows();\n\n          break;\n\n        case o.RowRange:\n          i = new CellRange(i.topRow, 0, i.bottomRow, e.columns.length - 1);\n\n        default:\n          var n = this._expandSelectionRange(i);\n\n          n && this.select(n, !1);\n      }\n    }\n  };\n\n  _SelectionHandler.prototype._deselectRange = function (e) {\n    var t = this.selection,\n        i = this.extendedSelection;\n\n    if (t.contains(e)) {\n      var o = i.length;\n      this._sel = o ? i[o - 1] : new CellRange();\n      o && i.removeAt(o - 1);\n      return !0;\n    }\n\n    for (var n = 0; n < i.length; n++) if (i[n].contains(e)) {\n      i.removeAt(n);\n      return !0;\n    }\n\n    return !1;\n  };\n\n  _SelectionHandler.prototype._expandSelectedRows = function () {\n    assert(this.selectionMode == SelectionMode.ListBox, \"ListBox mode expected\");\n\n    for (var e = this._g, t = e.selectedRows.map(function (e) {\n      return e.index;\n    }), i = [], o = 0; o < t.length; o++) for (var n = new CellRange(t[o], 0, t[o], e.columns.length - 1), r = this._expandSelectionRange(n) || n, l = r.topRow; l <= r.bottomRow; l++) -1 === i.indexOf(l) && i.push(l);\n\n    i.sort();\n\n    this._selectRows(i);\n  };\n\n  _SelectionHandler.prototype._expandSelectionRange = function (e) {\n    var t = this._g,\n        i = t.cells,\n        o = t.getMergedRange(i, e.topRow, e.leftCol, !1),\n        n = t.getMergedRange(i, e.bottomRow, e.leftCol, !1),\n        r = t.getMergedRange(i, e.topRow, e.rightCol, !1),\n        l = t.getMergedRange(i, e.bottomRow, e.rightCol, !1);\n\n    if (o || n || r || l) {\n      o = o || new CellRange(e.topRow, e.leftCol);\n      n = n || new CellRange(e.bottomRow, e.leftCol);\n      r = r || new CellRange(e.topRow, e.rightCol);\n      l = l || new CellRange(e.bottomRow, e.rightCol);\n      return new CellRange(Math.min(o.topRow, n.topRow, r.topRow, l.topRow), Math.min(o.leftCol, n.leftCol, r.leftCol, l.leftCol), Math.max(o.bottomRow, n.bottomRow, r.bottomRow, l.bottomRow), Math.max(o.rightCol, n.rightCol, r.rightCol, l.rightCol));\n    }\n\n    return null;\n  };\n\n  _SelectionHandler.prototype._selectRows = function (e) {\n    assert(this.selectionMode == SelectionMode.ListBox, \"ListBox mode expected\");\n\n    for (var t = this._g, i = 0, o = !0; i < t.rows.length; i++) {\n      var n = t.rows[i],\n          r = e && e.indexOf(n.index) > -1;\n\n      if (r && o) {\n        o = !1;\n        this.select(i, this.selection.col);\n      }\n\n      n.isSelected = r;\n    }\n  };\n\n  _SelectionHandler.prototype._showSelection = function () {\n    var e = this._g,\n        t = this._sel;\n    e.anchorCursor ? e.scrollIntoView(t.row2, t.col2) : e.scrollIntoView(t.row, t.col);\n  };\n\n  _SelectionHandler.prototype._adjustReferenceCell = function (e, t, i) {\n    var o = this._g,\n        n = o.getMergedRange(o.cells, e.row, e.col);\n\n    if (n && !n.isSingleCell) {\n      var r = SelMove;\n\n      switch (t) {\n        case r.Next:\n        case r.NextCell:\n        case r.NextEditableCell:\n          e.row = n.bottomRow;\n          break;\n\n        case r.Prev:\n        case r.PrevCell:\n        case r.PrevEditableCell:\n          e.row = n.topRow;\n      }\n\n      switch (i) {\n        case r.Next:\n        case r.NextCell:\n        case r.NextEditableCell:\n          e.col = n.rightCol;\n          break;\n\n        case r.Prev:\n        case r.PrevCell:\n        case r.PrevEditableCell:\n          e.col = n.leftCol;\n      }\n    }\n  };\n\n  return _SelectionHandler;\n}();\n\nexport { _SelectionHandler };\nexport var RowColFlags;\n!function (e) {\n  e[e.Visible = 1] = \"Visible\";\n  e[e.AllowResizing = 2] = \"AllowResizing\";\n  e[e.AllowDragging = 4] = \"AllowDragging\";\n  e[e.AllowMerging = 8] = \"AllowMerging\";\n  e[e.AllowSorting = 16] = \"AllowSorting\";\n  e[e.AutoGenerated = 32] = \"AutoGenerated\";\n  e[e.Collapsed = 64] = \"Collapsed\";\n  e[e.ParentCollapsed = 128] = \"ParentCollapsed\";\n  e[e.Selected = 256] = \"Selected\";\n  e[e.ReadOnly = 512] = \"ReadOnly\";\n  e[e.HtmlContent = 1024] = \"HtmlContent\";\n  e[e.WordWrap = 2048] = \"WordWrap\";\n  e[e.MultiLine = 4096] = \"MultiLine\";\n  e[e.HasTemplate = 8192] = \"HasTemplate\";\n  e[e.RowDefault = 3] = \"RowDefault\";\n  e[e.ColumnDefault = 23] = \"ColumnDefault\";\n}(RowColFlags || (RowColFlags = {}));\n\nvar RowCol = function () {\n  function RowCol() {\n    this._type = null;\n    this._align = null;\n    this._inpType = null;\n    this._mask = null;\n    this._maxLen = null;\n    this._required = null;\n    this._fmt = null;\n    this._map = null;\n    this._ddCssClass = null;\n    this._cssClass = null;\n    this._cssClassAll = null;\n    this._szMin = null;\n    this._szMax = null;\n    this._sz = null;\n    this._pos = 0;\n    this._idx = -1;\n    this._idxVis = -1;\n    this._idxData = -1;\n    this.gridChanged = new Event();\n  }\n\n  Object.defineProperty(RowCol.prototype, \"binding\", {\n    get: function () {\n      return this._binding ? this._binding.path : null;\n    },\n    set: function (e) {\n      if (e != this.binding) {\n        var t = asString(e);\n        this._binding = t ? new Binding(t) : null;\n\n        if (!this._type && this.grid && this._binding) {\n          var i = this.grid.collectionView;\n\n          if (i && i.sourceCollection && i.sourceCollection.length) {\n            var o = i.sourceCollection[0];\n            this._type = getType(this._binding.getValue(o));\n          }\n        }\n\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"sortMemberPath\", {\n    get: function () {\n      return this._bindingSort ? this._bindingSort.path : null;\n    },\n    set: function (e) {\n      if (e != this.sortMemberPath) {\n        var t = asString(e);\n        this._bindingSort = t ? new Binding(t) : null;\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"dataType\", {\n    get: function () {\n      return this._type;\n    },\n    set: function (e) {\n      e = asEnum(e, DataType, !0);\n\n      if (this._type != e) {\n        this._type = e;\n        this.grid && this.grid.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"inputType\", {\n    get: function () {\n      return this._inpType;\n    },\n    set: function (e) {\n      this._inpType = asString(e, !0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"mask\", {\n    get: function () {\n      return this._mask;\n    },\n    set: function (e) {\n      this._mask = asString(e, !0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"maxLength\", {\n    get: function () {\n      return this._maxLen;\n    },\n    set: function (e) {\n      this._maxLen = asNumber(e, !0, !0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"align\", {\n    get: function () {\n      return this._align;\n    },\n    set: function (e) {\n      if (this._align != e) {\n        this._align = e;\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"format\", {\n    get: function () {\n      return this._fmt;\n    },\n    set: function (e) {\n      if (this._fmt != e) {\n        this._fmt = e;\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"dataMap\", {\n    get: function () {\n      return this._map;\n    },\n    set: function (e) {\n      if (this._map != e) {\n        this._map && this._map.mapChanged.removeHandler(this.onPropertyChanged, this);\n        isArray(e) && (e = new DataMap(e, null, null));\n        this._map = asType(e, DataMap, !0);\n        this._map && this._map.mapChanged.addHandler(this.onPropertyChanged, this);\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"dataMapEditor\", {\n    get: function () {\n      return null != this._mapEditor ? this._mapEditor : DataMapEditor.DropDownList;\n    },\n    set: function (e) {\n      if (e != this._mapEditor) {\n        this._mapEditor = asEnum(e, DataMapEditor);\n        this.grid && this.grid.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"showDropDown\", {\n    get: function () {\n      return this.dataMapEditor == DataMapEditor.DropDownList;\n    },\n    set: function (e) {\n      _deprecated(\"showDropDown\", \"dataMapEditor\");\n\n      this.dataMapEditor = e ? DataMapEditor.DropDownList : DataMapEditor.AutoComplete;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"dropDownCssClass\", {\n    get: function () {\n      return this._ddCssClass;\n    },\n    set: function (e) {\n      this._ddCssClass = asString(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"visible\", {\n    get: function () {\n      return this._getFlag(RowColFlags.Visible);\n    },\n    set: function (e) {\n      this._setFlag(RowColFlags.Visible, e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"isVisible\", {\n    get: function () {\n      return !!this._getFlag(RowColFlags.Visible) && (!this._getFlag(RowColFlags.ParentCollapsed) || this instanceof _NewRowTemplate);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"pos\", {\n    get: function () {\n      this._list && this._list._dirty && this._list._update();\n      return this._pos;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"index\", {\n    get: function () {\n      this._list && this._list._dirty && this._list._update();\n      return this._idx;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"visibleIndex\", {\n    get: function () {\n      this._list && this._list._dirty && this._list._update();\n      return this.isVisible ? this._idxVis : -1;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"size\", {\n    get: function () {\n      return this._sz;\n    },\n    set: function (e) {\n      if (e != this._sz) {\n        this._sz = asNumber(e, !0);\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"renderSize\", {\n    get: function () {\n      var e = 0,\n          t = this._list;\n\n      if (this.isVisible) {\n        (null == (e = this._sz) || e < 0) && (e = t ? t.defaultSize : 0);\n        t && null != t.minSize && e < t.minSize && (e = t.minSize);\n        t && null != t.maxSize && e > t.maxSize && (e = t.maxSize);\n        null != this._szMin && e < this._szMin && (e = this._szMin);\n        null != this._szMax && e > this._szMax && (e = this._szMax);\n      }\n\n      return e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"allowResizing\", {\n    get: function () {\n      return this._getFlag(RowColFlags.AllowResizing);\n    },\n    set: function (e) {\n      this._setFlag(RowColFlags.AllowResizing, e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"allowDragging\", {\n    get: function () {\n      return this._getFlag(RowColFlags.AllowDragging);\n    },\n    set: function (e) {\n      this._setFlag(RowColFlags.AllowDragging, e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"allowMerging\", {\n    get: function () {\n      return this._getFlag(RowColFlags.AllowMerging);\n    },\n    set: function (e) {\n      this._setFlag(RowColFlags.AllowMerging, e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"isSelected\", {\n    get: function () {\n      return this._getFlag(RowColFlags.Selected);\n    },\n    set: function (e) {\n      if (!!e != this.isSelected) {\n        var t = this.grid;\n\n        if (t) {\n          var i = new CellRangeEventArgs(t ? t.cells : null, t.selection);\n\n          if (t.onSelectionChanging(i) && this._setFlag(RowColFlags.Selected, e, !0)) {\n            t.refreshCells(!1, !0, !0);\n            t.onSelectionChanged(i);\n          }\n        } else this._setFlag(RowColFlags.Selected, e);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"isReadOnly\", {\n    get: function () {\n      return this._getFlag(RowColFlags.ReadOnly);\n    },\n    set: function (e) {\n      this._setFlag(RowColFlags.ReadOnly, e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"isRequired\", {\n    get: function () {\n      return this._required;\n    },\n    set: function (e) {\n      this._required = asBoolean(e, !0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"isContentHtml\", {\n    get: function () {\n      return this._getFlag(RowColFlags.HtmlContent);\n    },\n    set: function (e) {\n      if (this.isContentHtml != e) {\n        this._setFlag(RowColFlags.HtmlContent, e);\n\n        this.grid && this.grid.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"wordWrap\", {\n    get: function () {\n      return this._getFlag(RowColFlags.WordWrap);\n    },\n    set: function (e) {\n      this._setFlag(RowColFlags.WordWrap, e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"multiLine\", {\n    get: function () {\n      return this._getFlag(RowColFlags.MultiLine);\n    },\n    set: function (e) {\n      this._setFlag(RowColFlags.MultiLine, e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"cssClass\", {\n    get: function () {\n      return this._cssClass;\n    },\n    set: function (e) {\n      if (e != this._cssClass) {\n        this._cssClass = asString(e);\n        this.grid && this.grid.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"cssClassAll\", {\n    get: function () {\n      return this._cssClassAll;\n    },\n    set: function (e) {\n      if (e != this._cssClassAll) {\n        this._cssClassAll = asString(e);\n        this.grid && this.grid.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"grid\", {\n    get: function () {\n      return this._list ? this._list._g : null;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCol.prototype, \"collectionView\", {\n    get: function () {\n      return this.grid ? this.grid.collectionView : null;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  RowCol.prototype.onPropertyChanged = function () {\n    if (this._list) {\n      this._list._dirty = !0;\n      this.grid.invalidate();\n    }\n  };\n\n  RowCol.prototype.onGridChanged = function (e) {\n    this.gridChanged.raise(this, e);\n  };\n\n  RowCol.prototype._setList = function (e) {\n    if (e != this._list) {\n      this._list = e;\n      this.onGridChanged();\n    }\n  };\n\n  RowCol.prototype._getFlag = function (e) {\n    return 0 != (this._f & e);\n  };\n\n  RowCol.prototype._setFlag = function (e, t, i) {\n    if (!!t != this._getFlag(e)) {\n      this._f = t ? this._f | e : this._f & ~e;\n      i || this.onPropertyChanged();\n      return !0;\n    }\n\n    return !1;\n  };\n\n  return RowCol;\n}();\n\nexport { RowCol };\n\nvar Column = function (e) {\n  __extends(Column, e);\n\n  function Column(t) {\n    var i = e.call(this) || this;\n    i._hdr = null;\n    i._name = null;\n    i._agg = null;\n    i._quickSize = null;\n    i._descById = null;\n    i._tpl = null;\n    i._f = RowColFlags.ColumnDefault;\n    i._hash = Column._ctr.toString(36);\n    Column._ctr++;\n    copy(i, t);\n    return i;\n  }\n\n  Object.defineProperty(Column.prototype, \"name\", {\n    get: function () {\n      return this._name;\n    },\n    set: function (e) {\n      this._name = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"width\", {\n    get: function () {\n      return null != this._szStar ? this._szStar : this.size;\n    },\n    set: function (e) {\n      if (null != Column._parseStarSize(e)) {\n        this._szStar = e;\n        this.onPropertyChanged();\n      } else {\n        this._szStar = null;\n        this.size = asNumber(e, !0);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"minWidth\", {\n    get: function () {\n      return this._szMin;\n    },\n    set: function (e) {\n      if (e != this._szMin) {\n        this._szMin = asNumber(e, !0, !0);\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"maxWidth\", {\n    get: function () {\n      return this._szMax;\n    },\n    set: function (e) {\n      if (e != this._szMax) {\n        this._szMax = asNumber(e, !0, !0);\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"quickAutoSize\", {\n    get: function () {\n      return this._quickSize;\n    },\n    set: function (e) {\n      this._quickSize = asBoolean(e, !0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  Column.prototype._getQuickAutoSize = function () {\n    return !!this.grid._getQuickAutoSize() && (isBoolean(this._quickSize) ? this._quickSize : !(this.isContentHtml || this.wordWrap || this.multiLine || this._getFlag(RowColFlags.HasTemplate)));\n  };\n\n  Object.defineProperty(Column.prototype, \"renderWidth\", {\n    get: function () {\n      return this.renderSize;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"header\", {\n    get: function () {\n      return this._hdr ? this._hdr : this.binding;\n    },\n    set: function (e) {\n      if (this._hdr != e) {\n        this._hdr = e;\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"cellTemplate\", {\n    get: function () {\n      return this._tpl;\n    },\n    set: function (e) {\n      if (e != this._tpl) {\n        assert(null == e || isString(e) || isFunction(e), \"cellTemplate should be a string or an ICellTemplateFunction.\");\n        this._tpl = e;\n\n        this._setFlag(RowColFlags.HasTemplate, null != e && \"\" != e);\n\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"editor\", {\n    get: function () {\n      var e = this._edt;\n      return e ? e.control : null;\n    },\n    set: function (e) {\n      if (e != this.editor) {\n        if (this._edt) {\n          this._edt.dispose();\n\n          this._edt = null;\n        }\n\n        if (null != e) {\n          e = asType(e, Control);\n          this._edt = new _CustomEditor(this, e);\n        }\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"allowSorting\", {\n    get: function () {\n      return this._getFlag(RowColFlags.AllowSorting);\n    },\n    set: function (e) {\n      this._setFlag(RowColFlags.AllowSorting, e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"currentSort\", {\n    get: function () {\n      var e = this.currentSortIndex;\n\n      if (e > -1) {\n        return this.grid.collectionView.sortDescriptions[e].ascending ? \"+\" : \"-\";\n      }\n\n      return null;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"currentSortIndex\", {\n    get: function () {\n      var e = this.grid ? this.grid.collectionView : null,\n          t = e ? e.sortDescriptions : null,\n          i = t && t.length ? this._getBindingSort() : null;\n      if (i) for (var o = 0; o < t.length; o++) if (t[o].property == i) return o;\n      return -1;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"aggregate\", {\n    get: function () {\n      return null != this._agg ? this._agg : Aggregate.None;\n    },\n    set: function (e) {\n      if ((e = asEnum(e, Aggregate)) != this._agg) {\n        this._agg = e;\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Column.prototype, \"describedById\", {\n    get: function () {\n      return this._descById;\n    },\n    set: function (e) {\n      if (e != this._descById) {\n        this._descById = asString(e);\n        this.grid && this.grid.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  Column.prototype.getIsRequired = function (e) {\n    return null != this._required ? this._required : e && null != e.isRequired ? e.isRequired : this.dataType == DataType.String ? null != this.dataMap || null != this._mask && this._mask.length > 0 : !e || e.dataType != DataType.String || null != e.dataMap || null != e.mask && e.mask.length > 0;\n  };\n\n  Column.prototype.getAlignment = function (e) {\n    if (null != this._align) return this._align;\n    if (e && null != e.align) return e.align;\n    if (!this._map) switch (this.dataType) {\n      case DataType.Boolean:\n        return \"center\";\n\n      case DataType.Number:\n        return \"right\";\n    }\n    if (e && !e.dataMap) switch (e.dataType) {\n      case DataType.Boolean:\n        return \"center\";\n\n      case DataType.Number:\n        return \"right\";\n    }\n    return \"\";\n  };\n\n  Column.prototype._getBindingSort = function () {\n    return this.sortMemberPath ? this.sortMemberPath : this.binding ? this.binding : null;\n  };\n\n  Column._parseStarSize = function (e) {\n    if (isString(e)) {\n      var t = e.length;\n\n      if (t > 0 && \"*\" == e[t - 1]) {\n        var i = 1 == t ? 1 : parseFloat(e);\n        if (i > 0 && !isNaN(i)) return i;\n      }\n    }\n\n    return null;\n  };\n\n  Column._ctr = 0;\n  return Column;\n}(RowCol);\n\nexport { Column };\n\nvar Row = function (e) {\n  __extends(Row, e);\n\n  function Row(t) {\n    var i = e.call(this) || this;\n    i.resizedManually = !1;\n    i._f = RowColFlags.ColumnDefault;\n    i._data = t || null;\n    return i;\n  }\n\n  Object.defineProperty(Row.prototype, \"dataItem\", {\n    get: function () {\n      return this._data;\n    },\n    set: function (e) {\n      this._data = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Row.prototype, \"dataIndex\", {\n    get: function () {\n      this._list && this._list._dirty && this._list._update();\n      return this._idxData;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Row.prototype, \"height\", {\n    get: function () {\n      return this.size;\n    },\n    set: function (e) {\n      this.size = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(Row.prototype, \"renderHeight\", {\n    get: function () {\n      return this.renderSize;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  return Row;\n}(RowCol);\n\nexport { Row };\n\nvar GroupRow = function (e) {\n  __extends(GroupRow, e);\n\n  function GroupRow(t) {\n    var i = e.call(this, t) || this;\n    i._level = -1;\n    i.level = t instanceof CollectionViewGroup ? t.level : -1;\n    i.isReadOnly = !0;\n    return i;\n  }\n\n  Object.defineProperty(GroupRow.prototype, \"level\", {\n    get: function () {\n      return this._level;\n    },\n    set: function (e) {\n      asInt(e);\n\n      if (e != this._level) {\n        this._level = e;\n        this.onPropertyChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(GroupRow.prototype, \"hasChildren\", {\n    get: function () {\n      if (null != this.grid && null != this._list) {\n        this._list._update();\n\n        var e = this.index < this._list.length - 1 ? this._list[this.index + 1] : null,\n            t = tryCast(e, GroupRow),\n            i = tryCast(e, _NewRowTemplate);\n        return null != e && null == i && (null == t || t.level > this.level);\n      }\n\n      return !0;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(GroupRow.prototype, \"isCollapsed\", {\n    get: function () {\n      return this._getFlag(RowColFlags.Collapsed);\n    },\n    set: function (e) {\n      !!e != this.isCollapsed && null != this._list && this._setCollapsed(asBoolean(e));\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  GroupRow.prototype.getGroupHeader = function () {\n    var e = this.grid,\n        t = e.groupHeaderFormat || culture.FlexGrid.groupHeaderFormat,\n        i = this.dataItem;\n\n    if (i instanceof CollectionViewGroup && t && e.showGroups && !e.childItemsPath) {\n      var o = i.groupDescription.propertyName,\n          n = i.name,\n          r = e.getColumn(o),\n          l = this.isContentHtml;\n\n      if (r) {\n        l = l || r.isContentHtml;\n        r.header && (o = r.header);\n        var s = r.dataMap;\n        s && (n = s.getDisplayValue(n));\n        r.dataType == getType(n) && (n = Globalize.format(n, r.format));\n      } else o = toHeaderCase(o);\n\n      var a = i.getAggregate(Aggregate.CntAll, null, e.collectionView);\n      return format(t, {\n        name: escapeHtml(o),\n        value: l ? n : escapeHtml(n),\n        level: i.level,\n        count: a\n      });\n    }\n\n    return \"\";\n  };\n\n  GroupRow.prototype._setCollapsed = function (e) {\n    var t = this,\n        i = this.grid,\n        o = i.rows,\n        n = this.getCellRange(),\n        r = new CellRangeEventArgs(i.cells, new CellRange(this.index, -1));\n\n    if (i.onGroupCollapsedChanging(r)) {\n      i.deferUpdate(function () {\n        o.deferUpdate(function () {\n          t._setFlag(RowColFlags.Collapsed, e, !0);\n\n          for (var i = n.topRow + 1; i <= n.bottomRow && i > -1 && i < o.length; i++) {\n            o[i]._setFlag(RowColFlags.ParentCollapsed, e, !0);\n\n            var r = o[i];\n            r instanceof GroupRow && r.isCollapsed && (i = r.getCellRange().bottomRow);\n          }\n        });\n      });\n      i.onGroupCollapsedChanged(r);\n    }\n  };\n\n  GroupRow.prototype.getCellRange = function () {\n    for (var e = this._list, t = this.index, i = e.length - 1, o = t + 1; o <= i; o++) {\n      var n = e[o];\n\n      if (n instanceof GroupRow && n.level <= this.level) {\n        i = o - 1;\n        break;\n      }\n    }\n\n    return new CellRange(t, 0, i, this.grid.columns.length - 1);\n  };\n\n  return GroupRow;\n}(Row);\n\nexport { GroupRow };\n\nvar RowColCollection = function (e) {\n  __extends(RowColCollection, e);\n\n  function RowColCollection(t, i) {\n    var o = e.call(this) || this;\n    o._frozen = 0;\n    o._lastFrozen = -1;\n    o._firstVisible = -1;\n    o._vlen = 0;\n    o._szDef = 28;\n    o._szTot = 0;\n    o._szCustom = !1;\n    o._dirty = !1;\n    o._g = asType(t, FlexGrid);\n    o._szDef = asNumber(i, !1, !0);\n    return o;\n  }\n\n  Object.defineProperty(RowColCollection.prototype, \"grid\", {\n    get: function () {\n      return this._g;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowColCollection.prototype, \"defaultSize\", {\n    get: function () {\n      return this._szDef;\n    },\n    set: function (e) {\n      this._szCustom = !0;\n\n      if (this._szDef != e) {\n        this._szDef = asNumber(e, !1, !0);\n        this._dirty = !0;\n\n        this._g.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowColCollection.prototype, \"frozen\", {\n    get: function () {\n      return this._frozen;\n    },\n    set: function (e) {\n      if (e != this._frozen) {\n        this._frozen = asNumber(e, !1, !0);\n        this._dirty = !0;\n\n        this._g.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  RowColCollection.prototype.isFrozen = function (e) {\n    return e < this.frozen;\n  };\n\n  Object.defineProperty(RowColCollection.prototype, \"minSize\", {\n    get: function () {\n      return this._szMin;\n    },\n    set: function (e) {\n      if (e != this._szMin) {\n        this._szMin = asNumber(e, !0, !0);\n        this._dirty = !0;\n\n        this._g.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowColCollection.prototype, \"maxSize\", {\n    get: function () {\n      return this._szMax;\n    },\n    set: function (e) {\n      if (e != this._szMax) {\n        this._szMax = asNumber(e, !0, !0);\n        this._dirty = !0;\n\n        this._g.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  RowColCollection.prototype.getTotalSize = function () {\n    this._dirty && this._update();\n    return this._szTot;\n  };\n\n  Object.defineProperty(RowColCollection.prototype, \"visibleLength\", {\n    get: function () {\n      this._dirty && this._update();\n      return this._vlen;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  RowColCollection.prototype.getItemAt = function (e) {\n    this._dirty && this._update();\n    if (e <= 0 && this.length > 0 && this[0].renderSize) return 0;\n\n    for (var t, i, o = this.length, n = 0, r = o - 1; n <= r;) if ((i = this[t = n + r >>> 1])._pos >= e && t > 0) r = t - 1;else {\n      if (!(i._pos + i.renderSize <= e && t < o - 1)) {\n        for (; t > 0 && !this[t].renderSize;) t--;\n\n        for (; t < o - 1 && !this[t].renderSize;) t++;\n\n        return t;\n      }\n\n      n = t + 1;\n    }\n\n    return r;\n  };\n\n  RowColCollection.prototype.getNextCell = function (e, t, i) {\n    void 0 === i && (i = 0);\n    var o,\n        n = SelMove;\n\n    switch (t) {\n      case n.Next:\n      case n.NextCell:\n        for (o = e + 1; o < this.length; o++) if (this[o].renderSize > 0) return o;\n\n        break;\n\n      case n.NextEditableCell:\n        for (o = e + 1; o < this.length; o++) if (this[o].renderSize > 0 && !this[o].isReadOnly) return o;\n\n        break;\n\n      case n.Prev:\n      case n.PrevCell:\n        for (o = e - 1; o >= 0; o--) if (this[o].renderSize > 0) return o;\n\n        break;\n\n      case n.PrevEditableCell:\n        for (o = e - 1; o >= 0; o--) if (this[o].renderSize > 0 && !this[o].isReadOnly) return o;\n\n        break;\n\n      case n.End:\n        for (o = this.length - 1; o >= 0; o--) if (this[o].renderSize > 0) return o;\n\n        break;\n\n      case n.Home:\n        for (o = 0; o < this.length; o++) if (this[o].renderSize > 0) return o;\n\n        break;\n\n      case n.NextPage:\n        return (o = this.getItemAt(this[e].pos + this[e].renderSize + i)) < 0 ? this.getNextCell(e, SelMove.End, i) : o == e && o < this.length - 1 && this[o + 1].renderSize ? o + 1 : o;\n\n      case n.PrevPage:\n        return (o = this.getItemAt(this[e].pos - i)) < 0 ? this.getNextCell(e, SelMove.Home, i) : o == e && o > 0 && this[o - 1].renderSize ? o - 1 : o;\n    }\n\n    return e;\n  };\n\n  RowColCollection.prototype.canMoveElement = function (e, t, i) {\n    void 0 === i && (i = !0);\n    if (t == e) return !1;\n    if (e < 0 || e >= this.length || t >= this.length) return !1;\n\n    if (i) {\n      t < 0 && (t = this.length - 1);\n\n      for (var o = Math.min(e, t), n = Math.max(e, t), r = o; r <= n; r++) if (!this[r].allowDragging) return !1;\n    }\n\n    return !(this[t] instanceof _NewRowTemplate);\n  };\n\n  RowColCollection.prototype.moveElement = function (e, t, i) {\n    void 0 === i && (i = !0);\n\n    if (this.canMoveElement(e, t, i)) {\n      var o = this[e];\n      this.removeAt(e);\n      t < 0 && (t = this.length);\n      this.insert(t, o);\n\n      if (i) {\n        var n = this.frozen;\n        e < n && t >= n ? this.frozen-- : e >= n && t < n && this.frozen++;\n      }\n\n      return !0;\n    }\n\n    return !1;\n  };\n\n  RowColCollection.prototype.onCollectionChanged = function (t) {\n    void 0 === t && (t = NotifyCollectionChangedEventArgs.reset);\n    this._dirty = !0;\n\n    this._g.invalidate();\n\n    e.prototype.onCollectionChanged.call(this, t);\n  };\n\n  RowColCollection.prototype.push = function (t) {\n    t._setList(this);\n\n    return e.prototype.push.call(this, t);\n  };\n\n  RowColCollection.prototype.splice = function (t, i) {\n    for (var o = this, n = [], r = 2; r < arguments.length; r++) n[r - 2] = arguments[r];\n\n    for (var l = t; l < t + i && l < this.length; l++) {\n      var s = this[l];\n      s instanceof RowCol && s._setList(null);\n    }\n\n    n.forEach(function (e) {\n      return e._setList(o);\n    });\n    return e.prototype.splice.apply(this, [t, i].concat(n));\n  };\n\n  RowColCollection.prototype.beginUpdate = function () {\n    this._update();\n\n    e.prototype.beginUpdate.call(this);\n  };\n\n  RowColCollection.prototype._setDefaultSize = function (e) {\n    if (!this._szCustom) {\n      this.defaultSize = e;\n      this._szCustom = !1;\n    }\n  };\n\n  RowColCollection.prototype._update = function () {\n    if (this._dirty && !this.isUpdating) {\n      this._dirty = !1;\n      this._lastFrozen = -1;\n      this._firstVisible = -1;\n\n      for (var e = 0, t = 0, i = void 0, o = void 0, n = 0; n < this.length; n++) {\n        (o = this[n])._idx = n;\n        o._idxVis = e;\n        o._pos = t;\n\n        o._setList(this);\n\n        if ((i = o.renderSize) > 0) {\n          t += i;\n          e++;\n          n < this._frozen && (this._lastFrozen = n);\n        }\n\n        this._firstVisible < 0 && o.visible && (this._firstVisible = n);\n      }\n\n      this._vlen = e;\n      this._szTot = t;\n      return !0;\n    }\n\n    return !1;\n  };\n\n  return RowColCollection;\n}(ObservableArray);\n\nexport { RowColCollection };\n\nvar ColumnCollection = function (e) {\n  __extends(ColumnCollection, e);\n\n  function ColumnCollection() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  ColumnCollection.prototype.getColumn = function (e) {\n    var t = isNumber(e) ? e : this.indexOf(e);\n    return t > -1 ? this[t] : null;\n  };\n\n  ColumnCollection.prototype.indexOf = function (t) {\n    if (t instanceof Column) return e.prototype.indexOf.call(this, t);\n\n    for (var i = 0; i < this.length; i++) if (this[i].name == t) return i;\n\n    for (i = 0; i < this.length; i++) if (this[i].binding == t) return i;\n\n    return -1;\n  };\n\n  Object.defineProperty(ColumnCollection.prototype, \"describedById\", {\n    get: function () {\n      return this._descById;\n    },\n    set: function (e) {\n      if (e != this._descById) {\n        this._descById = asString(e);\n        this._g && this._g.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ColumnCollection.prototype, \"firstVisibleIndex\", {\n    get: function () {\n      this._dirty && this._update();\n      return this._firstVisible;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  ColumnCollection.prototype._updateStarSizes = function (e) {\n    var t,\n        i = !1,\n        o = 0;\n    e -= .5;\n\n    for (var n = 0; n < this.length; n++) {\n      if ((l = this[n]).isVisible) if (l._szStar) {\n        o += Column._parseStarSize(l._szStar);\n        t = l;\n      } else e -= l.renderWidth;\n    }\n\n    if (t) {\n      var r = e;\n\n      for (n = 0; n < this.length; n++) {\n        var l;\n\n        if ((l = this[n]).isVisible && l._szStar) {\n          var s = l._sz;\n          l == t && r > 0 ? s = r : r -= s = Math.max(0, Math.round(Column._parseStarSize(l._szStar) / o * e));\n\n          if (s != l._sz) {\n            l._sz = s;\n            i = !0;\n          }\n        }\n      }\n\n      if (i) {\n        this._dirty = !0;\n\n        this._update();\n      }\n\n      return i;\n    }\n\n    return !1;\n  };\n\n  return ColumnCollection;\n}(RowColCollection);\n\nexport { ColumnCollection };\n\nvar RowCollection = function (e) {\n  __extends(RowCollection, e);\n\n  function RowCollection() {\n    var t = null !== e && e.apply(this, arguments) || this;\n    t._maxLevel = -1;\n    return t;\n  }\n\n  Object.defineProperty(RowCollection.prototype, \"ariaLabel\", {\n    get: function () {\n      return this._ariaLabel;\n    },\n    set: function (e) {\n      if (e != this.ariaLabel) {\n        this._ariaLabel = asString(e);\n        this._g && this._g.refresh();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(RowCollection.prototype, \"maxGroupLevel\", {\n    get: function () {\n      this._dirty && this._update();\n      return this._maxLevel;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  RowCollection.prototype._update = function () {\n    var t = this;\n\n    if (e.prototype._update.call(this)) {\n      var i = this.grid ? this.grid.collectionView : null,\n          o = i ? i.items : null,\n          n = 0;\n      this._maxLevel = -1;\n      this.forEach(function (e) {\n        e instanceof GroupRow && e.level > t._maxLevel && (t._maxLevel = e.level);\n        var i = e.dataItem;\n        i && o ? i === o[n] ? e._idxData = n : i === o[n + 1] ? e._idxData = ++n : i !== o[e._idxData] && (e._idxData = -1) : e._idxData = -1;\n      });\n      return !0;\n    }\n\n    return !1;\n  };\n\n  return RowCollection;\n}(RowColCollection);\n\nexport { RowCollection };\nexport var colHdrAriaAttributes = function (e, t, i, o) {\n  setAttribute(e, \"role\", \"columnheader\");\n\n  if (t.describedById || i.columns.describedById) {\n    var n = [t.describedById, i.columns.describedById].join(\" \").trim();\n    setAttribute(e, \"aria-describedby\", n || null);\n  }\n\n  if (o.allowSorting) {\n    var r = \"none\";\n\n    switch (o._getBindingColumn(i, 0, t).currentSort) {\n      case \"+\":\n        r = \"ascending\";\n        break;\n\n      case \"-\":\n        r = \"descending\";\n    }\n\n    setAttribute(e, \"aria-sort\", r);\n  }\n\n  if (!o.isReadOnly) {\n    setAttribute(e, \"aria-readonly\", t.isReadOnly);\n    setAttribute(e, \"aria-required\", t.isReadOnly ? null : t.getIsRequired());\n  }\n\n  var l = e.closest(\".wj-row\");\n  setAttribute(l, \"role\", \"row\");\n};\n\nvar _ColumnGroupHandler = function () {\n  function _ColumnGroupHandler(e) {\n    this._updatingCollection = 0;\n    this._initialized = !1;\n    this._grid = e;\n\n    this._initializeColumnGroups();\n\n    this._initialized = !0;\n  }\n\n  Object.defineProperty(_ColumnGroupHandler.prototype, \"columnGroups\", {\n    get: function () {\n      return this._colGroups;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  _ColumnGroupHandler.prototype.createColumnGroups = function (e) {\n    this._initialized = !1;\n\n    this._createColumnGroups(e);\n\n    this._initialized = !0;\n  };\n\n  _ColumnGroupHandler.prototype.hasColumnGroups = function () {\n    return null != this._colGroups && this._colGroups.length > 0;\n  };\n\n  _ColumnGroupHandler.prototype.getGroupDefinitions = function () {\n    return this._groupDefs;\n  };\n\n  _ColumnGroupHandler.prototype.getColumnGroup = function (e, t) {\n    return this._getColumnGroup(e, t);\n  };\n\n  _ColumnGroupHandler.prototype.canMoveColumnGroup = function (e, t, i, o) {\n    if (e == i && t == o) return !1;\n    var n = this._grid,\n        r = n.columnHeaders.rows,\n        l = n.columns;\n    if (e < 0 || e >= r.length || t < 0 || t >= l.length || i < 0 || i >= r.length || o < 0 || o >= l.length) return !1;\n\n    var s = this._getColumnGroup(e, t),\n        a = this._getColumnGroup(i, o);\n\n    if (!s || !a || s == a) return !1;\n    if (s.level < a.level && s._containsGroup(a)) return !1;\n    var c = s.parentGroup,\n        u = a.parentGroup;\n    return !c || c === u || !c._isCollapseTo(s);\n  };\n\n  _ColumnGroupHandler.prototype.moveColumnGroup = function (e, t, i, o, n) {\n    if (this.canMoveColumnGroup(e, t, i, o)) {\n      var r = this._getColumnGroup(e, t),\n          l = this._getColumnGroup(i, o);\n\n      if (!r || !l || r == l) return !1;\n      if (n && !l.isEmpty) return !1;\n\n      var s = this._getCollection(r),\n          a = n ? l.columns : this._getCollection(l);\n\n      if (!s || !a) return !1;\n      var c = n ? 0 : a.indexOf(l);\n      if (c < 0) return !1;\n      !n && s != a && o > t && c++;\n\n      this._deferCollectionUpdate(function () {\n        if (!s.remove(r)) return !1;\n        a.insert(c, r);\n      });\n\n      return !0;\n    }\n\n    return !1;\n  };\n\n  _ColumnGroupHandler.prototype.handleCollectionChange = function () {\n    if (this._initialized && !this._updatingCollection) {\n      this._initialized = !1;\n\n      this._buildColumnGroups();\n\n      this._initialized = !0;\n    }\n  };\n\n  _ColumnGroupHandler.prototype.handlePropertyChange = function (e) {\n    if (e && this._initialized) {\n      var t = this._grid,\n          i = e._rng,\n          o = e.header;\n      if (o != e._curr_header) for (var n = i.topRow; n <= i.bottomRow; n++) for (var r = i.leftCol; r <= i.rightCol; r++) {\n        t.columnHeaders.setCellData(n, r, o);\n        e._curr_header = o;\n      }\n      e.columns.length > 0 && t.invalidate();\n    }\n  };\n\n  _ColumnGroupHandler.prototype._initializeColumnGroups = function () {\n    var e = this._grid,\n        t = new ColumnGroupCollection();\n    this._groupDefs = t;\n    this._colGroups = t;\n\n    this._colGroups._setOwner(e);\n\n    this._colGroups._setChangeHandler(this);\n  };\n\n  _ColumnGroupHandler.prototype._createColumnGroups = function (e) {\n    this._grid;\n    this._groupDefs = asArray(e);\n    this._colGroups && this._colGroups._setOwner(null);\n    this._colGroups = ColumnGroupCollection._parse(e);\n\n    this._buildColumnGroups();\n  };\n\n  _ColumnGroupHandler.prototype._buildColumnGroups = function () {\n    var e = this,\n        t = this._grid;\n\n    this._colGroups._removeChangeHandler();\n\n    this._assertColumnGroups(this._colGroups);\n\n    t.autoGenerateColumns = !1;\n    t.columns.clear();\n\n    this._colGroups._setOwner(t);\n\n    this._colGroups.forEach(function (e) {\n      e._beginBuild();\n    });\n\n    var i = 0;\n\n    this._colGroups.forEach(function (t) {\n      e._addColumnGroup(t);\n\n      i = Math.max(i, t._getMaxLevel());\n    });\n\n    this._colGroups.forEach(function (e) {\n      e._expandRange(i);\n    });\n\n    var o = t.columnHeaders.rows;\n    o.clear();\n\n    for (var n = 0; n <= i; n++) {\n      var r = new Row();\n      o.splice(n, 0, r);\n      n < i && (r.cssClassAll = \"wj-colgroup\");\n    }\n\n    for (n = 0; n < o.length; n++) for (var l = 0; l < t.columns.length; l++) {\n      var s = this._getColumnGroup(n, l);\n\n      if (s) {\n        var a = s.header || toHeaderCase(s.binding);\n        t.columnHeaders.setCellData(n, l, a);\n        s._curr_header = s.header;\n      }\n    }\n\n    this._colGroups._setChangeHandler(this);\n\n    this._colGroups.forEach(function (e) {\n      e._checkIfCollapsed();\n    });\n  };\n\n  _ColumnGroupHandler.prototype._getColumnGroup = function (e, t) {\n    var i = this._grid;\n    if (e < i.columnHeaders.rows.length && t < i.columns.length) for (var o = this._colGroups; o;) {\n      for (var n = o, r = 0; r < o.length; r++) {\n        var l = o[r],\n            s = l._rng;\n\n        if (s.containsColumn(t)) {\n          if (s.containsRow(e) || 0 == l.columns.length) return l;\n          o = l.columns;\n          break;\n        }\n      }\n\n      if (o == n) break;\n    }\n    return null;\n  };\n\n  _ColumnGroupHandler.prototype._getCollection = function (e) {\n    var t = e.parentGroup;\n    return t ? t.columns : this._colGroups;\n  };\n\n  _ColumnGroupHandler.prototype._assertColumnGroups = function (e) {\n    var t = this;\n    assert(e instanceof ColumnGroupCollection, \"column groups contain items of invalid collection type\");\n    e.forEach(function (e) {\n      assert(e instanceof ColumnGroup, \"column groups contain items of invalid type\");\n\n      t._assertColumnGroups(e.columns);\n    });\n  };\n\n  _ColumnGroupHandler.prototype._addColumnGroup = function (e) {\n    var t = this,\n        i = this._grid;\n    e._rng.col = i.columns.length;\n    0 == e.columns.length ? i.columns.push(e) : e.columns.forEach(function (e) {\n      t._addColumnGroup(e);\n    });\n    e._rng.col2 = i.columns.length - 1;\n  };\n\n  _ColumnGroupHandler.prototype._beginCollectionUpdate = function () {\n    this._updatingCollection++;\n  };\n\n  _ColumnGroupHandler.prototype._endCollectionUpdate = function () {\n    this._updatingCollection--;\n    this._updatingCollection <= 0 && this.handleCollectionChange();\n  };\n\n  _ColumnGroupHandler.prototype._deferCollectionUpdate = function (e) {\n    try {\n      this._beginCollectionUpdate();\n\n      e();\n    } finally {\n      this._endCollectionUpdate();\n    }\n  };\n\n  return _ColumnGroupHandler;\n}();\n\nexport { _ColumnGroupHandler };\n\nvar ColumnGroup = function (e) {\n  __extends(ColumnGroup, e);\n\n  function ColumnGroup(t, i) {\n    var o = e.call(this) || this;\n    o._rng = new CellRange(0, -1);\n    o._lvl = 0;\n    o._collapsed = !1;\n    o._cols = new ColumnGroupCollection();\n    copy(o, t);\n    var n = i && i.columns;\n    n && n.indexOf(o) < 0 && n.push(o);\n    return o;\n  }\n\n  ColumnGroup.prototype._copy = function (e, t) {\n    if (\"columns\" == e) {\n      var i = asArray(t);\n      this._cols = ColumnGroupCollection._parse(i);\n      return !0;\n    }\n\n    return !1;\n  };\n\n  Object.defineProperty(ColumnGroup.prototype, \"columns\", {\n    get: function () {\n      return this._cols;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ColumnGroup.prototype, \"columnGroups\", {\n    get: function () {\n      return this._cols;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ColumnGroup.prototype, \"isEmpty\", {\n    get: function () {\n      return 0 === this._cols.length;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ColumnGroup.prototype, \"parentGroup\", {\n    get: function () {\n      var e = this._ownerList,\n          t = e && e.owner;\n      return t instanceof ColumnGroup ? t : null;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ColumnGroup.prototype, \"level\", {\n    get: function () {\n      for (var e = this, t = 0; e.parentGroup;) {\n        e = e.parentGroup;\n        t++;\n      }\n\n      return t;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ColumnGroup.prototype, \"collapseTo\", {\n    get: function () {\n      return this._collTo;\n    },\n    set: function (e) {\n      assert(isArray(e) || isString(e), \"collapseTo should be an array or a string.\");\n\n      if (this._collTo != e) {\n        this._collTo = e;\n\n        this._updateCollapsedState();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ColumnGroup.prototype, \"isCollapsed\", {\n    get: function () {\n      return this._collapsed;\n    },\n    set: function (e) {\n      var t = this.grid,\n          i = null;\n      if (e != this._collapsed) if (t) {\n        i = new CellRangeEventArgs(t.columnHeaders, this._rng, this);\n        t.onColumnGroupCollapsedChanging(i) ? this._collapsed = asBoolean(e) : i = null;\n      } else this._collapsed = asBoolean(e);\n\n      this._updateCollapsedState();\n\n      t && i && t.onColumnGroupCollapsedChanged(i);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(ColumnGroup.prototype, \"grid\", {\n    get: function () {\n      var e = this._ownerList,\n          t = e && e.owner;\n      return t instanceof ColumnGroup ? t.grid : t instanceof FlexGrid ? t : null;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  ColumnGroup.prototype._beginBuild = function () {\n    this._lvl = 0;\n\n    for (var e = this.parentGroup; e; e = e.parentGroup) this._lvl++;\n\n    this._rng = new CellRange(0, -1);\n    this._rng.row = this._rng.row2 = this._lvl;\n\n    this._cols.forEach(function (e) {\n      e._beginBuild();\n    });\n  };\n\n  ColumnGroup.prototype._setChangeHandler = function (e) {\n    this._changeHdl = e;\n\n    this._cols._setChangeHandler(e);\n  };\n\n  ColumnGroup.prototype._removeChangeHandler = function () {\n    this._changeHdl = null;\n\n    this._cols._removeChangeHandler();\n  };\n\n  ColumnGroup.prototype._setOwnerList = function (e) {\n    e != this._ownerList && (this._ownerList = e);\n  };\n\n  ColumnGroup.prototype._checkIfCollapsed = function () {\n    var e = this.grid;\n    (e ? e.columns : null) && (this._collapsed ? this._updateCollapsedState() : this._cols.forEach(function (e) {\n      e._checkIfCollapsed();\n    }));\n  };\n\n  ColumnGroup.prototype._updateCollapsedState = function () {\n    var e = this.grid,\n        t = e ? e.columns : null,\n        i = this._rng,\n        o = this._collapsed;\n\n    if (t) {\n      this._cols.forEach(function (e) {\n        if (e instanceof ColumnGroup) {\n          e._collapsed = o;\n\n          e._updateCollapsedState();\n        }\n      });\n\n      for (var n = this._getCollapseToIndices(), r = i.leftCol; r <= i.rightCol; r++) {\n        var l = !o || n.indexOf(r) > -1;\n\n        t[r]._setFlag(RowColFlags.ParentCollapsed, !l);\n      }\n    }\n  };\n\n  ColumnGroup.prototype._getMaxLevel = function () {\n    var e = this._lvl;\n    this.columns.forEach(function (t) {\n      e = Math.max(e, t._getMaxLevel());\n    });\n    return e;\n  };\n\n  ColumnGroup.prototype._expandRange = function (e) {\n    var t = e - this._getMaxLevel();\n\n    if (t > 0) {\n      this._rng.row2 += t;\n\n      this._cols.forEach(function (e) {\n        e._shiftRange(t);\n      });\n    }\n\n    for (var i = this.grid.columns, o = this._rng, n = o.col; n <= o.col2; n++) {\n      i[n]._rng.row2 = e;\n    }\n  };\n\n  ColumnGroup.prototype._shiftRange = function (e) {\n    this._rng.row += e;\n    this._rng.row2 += e;\n\n    this._cols.forEach(function (t) {\n      t._shiftRange(e);\n    });\n  };\n\n  ColumnGroup.prototype._containsGroup = function (e) {\n    for (var t = 0; t < this._cols.length; t++) {\n      var i = this._cols[t];\n      if (i == e || i._containsGroup(e)) return !0;\n    }\n\n    return !1;\n  };\n\n  ColumnGroup.prototype._isCollapseTo = function (e) {\n    var t = this.grid,\n        i = t ? t.columns : null;\n    if (!e || !i) return !1;\n\n    var o = this._getCollapseToBindings();\n\n    if (o && o.length) for (var n = 0; n < o.length; n++) switch (o[n]) {\n      case \"$first\":\n      case \"$last\":\n        continue;\n\n      default:\n        if (e === i.getColumn(o[n])) return !0;\n    }\n    return !1;\n  };\n\n  ColumnGroup.prototype._getCollapseToBindings = function () {\n    var e = this.collapseTo;\n    return isString(e) ? [e] : e;\n  };\n\n  ColumnGroup.prototype._getCollapseToIndices = function () {\n    var e = this.grid,\n        t = this._rng,\n        i = this._getCollapseToBindings();\n\n    if (i && i.length) {\n      for (var o = [], n = e.columns, r = 0; r < i.length; r++) switch (i[r]) {\n        case \"$first\":\n          o.push(t.leftCol);\n          break;\n\n        case \"$last\":\n          o.push(t.rightCol);\n          break;\n\n        default:\n          var l = n.getColumn(i[r]),\n              s = n.indexOf(l);\n          l && t.containsColumn(s) && o.push(s);\n      }\n\n      if (o.length) return o;\n    }\n\n    return [t.rightCol];\n  };\n\n  ColumnGroup.prototype.onPropertyChanged = function () {\n    var t = this._changeHdl;\n    t && t.handlePropertyChange(this);\n    e.prototype.onPropertyChanged.call(this);\n  };\n\n  return ColumnGroup;\n}(Column);\n\nexport { ColumnGroup };\n\nvar ColumnGroupCollection = function (e) {\n  __extends(ColumnGroupCollection, e);\n\n  function ColumnGroupCollection() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  ColumnGroupCollection.prototype.getColumn = function (e) {\n    return isNumber(e) ? this._getColByIdx(e) : this._findColByProp(\"name\", e) || this._findColByProp(\"binding\", e);\n  };\n\n  Object.defineProperty(ColumnGroupCollection.prototype, \"owner\", {\n    get: function () {\n      return this._owner;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  ColumnGroupCollection.prototype.push = function (t) {\n    t._setOwnerList(this);\n\n    return e.prototype.push.call(this, t);\n  };\n\n  ColumnGroupCollection.prototype.splice = function (t, i) {\n    for (var o = this, n = [], r = 2; r < arguments.length; r++) n[r - 2] = arguments[r];\n\n    for (var l = t; l < t + i && l < this.length; l++) {\n      var s = this[l];\n      s instanceof ColumnGroup && s._setOwnerList(null);\n    }\n\n    n.forEach(function (e) {\n      return e._setOwnerList(o);\n    });\n    return e.prototype.splice.apply(this, [t, i].concat(n));\n  };\n\n  ColumnGroupCollection._parse = function (e) {\n    var t = null;\n    if (e) {\n      if (e instanceof ColumnGroupCollection) t = e;else {\n        t = new ColumnGroupCollection();\n        e.forEach(function (e) {\n          var i = e instanceof ColumnGroup ? e : new ColumnGroup(e);\n          t.indexOf(i) < 0 && t.push(i);\n        });\n      }\n    } else t = new ColumnGroupCollection();\n    return t;\n  };\n\n  ColumnGroupCollection.prototype._setChangeHandler = function (e) {\n    this._changeHdl = e;\n    this.forEach(function (t) {\n      return t._setChangeHandler(e);\n    });\n  };\n\n  ColumnGroupCollection.prototype._removeChangeHandler = function () {\n    this._changeHdl = null;\n    this.forEach(function (e) {\n      return e._removeChangeHandler();\n    });\n  };\n\n  ColumnGroupCollection.prototype._setOwner = function (e) {\n    this._owner = e;\n    this.forEach(function (e) {\n      return e.columns._setOwner(e);\n    });\n  };\n\n  ColumnGroupCollection.prototype._getColByIdx = function (e) {\n    return e > -1 && e < this.length ? this[e] : null;\n  };\n\n  ColumnGroupCollection.prototype._findColByProp = function (e, t) {\n    for (var i = 0; i < this.length; i++) {\n      var o = this[i];\n      if (o[e] === t) return o;\n      if (null !== (o = o.columns._findColByProp(e, t))) return o;\n    }\n\n    return null;\n  };\n\n  ColumnGroupCollection.prototype.onCollectionChanged = function (t) {\n    void 0 === t && (t = NotifyCollectionChangedEventArgs.reset);\n    var i = this._changeHdl;\n    i && i.handleCollectionChange();\n    e.prototype.onCollectionChanged.call(this, t);\n  };\n\n  return ColumnGroupCollection;\n}(ObservableArray);\n\nexport { ColumnGroupCollection };\n\n_addCultureInfo(\"FlexGrid\", {\n  groupHeaderFormat: \"{name}: <b>{value}</b> ({count:n0} items)\",\n  ariaLabels: {\n    toggleDropDown: \"Toggle Dropdown\",\n    toggleGroup: \"Toggle Group\"\n  }\n});\n\nexport var AllowSorting;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.SingleColumn = 1] = \"SingleColumn\";\n  e[e.MultiColumn = 2] = \"MultiColumn\";\n}(AllowSorting || (AllowSorting = {}));\nexport var AllowPinning;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.SingleColumn = 1] = \"SingleColumn\";\n  e[e.ColumnRange = 2] = \"ColumnRange\";\n  e[e.Both = 3] = \"Both\";\n}(AllowPinning || (AllowPinning = {}));\nexport var HeadersVisibility;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.Column = 1] = \"Column\";\n  e[e.Row = 2] = \"Row\";\n  e[e.All = 3] = \"All\";\n}(HeadersVisibility || (HeadersVisibility = {}));\nexport var ClipStringOptions;\n!function (e) {\n  e[e.Default = 0] = \"Default\";\n  e[e.CSV = 1] = \"CSV\";\n  e[e.QuoteAll = 2] = \"QuoteAll\";\n  e[e.SkipMerged = 4] = \"SkipMerged\";\n  e[e.Unformatted = 8] = \"Unformatted\";\n  e[e.InvisibleRows = 16] = \"InvisibleRows\";\n  e[e.InvisibleColumns = 32] = \"InvisibleColumns\";\n  e[e.InvisibleCells = 48] = \"InvisibleCells\";\n}(ClipStringOptions || (ClipStringOptions = {}));\nexport var HeadersFocusability;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.Column = 1] = \"Column\";\n  e[e.Row = 2] = \"Row\";\n  e[e.All = 3] = \"All\";\n}(HeadersFocusability || (HeadersFocusability = {}));\n\nvar FlexGrid = function (e) {\n  __extends(FlexGrid, e);\n\n  function FlexGrid(t, i) {\n    var o = e.call(this, t, null, !0) || this;\n    o._activeCell = null;\n    o._activePanelType = CellType.Cell;\n    o._szClient = new Size(0, 0);\n    o._szClientSB = new Size(0, 0);\n    o._offsetY = 0;\n    o._cssPage = 0;\n    o._ptScrl = new Point(0, 0);\n    o._cellPadLeft = 3;\n    o._cellPadHorz = 3;\n    o._cellPadVert = 0;\n    o._clipToScreen = !1;\n    o._anchorCell = null;\n    o._autoGenCols = !0;\n    o._autoClipboard = !0;\n    o._xOnCopyPaste = !0;\n    o._autoScroll = !0;\n    o._autoSearch = !1;\n    o._caseSensitive = !1;\n    o._readOnly = !1;\n    o._indent = 14;\n    o._autoSizeMode = AutoSizeMode.Both;\n    o._autoHeights = !1;\n    o._quickSize = null;\n    o._hdrVis = HeadersVisibility.All;\n    o._hdrFoc = HeadersFocusability.None;\n    o._alSorting = AllowSorting.SingleColumn;\n    o._alPinning = AllowPinning.None;\n    o._alAddNew = !1;\n    o._alDelete = !1;\n    o._alResizing = AllowResizing.Columns;\n    o._alDragging = AllowDragging.Columns;\n    o._alMerging = AllowMerging.None;\n    o._ssHdr = HeadersVisibility.None;\n    o._shSort = !0;\n    o._shGroups = !0;\n    o._shMarquee = !1;\n    o._shPlcHld = !1;\n    o._altStep = 1;\n    o._shErr = !0;\n    o._shDropDown = !0;\n    o._valEdt = !0;\n    o._gHdrFmt = null;\n    o._childItemsPath = null;\n    o._sortRowIndex = null;\n    o._editColIndex = null;\n    o._deferResizing = !1;\n    o._pSel = !0;\n    o._pOutline = !0;\n    o._stickyHdr = !1;\n    o._anchorCursor = !1;\n    o._copyHeaders = HeadersVisibility.None;\n    o._bigChecks = !1;\n    o._skipMerged = !1;\n    o._commitEmptyEdits = !0;\n    o._fzClone = null;\n    o._vt = 0;\n    o._vtRows = 0;\n    o._vtCols = 0;\n    o._lazyRender = !0;\n    o._refreshOnEdit = !0;\n    o._reorderCells = !0;\n    o._isISChanging = !1;\n    o._isScrollingByWheel = !1;\n    o._touchEdit = !1;\n    o.itemsSourceChanging = new Event();\n    o.itemsSourceChanged = new Event();\n    o.scrollPositionChanged = new Event();\n    o.selectionChanging = new Event();\n    o.selectionChanged = new Event();\n    o.loadingRows = new Event();\n    o.loadedRows = new Event();\n    o.updatingLayout = new Event();\n    o.updatedLayout = new Event();\n    o.resizingColumn = new Event();\n    o.resizedColumn = new Event();\n    o.autoSizingColumn = new Event();\n    o.autoSizedColumn = new Event();\n    o.starSizedColumns = new Event();\n    o.draggingColumn = new Event();\n    o.draggingColumnOver = new Event();\n    o.draggedColumn = new Event();\n    o.pinningColumn = new Event();\n    o.pinnedColumn = new Event();\n    o.resizingRow = new Event();\n    o.resizedRow = new Event();\n    o.autoSizingRow = new Event();\n    o.autoSizedRow = new Event();\n    o.draggingRow = new Event();\n    o.draggingRowOver = new Event();\n    o.draggedRow = new Event();\n    o.groupCollapsedChanging = new Event();\n    o.groupCollapsedChanged = new Event();\n    o.columnGroupCollapsedChanging = new Event();\n    o.columnGroupCollapsedChanged = new Event();\n    o.sortingColumn = new Event();\n    o.sortedColumn = new Event();\n    o.beginningEdit = new Event();\n    o.prepareCellForEdit = new Event();\n    o.cellEditEnding = new Event();\n    o.cellEditEnded = new Event();\n    o.rowEditStarting = new Event();\n    o.rowEditStarted = new Event();\n    o.rowEditEnding = new Event();\n    o.rowEditEnded = new Event();\n    o.rowAdded = new Event();\n    o.deletingRow = new Event();\n    o.deletedRow = new Event();\n    o.copying = new Event();\n    o.copied = new Event();\n    o.pasting = new Event();\n    o.pasted = new Event();\n    o.pastingCell = new Event();\n    o.pastedCell = new Event();\n    o.formatItem = new Event(function () {\n      o._clearCells();\n    });\n    o.updatingView = new Event();\n    o.updatedView = new Event();\n    o._mappedColumns = null;\n    var n = o.hostElement;\n    isIE() && (n.style.borderRadius = \"0\");\n    var r = o.getTemplate();\n    o.applyTemplate(\"wj-control wj-content wj-flexgrid\", r, {\n      _root: \"root\",\n      _eSz: \"sz\",\n      _eCt: \"cells\",\n      _fCt: \"fcells\",\n      _eTL: \"tl\",\n      _eBL: \"bl\",\n      _eCHdr: \"ch\",\n      _eRHdr: \"rh\",\n      _eCFtr: \"cf\",\n      _eTLCt: \"tlcells\",\n      _eBLCt: \"blcells\",\n      _eCHdrCt: \"chcells\",\n      _eCFtrCt: \"cfcells\",\n      _eRHdrCt: \"rhcells\",\n      _eMarquee: \"marquee\",\n      _eFocus: \"focus\"\n    });\n    setCss(o._root.parentElement, {\n      position: \"relative\",\n      left: \"0\",\n      top: \"0\",\n      width: \"100%\",\n      height: \"100%\",\n      overflow: \"hidden\",\n      minWidth: \"inherit\",\n      minHeight: \"inherit\",\n      maxWidth: \"inherit\",\n      maxHeight: \"inherit\"\n    });\n    setCss(o._root, {\n      position: \"absolute\",\n      left: \"0\",\n      top: \"0\",\n      width: \"100%\",\n      height: \"100%\",\n      minWidth: \"inherit\",\n      minHeight: \"inherit\",\n      maxWidth: \"inherit\",\n      maxHeight: \"inherit\",\n      overflow: \"auto\",\n      webkitOverflowScrolling: \"touch\"\n    });\n    setCss(o._eCt, {\n      position: \"absolute\"\n    });\n    setCss(o._eMarquee, {\n      display: \"none\"\n    });\n    setCss(o._eMarquee.firstChild, {\n      width: \"100%\",\n      height: \"100%\"\n    });\n    setCss(o._fCt, {\n      position: \"absolute\",\n      left: \"0\",\n      top: \"0\",\n      overflow: \"hidden\",\n      pointerEvents: \"none\"\n    });\n    setCss(o._eFocus, {\n      position: \"fixed\",\n      left: \"-32000px\"\n    });\n    setCss(o._eSz, {\n      position: \"relative\",\n      visibility: \"hidden\"\n    });\n    [o._eRHdr, o._eCFtr, o._eCHdr, o._eBL, o._eTL].forEach(function (e) {\n      setAttribute(e, \"aria-hidden\", !0);\n      setCss(e, {\n        position: \"absolute\",\n        overflow: \"hidden\",\n        outline: \"none\"\n      });\n      setCss(e.firstElementChild, {\n        position: \"relative\"\n      });\n    });\n    [o._eFocus, o._eMarquee, o._fCt, o._eSz].forEach(function (e) {\n      setAttribute(e, \"aria-hidden\", !0);\n    });\n\n    if (isIE9() || isIE10()) {\n      var l = o._eMarquee;\n      [\"click\", \"dblclick\", \"mousedown\", \"mouseup\"].forEach(function (e) {\n        o.addEventListener(l, e, function (t) {\n          var i = l.style.display;\n          l.style.display = \"none\";\n          var o = document.elementFromPoint(t.clientX, t.clientY);\n          l.style.display = i;\n          var n = document.createEvent(\"Event\");\n          n.initEvent(e, !0, !0);\n\n          for (var r in t) try {\n            n[r] = t[r];\n          } catch (e) {}\n\n          o.dispatchEvent(n);\n        });\n      });\n    }\n\n    n.tabIndex = -1;\n    o.deferUpdate(function () {\n      var e = o._getDefaultRowHeight();\n\n      o._rows = new RowCollection(o, e);\n      o._cols = new ColumnCollection(o, 4 * e);\n      o._hdrRows = new RowCollection(o, e);\n      o._hdrCols = new ColumnCollection(o, Math.round(1.25 * e));\n      o._ftrRows = new RowCollection(o, e);\n      var t = CellType;\n      o._gpTL = new GridPanel(o, t.TopLeft, o._hdrRows, o._hdrCols, o._eTLCt);\n      o._gpCHdr = new GridPanel(o, t.ColumnHeader, o._hdrRows, o._cols, o._eCHdrCt);\n      o._gpRHdr = new GridPanel(o, t.RowHeader, o._rows, o._hdrCols, o._eRHdrCt);\n      o._gpCells = new GridPanel(o, t.Cell, o._rows, o._cols, o._eCt);\n      o._gpBL = new GridPanel(o, t.BottomLeft, o._ftrRows, o._hdrCols, o._eBLCt);\n      o._gpCFtr = new GridPanel(o, t.ColumnFooter, o._ftrRows, o._cols, o._eCFtrCt);\n      o.activePanel = o._gpCells;\n\n      o._hdrRows.push(new Row());\n\n      o._hdrCols.push(new Column({\n        align: \"center\"\n      }));\n\n      o._cf = new CellFactory();\n      o._keyHdl = new _KeyboardHandler(o);\n      o._mouseHdl = new _MouseHandler(o);\n      o._edtHdl = new _EditHandler(o);\n      o._selHdl = o._createSelHdl();\n      o._addHdl = new _AddNewHandler(o);\n      o._grpHdl = new _ColumnGroupHandler(o);\n      o._mrgMgr = new MergeManager();\n      o._bndSortConverter = o._sortConverter.bind(o);\n      o._errorTip = new Tooltip({\n        isContentHtml: !1,\n        showDelay: 0,\n        cssClass: \"wj-error-tip\"\n      });\n      o.selectionMode = SelectionMode.CellRange;\n      o._root.tabIndex = -1;\n      o.initialize(i);\n    });\n    o.addEventListener(o._root, \"scroll\", function (e) {\n      if (o._updateScrollPosition() || o._forceScrollUpdate) {\n        var t = o.activeEditor,\n            i = o.activeCell,\n            n = i ? i.className : null;\n        o._forceScrollUpdate || o.finishEditing();\n        o._forceScrollUpdate = !1;\n        requestAnimationFrame(function () {\n          o._updateContent(!0);\n        });\n        var r = o.activeEditor,\n            l = o.activeCell;\n\n        if (r && l && t && n) {\n          r.value = t.value;\n          l.className = n;\n\n          o._setFocusNoScroll(r);\n        } else r && !l && o.finishEditing(!0);\n\n        o.frozenColumns && setTimeout(function () {\n          var e = o.columnHeaders.hostElement.style,\n              t = parseInt(e.left),\n              i = o._ptScrl.x;\n          Math.abs(t - i) > 1 && o.invalidate();\n        });\n      }\n    });\n    o.addEventListener(n, \"focus\", function (e) {\n      if (n.tabIndex > -1) {\n        var t = e.target;\n        t instanceof HTMLElement && t.tabIndex < 0 && o._setFocus(!0);\n      }\n    }, !0);\n    return o;\n  }\n\n  Object.defineProperty(FlexGrid.prototype, \"activePanel\", {\n    get: function () {\n      return this._activePanel;\n    },\n    set: function (e) {\n      this._activePanel = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"activePanelType\", {\n    get: function () {\n      return this._activePanelType;\n    },\n    set: function (e) {\n      if (this._activePanelType !== e) {\n        Array.from(this.hostElement.getElementsByClassName(\"wj-focus-header-cell\")).forEach(function (e) {\n          e.classList.remove(\"wj-focus-header-cell\");\n          e.setAttribute(\"tabindex\", \"-1\");\n        });\n        this._activePanelType = e;\n        e !== CellType.Cell ? e !== CellType.ColumnHeader ? e !== CellType.RowHeader ? e !== CellType.TopLeft || (this.activePanel = this._gpTL) : this.activePanel = this._gpRHdr : this.activePanel = this._gpCHdr : this.activePanel = this._gpCells;\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  FlexGrid.prototype._handleResize = function () {\n    var t = this;\n    this._rcBounds = null;\n    this.activeEditor && this.isTouching || this._touchEdit ? setTimeout(function () {\n      if (!t.activeEditor) {\n        t._touchEdit = !0;\n        t.startEditing(!0);\n      }\n    }, 50) : e.prototype._handleResize.call(this);\n    this._touchEdit = !1;\n  };\n\n  Object.defineProperty(FlexGrid.prototype, \"headersVisibility\", {\n    get: function () {\n      return this._hdrVis;\n    },\n    set: function (e) {\n      if ((e = asEnum(e, HeadersVisibility)) != this._hdrVis) {\n        this._hdrVis = e;\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"headersFocusability\", {\n    get: function () {\n      return this._hdrFoc;\n    },\n    set: function (e) {\n      if ((e = asEnum(e, HeadersFocusability)) != this._hdrFoc) {\n        this._hdrFoc = e;\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"stickyHeaders\", {\n    get: function () {\n      return this._stickyHdr;\n    },\n    set: function (e) {\n      if (e != this._stickyHdr) {\n        this._stickyHdr = asBoolean(e);\n\n        this._updateStickyHeaders();\n\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"preserveSelectedState\", {\n    get: function () {\n      return this._pSel;\n    },\n    set: function (e) {\n      this._pSel = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"preserveOutlineState\", {\n    get: function () {\n      return this._pOutline;\n    },\n    set: function (e) {\n      this._pOutline = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"anchorCursor\", {\n    get: function () {\n      return this._anchorCursor;\n    },\n    set: function (e) {\n      this._anchorCursor = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"copyHeaders\", {\n    get: function () {\n      return this._copyHeaders;\n    },\n    set: function (e) {\n      this._copyHeaders = asEnum(e, HeadersVisibility);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"lazyRender\", {\n    get: function () {\n      return this._lazyRender;\n    },\n    set: function (e) {\n      this._lazyRender = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"refreshOnEdit\", {\n    get: function () {\n      return this._refreshOnEdit;\n    },\n    set: function (e) {\n      this._refreshOnEdit = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"virtualizationThreshold\", {\n    get: function () {\n      return this._vt;\n    },\n    set: function (e) {\n      this._vt = e;\n      if (isNumber(e)) this._vtRows = this._vtCols = asNumber(e);else if (e) {\n        if (isArray(e) && 2 == e.length) {\n          this._vtRows = asNumber(e[0]);\n          this._vtCols = asNumber(e[1]);\n        } else assert(!1, \"virtualizationThreshold should be a number or an array with two numbers.\");\n      } else this._vtRows = this._vtCols = 0;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"autoGenerateColumns\", {\n    get: function () {\n      return this._autoGenCols;\n    },\n    set: function (e) {\n      this._autoGenCols = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"autoClipboard\", {\n    get: function () {\n      return this._autoClipboard;\n    },\n    set: function (e) {\n      this._autoClipboard = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"expandSelectionOnCopyPaste\", {\n    get: function () {\n      return this._xOnCopyPaste;\n    },\n    set: function (e) {\n      this._xOnCopyPaste = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"autoScroll\", {\n    get: function () {\n      return this._autoScroll;\n    },\n    set: function (e) {\n      this._autoScroll = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"autoSearch\", {\n    get: function () {\n      return this._autoSearch;\n    },\n    set: function (e) {\n      this._autoSearch = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"caseSensitiveSearch\", {\n    get: function () {\n      return this._caseSensitive;\n    },\n    set: function (e) {\n      this._caseSensitive = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"columnLayout\", {\n    get: function () {\n      var e,\n          t = this._hasColumnGroups(),\n          i = t ? ColumnGroup : Column,\n          o = t ? \"columnGroups\" : \"columns\",\n          n = FlexGrid._getSerializableProperties(i),\n          r = t ? [\"collapseTo\"] : [],\n          l = [\"size\"],\n          s = new i(),\n          a = t ? this.getColumnGroups() : this.columns,\n          serializeColumns = function (e) {\n        var i = [];\n        e.forEach(function (e) {\n          var o = {};\n          n.forEach(function (t) {\n            var i = e[t];\n            (function (e, t) {\n              return t != s[e] && l.indexOf(e) < 0 && (isPrimitive(t) || r.indexOf(e) > -1);\n            })(t, i) && (o[t] = i);\n          });\n\n          if (t) {\n            var a = e.columns;\n            a.length && (o.columns = serializeColumns(a));\n          }\n\n          i.push(o);\n        });\n        return i;\n      },\n          c = serializeColumns(a);\n\n      return JSON.stringify(((e = {})[o] = c, e));\n    },\n    set: function (e) {\n      var t = this,\n          i = JSON.parse(asString(e));\n      assert(i, \"Invalid columnLayout data.\");\n      this.columns.deferUpdate(function () {\n        t.columns.clear();\n        t._hasColumnGroups() && (t.columnGroups = new ColumnGroupCollection());\n        t.initialize(i);\n      });\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"columnGroups\", {\n    get: function () {\n      return this._grpHdl.getGroupDefinitions();\n    },\n    set: function (e) {\n      this.columns.clear();\n\n      this._grpHdl.createColumnGroups(asArray(e));\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  FlexGrid.prototype.getColumnGroups = function () {\n    return this._grpHdl.columnGroups;\n  };\n\n  Object.defineProperty(FlexGrid.prototype, \"isReadOnly\", {\n    get: function () {\n      return this._readOnly;\n    },\n    set: function (e) {\n      if (e != this._readOnly) {\n        this._readOnly = asBoolean(e);\n        this.finishEditing();\n        this.invalidate(!0);\n\n        this._addHdl.updateNewRowTemplate();\n\n        toggleClass(this.hostElement, \"wj-state-readonly\", this.isReadOnly);\n\n        this._setAria(\"readonly\", this.isReadOnly ? \"true\" : null);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"bigCheckboxes\", {\n    get: function () {\n      return this._bigChecks;\n    },\n    set: function (e) {\n      this._bigChecks = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"skipMerged\", {\n    get: function () {\n      return this._skipMerged;\n    },\n    set: function (e) {\n      this._skipMerged = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"isDisabled\", {\n    get: function () {\n      return this._e && null != this._e.getAttribute(\"disabled\");\n    },\n    set: function (e) {\n      if ((e = asBoolean(e, !0)) != this.isDisabled) {\n        var t = this._e;\n\n        if (t) {\n          enable(t, !e);\n\n          this._updateTabIndex();\n\n          this.invalidate();\n        }\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"imeEnabled\", {\n    get: function () {\n      return null != this._imeHdl;\n    },\n    set: function (e) {\n      if (asBoolean(e) != this.imeEnabled && this.finishEditing()) {\n        var t = this.containsFocus();\n\n        if (this._imeHdl) {\n          this._imeHdl.dispose();\n\n          this._imeHdl = null;\n        }\n\n        e && (this._imeHdl = new _ImeHandler(this));\n        t && this.focus();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"allowResizing\", {\n    get: function () {\n      return this._alResizing;\n    },\n    set: function (e) {\n      this._alResizing = asEnum(e, AllowResizing);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"deferResizing\", {\n    get: function () {\n      return this._deferResizing;\n    },\n    set: function (e) {\n      this._deferResizing = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"autoSizeMode\", {\n    get: function () {\n      return this._autoSizeMode;\n    },\n    set: function (e) {\n      this._autoSizeMode = asEnum(e, AutoSizeMode);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"autoRowHeights\", {\n    get: function () {\n      return this._autoHeights;\n    },\n    set: function (e) {\n      this._autoHeights = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"quickAutoSize\", {\n    get: function () {\n      return this._quickSize;\n    },\n    set: function (e) {\n      this._quickSize = asBoolean(e, !0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  FlexGrid.prototype._getQuickAutoSize = function () {\n    return isBoolean(this._quickSize) ? this._quickSize : !this.formatItem.hasHandlers && null == this.itemFormatter;\n  };\n\n  Object.defineProperty(FlexGrid.prototype, \"allowSorting\", {\n    get: function () {\n      return this._alSorting;\n    },\n    set: function (e) {\n      isBoolean(e) && (e = e ? AllowSorting.SingleColumn : AllowSorting.None);\n      this._alSorting = asEnum(e, AllowSorting);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"allowPinning\", {\n    get: function () {\n      return this._alPinning;\n    },\n    set: function (e) {\n      if (e != this._alPinning) {\n        isBoolean(e) && (e = e ? AllowPinning.SingleColumn : AllowPinning.None);\n        this._alPinning = asEnum(e, AllowPinning);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"allowAddNew\", {\n    get: function () {\n      return this._alAddNew;\n    },\n    set: function (e) {\n      if (e != this._alAddNew) {\n        this._alAddNew = asBoolean(e);\n\n        this._addHdl.updateNewRowTemplate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"newRowAtTop\", {\n    get: function () {\n      return this._addHdl.newRowAtTop;\n    },\n    set: function (e) {\n      this._addHdl.newRowAtTop = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"allowDelete\", {\n    get: function () {\n      return this._alDelete;\n    },\n    set: function (e) {\n      e != this._alDelete && (this._alDelete = asBoolean(e));\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"allowMerging\", {\n    get: function () {\n      return this._alMerging;\n    },\n    set: function (e) {\n      if ((e = asEnum(e, AllowMerging)) != this._alMerging) {\n        this._alMerging = e;\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"showSelectedHeaders\", {\n    get: function () {\n      return this._ssHdr;\n    },\n    set: function (e) {\n      if ((e = asEnum(e, HeadersVisibility)) != this._ssHdr) {\n        this._ssHdr = e;\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"showMarquee\", {\n    get: function () {\n      return this._shMarquee;\n    },\n    set: function (e) {\n      if (e != this._shMarquee) {\n        this._shMarquee = asBoolean(e);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"showPlaceholders\", {\n    get: function () {\n      return this._shPlcHld;\n    },\n    set: function (e) {\n      this._shPlcHld = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"showSort\", {\n    get: function () {\n      return this._shSort;\n    },\n    set: function (e) {\n      if (e != this._shSort) {\n        this._shSort = asBoolean(e);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"showGroups\", {\n    get: function () {\n      return this._shGroups;\n    },\n    set: function (e) {\n      if (e != this._shGroups) {\n        this._shGroups = asBoolean(e);\n\n        this._bindGrid(!1);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"alternatingRowStep\", {\n    get: function () {\n      return this._altStep;\n    },\n    set: function (e) {\n      if (e != this._altStep) {\n        this._altStep = asInt(e, !1, !0);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"showAlternatingRows\", {\n    get: function () {\n      return this._altStep > 0;\n    },\n    set: function (e) {\n      _deprecated(\"showAlternatingRows\", \"alternatingRowStep\");\n\n      this.alternatingRowStep = e ? 1 : 0;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"showErrors\", {\n    get: function () {\n      return this._shErr;\n    },\n    set: function (e) {\n      if (e != this._shErr) {\n        this._clearCells();\n\n        this._shErr = asBoolean(e);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"errorTip\", {\n    get: function () {\n      return this._errorTip;\n    },\n    set: function (e) {\n      if (e != this._errorTip) {\n        this._clearCells();\n\n        this._errorTip = asType(e, Tooltip, !0);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"itemValidator\", {\n    get: function () {\n      return this._itemValidator;\n    },\n    set: function (e) {\n      if (e != this.itemValidator) {\n        this._itemValidator = asFunction(e);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"validateEdits\", {\n    get: function () {\n      return this._valEdt;\n    },\n    set: function (e) {\n      this._valEdt = asBoolean(e);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"groupHeaderFormat\", {\n    get: function () {\n      return this._gHdrFmt;\n    },\n    set: function (e) {\n      if (e != this._gHdrFmt) {\n        this._gHdrFmt = asString(e);\n\n        this._bindGrid(!1);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"allowDragging\", {\n    get: function () {\n      return this._alDragging;\n    },\n    set: function (e) {\n      if ((e = asEnum(e, AllowDragging)) != this._alDragging) {\n        this._alDragging = e;\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"ariaLabel\", {\n    get: function () {\n      return this._ariaLabel;\n    },\n    set: function (e) {\n      this._ariaLabel = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"itemsSource\", {\n    get: function () {\n      return this._items;\n    },\n    set: function (e) {\n      var t = this;\n\n      if (e != this._items) {\n        var i = new CancelEventArgs();\n\n        if (this.onItemsSourceChanging(i)) {\n          if (this._cv) {\n            (o = this._cv).currentChanged.removeHandler(null, this);\n\n            o.collectionChanged.removeHandler(null, this);\n            o instanceof CollectionView && o.sortConverter == this._bndSortConverter && (o.sortConverter = null);\n            this._cv = null;\n          }\n\n          this._items = e;\n          this._cv = this._getCollectionView(e);\n          this._lastCount = 0;\n\n          if (this._cv) {\n            var o;\n\n            (o = this._cv).currentChanged.addHandler(function (e, i) {\n              return t._cvCurrentChanged(e, i);\n            }, this);\n\n            o.collectionChanged.addHandler(function (e, i) {\n              return t._cvCollectionChanged(e, i);\n            }, this);\n            o instanceof CollectionView && !o.sortConverter && (o.sortConverter = this._bndSortConverter);\n          }\n\n          this._isISChanging = !0;\n\n          this._bindGrid(!0);\n\n          this._isISChanging = !1;\n          this.onItemsSourceChanged(i);\n        }\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"collectionView\", {\n    get: function () {\n      return this._cv;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"editableCollectionView\", {\n    get: function () {\n      return tryCast(this._cv, \"IEditableCollectionView\");\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"childItemsPath\", {\n    get: function () {\n      return this._childItemsPath;\n    },\n    set: function (e) {\n      if (e != this._childItemsPath) {\n        assert(null == e || isArray(e) || isString(e), \"childItemsPath should be an array or a string.\");\n        this._childItemsPath = e;\n\n        this._bindGrid(!0);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"rowHeaderPath\", {\n    get: function () {\n      return this._rowHdrPath ? this._rowHdrPath.path : null;\n    },\n    set: function (e) {\n      if (e != this.rowHeaderPath) {\n        e = asString(e);\n        this._rowHdrPath = e ? new Binding(e) : null;\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"cells\", {\n    get: function () {\n      return this._gpCells;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"columnHeaders\", {\n    get: function () {\n      return this._gpCHdr;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"columnFooters\", {\n    get: function () {\n      return this._gpCFtr;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"rowHeaders\", {\n    get: function () {\n      return this._gpRHdr;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"topLeftCells\", {\n    get: function () {\n      return this._gpTL;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"bottomLeftCells\", {\n    get: function () {\n      return this._gpBL;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"rows\", {\n    get: function () {\n      return this._rows;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"columns\", {\n    get: function () {\n      return this._cols;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  FlexGrid.prototype.getColumn = function (e, t) {\n    if (this._hasColumnGroups() && t) {\n      var i = this.getColumnGroups();\n      return null !== i ? i.getColumn(e) : null;\n    }\n\n    return this.columns.getColumn(e);\n  };\n\n  Object.defineProperty(FlexGrid.prototype, \"frozenRows\", {\n    get: function () {\n      return this.rows.frozen;\n    },\n    set: function (e) {\n      this.rows.frozen = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"frozenColumns\", {\n    get: function () {\n      return this.columns.frozen;\n    },\n    set: function (e) {\n      this.columns.frozen = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"cloneFrozenCells\", {\n    get: function () {\n      return this._fzClone;\n    },\n    set: function (e) {\n      if (e != this._fzClone) {\n        setText(this._fCt, null);\n        this._fzClone = asBoolean(e, !0);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"sortRowIndex\", {\n    get: function () {\n      return this._sortRowIndex;\n    },\n    set: function (e) {\n      if (e != this._sortRowIndex) {\n        this._sortRowIndex = asNumber(e, !0);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"editColumnIndex\", {\n    get: function () {\n      return this._editColIndex;\n    },\n    set: function (e) {\n      if (e != this._editColIndex) {\n        this._editColIndex = asNumber(e, !0);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"scrollPosition\", {\n    get: function () {\n      return this._ptScrl.clone();\n    },\n    set: function (e) {\n      var t = this._root,\n          i = -e.x;\n      if (this.rightToLeft) switch (FlexGrid._getRtlMode()) {\n        case \"rev\":\n          i = t.scrollWidth - t.clientWidth + e.x;\n          break;\n\n        case \"neg\":\n          i = e.x;\n          break;\n\n        default:\n          i = -e.x;\n      }\n      t.scrollLeft = i;\n      t.scrollTop = -e.y;\n      this._updateScrollPosition() && (this._forceScrollUpdate = !0);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"commitEmptyEdits\", {\n    get: function () {\n      return this._commitEmptyEdits;\n    },\n    set: function (e) {\n      if (e != this._commitEmptyEdits) {\n        this._commitEmptyEdits = asBoolean(e);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"clientSize\", {\n    get: function () {\n      return this._szClient;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"controlRect\", {\n    get: function () {\n      this._rcBounds || (this._rcBounds = getElementRect(this._root));\n      return this._rcBounds;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"scrollSize\", {\n    get: function () {\n      return new Size(this._gpCells.width, this._heightBrowser);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"viewRange\", {\n    get: function () {\n      return this._gpCells.viewRange;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"cellFactory\", {\n    get: function () {\n      return this._cf;\n    },\n    set: function (e) {\n      if (e != this._cf) {\n        this._clearCells();\n\n        this._cf = asType(e, CellFactory, !1);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"itemFormatter\", {\n    get: function () {\n      return this._itemFormatter;\n    },\n    set: function (e) {\n      if (e != this._itemFormatter) {\n        this._clearCells();\n\n        this._itemFormatter = asFunction(e);\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  FlexGrid.prototype.canEditCell = function (e, t) {\n    return this._edtHdl._allowEdit(e, t);\n  };\n\n  FlexGrid.prototype.getCellData = function (e, t, i) {\n    return this.cells.getCellData(e, t, i);\n  };\n\n  FlexGrid.prototype.getCellBoundingRect = function (e, t, i) {\n    return this.cells.getCellBoundingRect(e, t, i);\n  };\n\n  FlexGrid.prototype.setCellData = function (e, t, i, o, n) {\n    void 0 === o && (o = !0);\n    void 0 === n && (n = !0);\n    return this.cells.setCellData(e, t, i, o, n);\n  };\n\n  FlexGrid.prototype.hitTest = function (e, t) {\n    isNumber(e) && isNumber(t) && (e = new Point(e, t));\n    isBoolean(t) && t && (this._rcBounds = null);\n    return new HitTestInfo(this, e);\n  };\n\n  FlexGrid.prototype.getClipString = function (e, t, i, o) {\n    var n;\n    n = null == t || isBoolean(t) ? t ? ClipStringOptions.CSV : ClipStringOptions.Default : t;\n    assert(isNumber(n), \"Unexpected value for ClipStringOptions parameter.\");\n    var r = this.selection,\n        l = this.getMergedRange(this.cells, r.row, r.col, !1);\n    (l && (l.columnSpan > 1 || l.rowSpan > 1) || this.skipMerged) && (n |= ClipStringOptions.SkipMerged);\n    return this._edtHdl.getClipString(e, n, i, o);\n  };\n\n  FlexGrid.prototype.setClipString = function (e, t) {\n    this._edtHdl.setClipString(e, t);\n  };\n\n  FlexGrid.prototype.focus = function (e) {\n    this.isDisabled || this._setFocus(e);\n  };\n\n  FlexGrid.prototype.dispose = function () {\n    this.finishEditing(!0);\n    this.itemsSource = null;\n    e.prototype.dispose.call(this);\n  };\n\n  FlexGrid.prototype.refresh = function (t) {\n    void 0 === t && (t = !0);\n    e.prototype.refresh.call(this, t);\n    this.finishEditing();\n\n    if (t) {\n      this._updateColumnTypes();\n\n      this.scrollPosition = this._ptScrl;\n\n      this._updateDefaultSizes();\n\n      clearTimeout(this._toInv);\n      this._toInv = null;\n    }\n\n    this.refreshCells(t);\n    var i = this._e;\n    i && (this._szCtl = new Size(i.offsetWidth, i.offsetHeight));\n  };\n\n  FlexGrid.prototype.refreshCells = function (e, t, i) {\n    this.isUpdating || (e ? this._updateLayout() : this._updateContent(t, i));\n  };\n\n  FlexGrid.prototype.refreshRange = function (e) {\n    for (var t = e.topRow; t <= e.bottomRow; t++) for (var i = e.leftCol; i <= e.rightCol; i++) {\n      var o = this.cells.getCellElement(t, i);\n\n      if (o) {\n        var n = o[GridPanel._INDEX_KEY];\n        this.cellFactory.updateCell(this.cells, t, i, o, n.rng);\n      }\n    }\n  };\n\n  FlexGrid.prototype.autoSizeColumn = function (e, t, i) {\n    void 0 === t && (t = !1);\n    void 0 === i && (i = 4);\n    this.autoSizeColumns(e, e, t, i);\n  };\n\n  FlexGrid.prototype.autoSizeColumns = function (e, t, i, o) {\n    var n = this;\n    void 0 === i && (i = !1);\n    void 0 === o && (o = 4);\n    var r = 0,\n        l = i ? this.topLeftCells : this.columnHeaders,\n        s = i ? this.bottomLeftCells : this.columnFooters,\n        a = i ? this.rowHeaders : this.cells,\n        c = this.viewRange;\n    e = null == e ? 0 : asInt(e);\n    t = null == t ? a.columns.length - 1 : asInt(t);\n    c.row = Math.max(0, c.row - 1e3);\n    c.row2 = Math.min(c.row2 + 1e3, this.rows.length - 1);\n    this.finishEditing() && this.columns.deferUpdate(function () {\n      setCss(n._eCt, {\n        width: n._gpCells.width\n      });\n\n      for (var i = createElement(\"<div \" + FlexGrid._WJS_MEASURE + '=\"true\"/>', a.hostElement, {\n        visibility: \"hidden\"\n      }), u = n._getCanvasContext(), d = e; d <= t && d > -1 && d < a.columns.length; d++) {\n        var h = a.columns[d];\n\n        if (h.isVisible) {\n          r = 0;\n\n          if (n.autoSizeMode & AutoSizeMode.Headers) {\n            for (var p = 0; p < l.rows.length; p++) l.rows[p].isVisible && (r = Math.max(n._getDesiredWidth(l, p, d, i), r));\n\n            for (p = 0; p < s.rows.length; p++) s.rows[p].isVisible && (r = Math.max(n._getDesiredWidth(s, p, d, i), r));\n          }\n\n          if (n.autoSizeMode & AutoSizeMode.Cells && c.row > -1 && c.row2 > -1) if (h._getQuickAutoSize()) {\n            p = n._getWidestRow(a, c, d, u);\n            r = Math.max(n._getDesiredWidth(a, p, d, i), r);\n          } else for (p = c.row; p <= c.row2 && p < a.rows.length; p++) a.rows[p].isVisible && (r = Math.max(n._getDesiredWidth(a, p, d, i), r));\n          r > 0 && (h.width = r + o + 2);\n        }\n      }\n\n      n.cellFactory.disposeCell(i);\n      removeChild(i);\n    });\n  };\n\n  FlexGrid.prototype.autoSizeRow = function (e, t, i) {\n    void 0 === t && (t = !1);\n    void 0 === i && (i = 0);\n    this.autoSizeRows(e, e, t, i);\n  };\n\n  FlexGrid.prototype.autoSizeRows = function (e, t, i, o) {\n    var n = this;\n    void 0 === i && (i = !1);\n    void 0 === o && (o = 0);\n    var r = 0,\n        l = 1 == i ? this.topLeftCells : null == i ? this.bottomLeftCells : this.rowHeaders,\n        s = 1 == i ? this.columnHeaders : null == i ? this.columnFooters : this.cells;\n    o = asNumber(o);\n    e = null == e ? 0 : asInt(e);\n\n    if ((t = null == t ? s.rows.length - 1 : asInt(t)) >= e && this.finishEditing()) {\n      setCss(this._eCt, {\n        width: this._gpCells.width\n      });\n      var a = createElement(\"<div \" + FlexGrid._WJS_MEASURE + '=\"true\"/>', s.hostElement, {\n        visibility: \"hidden\"\n      });\n      this.rows.deferUpdate(function () {\n        for (var i = {}, c = n._autoSizeMode, u = AutoSizeMode, d = e; d <= t && d > -1 && d < s.rows.length; d++) {\n          if (s.rows[d].isVisible) {\n            r = 0;\n            c & u.Headers && (r = n._getDesiredRowHeight(l, d, a, i));\n            c & u.Cells && (r = Math.max(n._getDesiredRowHeight(s, d, a, i), r));\n            r > 0 && (s.rows[d].height = r + o);\n          }\n        }\n      });\n      this.cellFactory.disposeCell(a);\n      removeChild(a);\n    }\n  };\n\n  Object.defineProperty(FlexGrid.prototype, \"treeIndent\", {\n    get: function () {\n      return this._indent;\n    },\n    set: function (e) {\n      if (e != this._indent) {\n        this._indent = asNumber(e, !1, !0);\n        this.columns.onCollectionChanged();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  FlexGrid.prototype.collapseGroupsToLevel = function (e) {\n    var t = this;\n    this.finishEditing() && this.deferUpdate(function () {\n      var i = t.rows;\n      i.deferUpdate(function () {\n        for (var t = 0; t < i.length; t++) {\n          var o = i[t];\n          o instanceof GroupRow && (o.isCollapsed = o.level >= e);\n        }\n      });\n    });\n  };\n\n  Object.defineProperty(FlexGrid.prototype, \"selectionMode\", {\n    get: function () {\n      return this._selHdl.selectionMode;\n    },\n    set: function (e) {\n      if ((e = asEnum(e, SelectionMode)) != this.selectionMode) {\n        this._selHdl.selectionMode = e;\n\n        this._updateTabIndex();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"selection\", {\n    get: function () {\n      return this._selHdl.selection.clone();\n    },\n    set: function (e) {\n      this._selHdl.selection = e;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  FlexGrid.prototype.select = function (e, t) {\n    void 0 === t && (t = !0);\n    this.activePanelType = CellType.Cell;\n    return this._selHdl.select(e, t);\n  };\n\n  FlexGrid.prototype.selectAll = function () {\n    var e = this.rows.length,\n        t = this.columns.length;\n    return !(!e || !t) && this.select(new CellRange(0, 0, e - 1, t - 1), !1);\n  };\n\n  FlexGrid.prototype.getSelectedState = function (e, t) {\n    return this.cells.getSelectedState(e, t);\n  };\n\n  Object.defineProperty(FlexGrid.prototype, \"selectedRows\", {\n    get: function () {\n      var e = this,\n          t = this.selectionMode,\n          i = this.rows.filter(function (e) {\n        return e.isSelected;\n      });\n\n      if (0 == i.length && t != SelectionMode.None) {\n        var o = [];\n        this.selectedRanges.forEach(function (t) {\n          for (var i = t.topRow; i <= t.bottomRow && i > -1 && i < e.rows.length; i++) o.indexOf(i) < 0 && o.push(i);\n        });\n        o.sort();\n        i = o.map(function (t) {\n          return e.rows[t];\n        });\n      }\n\n      return i;\n    },\n    set: function (e) {\n      var t = this;\n      assert(this.selectionMode == SelectionMode.ListBox, \"This property can be set only in ListBox mode.\");\n      e = asArray(e);\n      this.deferUpdate(function () {\n        for (var i = 0, o = !0; i < t.rows.length; i++) {\n          var n = t.rows[i],\n              r = e && e.indexOf(n) > -1;\n\n          if (r && o) {\n            o = !1;\n            t.select(i, t.selection.col);\n          }\n\n          n.isSelected = r;\n        }\n      });\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"selectedItems\", {\n    get: function () {\n      var e = [];\n      this.selectedRows.forEach(function (t) {\n        var i = t ? t.dataItem : null;\n        i && e.indexOf(i) < 0 && e.push(i);\n      });\n      return e;\n    },\n    set: function (e) {\n      var t = this;\n      assert(this.selectionMode == SelectionMode.ListBox, \"This property can be set only in ListBox mode.\");\n      e = asArray(e);\n      this.deferUpdate(function () {\n        for (var i = 0, o = !0; i < t.rows.length; i++) {\n          var n = t.rows[i],\n              r = e && e.indexOf(n.dataItem) > -1;\n\n          if (r && o) {\n            o = !1;\n            t.select(i, t.selection.col);\n          }\n\n          n.isSelected = r;\n        }\n      });\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"selectedRanges\", {\n    get: function () {\n      var e = [this.selection];\n\n      this._selHdl.extendedSelection.forEach(function (t) {\n        e.push(t);\n      });\n\n      return e;\n    },\n    set: function (e) {\n      if ((e = asArray(e)) && e.length > 0) {\n        this.select(e[0]);\n\n        if (this.selectionMode == SelectionMode.MultiRange) {\n          var t = this._selHdl.extendedSelection;\n          t.deferUpdate(function () {\n            t.clear();\n\n            for (var i = 1; i < e.length; i++) t.push(e[i]);\n          });\n        }\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  FlexGrid.prototype.scrollIntoView = function (e, t, i) {\n    (null == this._maxOffsetY || this._rows._dirty || this._cols._dirty) && this._updateLayout();\n\n    var o = this.scrollPosition,\n        n = this._szClient,\n        r = n.width,\n        l = n.height - this._gpCFtr.rows.getTotalSize(),\n        s = this.cells._getFrozenPos();\n\n    if ((e = asInt(e)) > -1 && e < this._rows.length && e >= this._rows.frozen) {\n      var a = this._rows[e],\n          c = this._getCssPage(a.pos);\n\n      if (c != this._cssPage) {\n        for (var u = this._maxOffsetY, d = Math.round(u * c); d > a.pos; c -= .1) d = Math.round(u * c);\n\n        this._offsetY = d;\n      }\n\n      var h = a.pos - this._offsetY,\n          p = h + a.renderSize;\n      p > l - o.y && (o.y = Math.max(-h, l - p));\n      h - s.y < -o.y && (o.y = -(h - s.y));\n      c != this._cssPage && (this._cssPage = this._getCssPage(-o.y));\n    }\n\n    isString(t) && (t = this.columns.indexOf(t));\n\n    if ((t = asInt(t)) > -1 && t < this._cols.length && t >= this._cols.frozen) {\n      var f = this._cols[t],\n          g = f.pos + f.renderSize;\n      g > -o.x + r && (o.x = Math.max(-f.pos, r - g));\n      f.pos - s.x < -o.x && (o.x = -(f.pos - s.x));\n    }\n\n    if (!o.equals(this._ptScrl)) {\n      this.scrollPosition = o;\n\n      if (i) {\n        this._updateScrollPosition();\n\n        this._forceScrollUpdate = !1;\n        this.refresh();\n      }\n\n      return !0;\n    }\n\n    if (this._activeCell && e > -1 && t > -1) {\n      var _ = this._root,\n          m = _.scrollWidth == _.clientWidth,\n          C = _.scrollHeight == _.clientHeight;\n\n      if (m || C) {\n        var w = this._activeCell.getBoundingClientRect(),\n            v = innerWidth,\n            y = innerHeight,\n            b = w.right < 0 || w.left > v,\n            R = w.bottom < 0 || w.top > y;\n\n        o.x = pageXOffset + (w.left < 0 ? w.left : w.right > v ? w.right - v : 0);\n        o.y = pageYOffset + (w.top < 0 ? w.top : w.bottom > y ? w.bottom - y : 0);\n        b && m && R && C ? scrollTo(o.x, o.y) : b && m ? scrollTo(o.x, document.documentElement.scrollLeft) : R && C && scrollTo(document.documentElement.scrollTop, o.y);\n      }\n    }\n\n    return !1;\n  };\n\n  FlexGrid.prototype.isRangeValid = function (e) {\n    return e && e.isValid && e.bottomRow < this.rows.length && e.rightCol < this.columns.length;\n  };\n\n  FlexGrid.prototype.startEditing = function (e, t, i, o, n) {\n    void 0 === e && (e = !0);\n    return this._edtHdl.startEditing(e, t, i, o, n);\n  };\n\n  FlexGrid.prototype.finishEditing = function (e) {\n    return this._edtHdl.finishEditing(e);\n  };\n\n  Object.defineProperty(FlexGrid.prototype, \"activeCell\", {\n    get: function () {\n      return this._activeCell;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"activeEditor\", {\n    get: function () {\n      var e = this._edtHdl;\n      return e ? e.activeEditor : null;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"editRange\", {\n    get: function () {\n      var e = this._edtHdl.editRange;\n      return e ? e.clone() : null;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"mergeManager\", {\n    get: function () {\n      return this._mrgMgr;\n    },\n    set: function (e) {\n      if (e != this._mrgMgr) {\n        this._mrgMgr = asType(e, MergeManager, !0);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  FlexGrid.prototype.getMergedRange = function (e, t, i, o) {\n    void 0 === o && (o = !0);\n    return this._mrgMgr ? this._mrgMgr.getMergedRange(e, t, i, o) : null;\n  };\n\n  Object.defineProperty(FlexGrid.prototype, \"keyActionTab\", {\n    get: function () {\n      return this._keyHdl._kaTab;\n    },\n    set: function (e) {\n      this._keyHdl._kaTab = asEnum(e, KeyAction);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"keyActionEnter\", {\n    get: function () {\n      return this._keyHdl._kaEnter;\n    },\n    set: function (e) {\n      this._keyHdl._kaEnter = asEnum(e, KeyAction);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"preserveWhiteSpace\", {\n    get: function () {\n      return hasClass(this.hostElement, FlexGrid._WJS_WSPRE);\n    },\n    set: function (e) {\n      toggleClass(this.hostElement, FlexGrid._WJS_WSPRE, asBoolean(e));\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(FlexGrid.prototype, \"showDropDown\", {\n    get: function () {\n      return this._shDropDown;\n    },\n    set: function (e) {\n      if (e != this._shDropDown) {\n        this._shDropDown = asBoolean(e, !0);\n        this.invalidate();\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  FlexGrid.prototype.toggleDropDownList = function () {\n    if (!this._tglDropDown) {\n      this._tglDropDown = !0;\n\n      this._edtHdl._toggleListBox(null);\n\n      this._tglDropDown = !1;\n    }\n\n    return null != this._edtHdl._lbx;\n  };\n\n  Object.defineProperty(FlexGrid, \"defaultTypeWidth\", {\n    get: function () {\n      return FlexGrid._defTypeWidth;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  FlexGrid.prototype.onItemsSourceChanging = function (e) {\n    this.itemsSourceChanging.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onItemsSourceChanged = function (e) {\n    this.itemsSourceChanged.raise(this, e);\n  };\n\n  FlexGrid.prototype.onScrollPositionChanged = function (e) {\n    this.scrollPositionChanged.raise(this, e);\n  };\n\n  FlexGrid.prototype.onSelectionChanging = function (e) {\n    this.selectionChanging.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onSelectionChanged = function (e) {\n    this.selectionChanged.raise(this, e);\n  };\n\n  FlexGrid.prototype.onLoadingRows = function (e) {\n    this.loadingRows.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onLoadedRows = function (e) {\n    this.loadedRows.raise(this, e);\n\n    this._autoRowHeights();\n  };\n\n  FlexGrid.prototype.onUpdatingLayout = function (e) {\n    this.updatingLayout.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onUpdatedLayout = function (e) {\n    this.updatedLayout.raise(this, e);\n  };\n\n  FlexGrid.prototype.onResizingColumn = function (e) {\n    this.resizingColumn.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onResizedColumn = function (e) {\n    this.resizedColumn.raise(this, e);\n\n    this._autoRowHeights();\n  };\n\n  FlexGrid.prototype.onAutoSizingColumn = function (e) {\n    this.autoSizingColumn.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onAutoSizedColumn = function (e) {\n    this.autoSizedColumn.raise(this, e);\n  };\n\n  FlexGrid.prototype.onStarSizedColumns = function (e) {\n    this.starSizedColumns.raise(this, e);\n\n    this._autoRowHeights();\n  };\n\n  FlexGrid.prototype.onDraggingColumn = function (e) {\n    this.draggingColumn.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onDraggingColumnOver = function (e) {\n    this.draggingColumnOver.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onDraggedColumn = function (e) {\n    this.draggedColumn.raise(this, e);\n  };\n\n  FlexGrid.prototype.onPinningColumn = function (e) {\n    this.pinningColumn.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onPinnedColumn = function (e) {\n    this.pinnedColumn.raise(this, e);\n  };\n\n  FlexGrid.prototype.onResizingRow = function (e) {\n    this.resizingRow.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onResizedRow = function (e) {\n    this.resizedRow.raise(this, e);\n  };\n\n  FlexGrid.prototype.onAutoSizingRow = function (e) {\n    this.autoSizingRow.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onAutoSizedRow = function (e) {\n    this.autoSizedRow.raise(this, e);\n  };\n\n  FlexGrid.prototype.onDraggingRow = function (e) {\n    this.draggingRow.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onDraggingRowOver = function (e) {\n    this.draggingRowOver.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onDraggedRow = function (e) {\n    this.draggedRow.raise(this, e);\n  };\n\n  FlexGrid.prototype.onGroupCollapsedChanging = function (e) {\n    this.groupCollapsedChanging.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onGroupCollapsedChanged = function (e) {\n    this.groupCollapsedChanged.raise(this, e);\n  };\n\n  FlexGrid.prototype.onColumnGroupCollapsedChanging = function (e) {\n    this.columnGroupCollapsedChanging.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onColumnGroupCollapsedChanged = function (e) {\n    this.columnGroupCollapsedChanged.raise(this, e);\n  };\n\n  FlexGrid.prototype.onSortingColumn = function (e) {\n    this.sortingColumn.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onSortedColumn = function (e) {\n    this.sortedColumn.raise(this, e);\n  };\n\n  FlexGrid.prototype.onBeginningEdit = function (e) {\n    this._addHdl._beginningEdit(this, e);\n\n    e.cancel || this.beginningEdit.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onPrepareCellForEdit = function (e) {\n    this.prepareCellForEdit.raise(this, e);\n  };\n\n  FlexGrid.prototype.onCellEditEnding = function (e) {\n    this.cellEditEnding.raise(this, e);\n    return !e.cancel && !e.stayInEditMode;\n  };\n\n  FlexGrid.prototype.onCellEditEnded = function (e) {\n    this.cellEditEnded.raise(this, e);\n\n    this._autoRowHeights();\n  };\n\n  FlexGrid.prototype.onRowEditStarting = function (e) {\n    this._addHdl._rowEditStarting(this, e);\n\n    e.cancel || this.rowEditStarting.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onRowEditStarted = function (e) {\n    this.rowEditStarted.raise(this, e);\n  };\n\n  FlexGrid.prototype.onRowEditEnding = function (e) {\n    this._addHdl._rowEditEnding(this, e);\n\n    this.rowEditEnding.raise(this, e);\n  };\n\n  FlexGrid.prototype.onRowEditEnded = function (e) {\n    this.rowEditEnded.raise(this, e);\n\n    this._addHdl._rowEditEnded(this, e);\n\n    this._autoRowHeights();\n  };\n\n  FlexGrid.prototype.onRowAdded = function (e) {\n    this.rowAdded.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onDeletingRow = function (e) {\n    this.deletingRow.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onDeletedRow = function (e) {\n    this.deletedRow.raise(this, e);\n  };\n\n  FlexGrid.prototype.onCopying = function (e) {\n    this.copying.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onCopied = function (e) {\n    this.copied.raise(this, e);\n  };\n\n  FlexGrid.prototype.onPasting = function (e) {\n    this.pasting.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onPasted = function (e) {\n    this.pasted.raise(this, e);\n  };\n\n  FlexGrid.prototype.onPastingCell = function (e) {\n    this.pastingCell.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onPastedCell = function (e) {\n    this.pastedCell.raise(this, e);\n  };\n\n  FlexGrid.prototype.onFormatItem = function (e) {\n    this.formatItem.raise(this, e);\n  };\n\n  FlexGrid.prototype.onUpdatingView = function (e) {\n    this.updatingView.raise(this, e);\n    return !e.cancel;\n  };\n\n  FlexGrid.prototype.onUpdatedView = function (e) {\n    this.updatedView.raise(this, e);\n  };\n\n  FlexGrid.prototype._createSelHdl = function () {\n    return new _SelectionHandler(this);\n  };\n\n  FlexGrid.prototype._getTabIndex = function () {\n    return this._orgTabIndex;\n  };\n\n  FlexGrid.prototype._setTabOrder = function (e) {\n    this._orgTabIndex = e;\n\n    this._updateTabIndex();\n  };\n\n  FlexGrid.prototype._updateTabIndex = function () {\n    var e = this.isDisabled ? -1 : this._orgTabIndex,\n        t = this._imeHdl;\n    t && t._updateImeFocus();\n    var i = this._activeCell,\n        o = this._root,\n        n = this._eFocus;\n\n    if (i) {\n      i.tabIndex = e;\n      n.tabIndex = -1;\n      o.tabIndex = -1;\n    } else if (this.selectionMode != SelectionMode.None) {\n      n.tabIndex = e;\n      o.tabIndex = -1;\n    } else {\n      o.tabIndex = e;\n      n.tabIndex = -1;\n    }\n  };\n\n  FlexGrid.prototype._autoRowHeights = function () {\n    var e = this;\n\n    if (this._autoHeights) {\n      this.rows.length > 100 && [this.columnHeaders, this.rowHeaders].forEach(function (e) {\n        e._updateContent(!0, !1, e._getOffsetY());\n      });\n      clearTimeout(this._toAutoHeights);\n      this._toAutoHeights = setTimeout(function () {\n        e._toAutoHeights = null;\n        e.editRange || e._autoSizeRows();\n      }, Control._REFRESH_INTERVAL);\n    }\n  };\n\n  FlexGrid.prototype._autoSizeRows = function () {\n    var e = this.autoSizeMode,\n        t = AutoSizeMode;\n\n    if (e & t.Headers) {\n      this._autoSizeMode = t.Both;\n      this.autoSizeRows(0, this.columnHeaders.rows.length - 1, !0);\n      this._autoSizeMode = e;\n    }\n\n    e & t.Cells && this.autoSizeRows();\n  };\n\n  FlexGrid.prototype._getShowErrors = function () {\n    return this.showErrors && this._hasValidation;\n  };\n\n  FlexGrid.prototype._getHasValidation = function () {\n    return this._hasValidation;\n  };\n\n  FlexGrid.prototype._getError = function (e, t, i, o) {\n    if (isFunction(this.itemValidator)) {\n      if (e == this.cells) return this.itemValidator(t, i, o);\n      if (e == this.rowHeaders) for (i = 0; i < this.columns.length; i++) {\n        if (c = this.itemValidator(t, i, o)) return c;\n      }\n    }\n\n    var n = this._cv,\n        r = n ? n.getError : null;\n\n    if (isFunction(r)) {\n      var l = e.rows,\n          s = this.columns,\n          a = l[t].dataItem;\n      if (a && !(a instanceof CollectionViewGroup)) if (e == this.cells) for (; t < l.length && l[t].dataItem == a; t++) {\n        return r(a, this._getBindingColumn(this.cells, t, s[i]).binding, o);\n      } else if (e == this.rowHeaders) {\n        var c;\n\n        if (!(c = r(a, null, !1))) {\n          for (var u = []; t < l.length && l[t].dataItem == a; t++) for (i = 0; i < s.length; i++) {\n            c = r(a, this._getBindingColumn(this.cells, t, s[i]).binding, !1);\n            var d = this.getMergedRange(this.cells, t, i),\n                h = d && (d.columnSpan > 1 && d.col < i || d.rowSpan > 1 && d.row < t);\n            c && !h && u.push(c);\n          }\n\n          if (u.length) {\n            var p = this.errorTip,\n                f = !!p && p.isContentHtml;\n            c = u.join(f ? \"<br/>\" : \"\\n\");\n          }\n        }\n\n        return c;\n      }\n    }\n\n    return null;\n  };\n\n  FlexGrid.prototype._setAria = function (e, t) {\n    setAttribute(this.cells.hostElement, \"aria-\" + e, t);\n  };\n\n  FlexGrid.prototype._setFocus = function (e) {\n    if (this.hostElement) {\n      var t = getActiveElement(),\n          i = this.activeEditor,\n          o = this._activeCell,\n          n = this._eFocus,\n          r = this._root,\n          l = this._getTabIndex(),\n          s = this.containsFocus();\n\n      if (!e && s && this.selectionMode != SelectionMode.None) {\n        if (this.rows.length > 0 && this.selection.row >= 0 && this.selection.col >= 0) {\n          var a = this._getBindingColumn(this.cells, this.selection.row, this.columns[this.selection.col]),\n              c = a && a._edt;\n\n          !o || contains(o, t) || this.imeEnabled || c || this._correctFocusOfActiveCell(o);\n        }\n      } else if (e || !s) {\n        if (i) {\n          if (!contains(i, t)) {\n            i.focus();\n            n.tabIndex = -1;\n            r.tabIndex = -1;\n          }\n        } else if (o) contains(o, t) || this._correctFocusOfActiveCell(o);else if (!contains(n, t) && t != r) if (this.selectionMode != SelectionMode.None) {\n          n.tabIndex = l;\n\n          this._setFocusNoScroll(n);\n        } else {\n          r.tabIndex = l;\n\n          this._setFocusNoScroll(r);\n        }\n\n        if (!this.containsFocus()) if (this.selectionMode != SelectionMode.None) {\n          n.tabIndex = l;\n\n          this._setFocusNoScroll(n);\n        } else {\n          r.tabIndex = l;\n\n          this._setFocusNoScroll(r);\n        }\n      }\n    }\n  };\n\n  FlexGrid.prototype._correctFocusOfActiveCell = function (e) {\n    var t = this._getTabIndex();\n\n    if (getActiveElement() != this._root) {\n      isIE() && hasClass(e, \"wj-group\") && (e = e.querySelector(\".\" + CellFactory._WJC_COLLAPSE) || e);\n      e.tabIndex = t;\n\n      this._setFocusNoScroll(e);\n    } else e.tabIndex = t;\n\n    this._eFocus.tabIndex = -1;\n  };\n\n  FlexGrid.prototype._setFocusNoScroll = function (e) {\n    if (getActiveElement() != e) {\n      if (supportsFocusOptions()) e.focus({\n        preventScroll: !0\n      });else {\n        var t = this.scrollPosition,\n            i = e.style,\n            o = i.position;\n        i.position = \"fixed\";\n        e.focus();\n        i.position = o;\n        this.scrollPosition = t;\n      }\n\n      this._fixScroll();\n    }\n  };\n\n  FlexGrid.prototype._clearAnchorCell = function () {\n    this._anchorCell = null;\n  };\n\n  FlexGrid.prototype._setAnchorCell = function (e, t) {\n    var i = this.getMergedRange(this.cells, e, t);\n    this._anchorCell = i ? new Point(i.col, i.row) : new Point(t, e);\n  };\n\n  FlexGrid.prototype._getAnchorCell = function () {\n    return this._anchorCell;\n  };\n\n  FlexGrid.prototype._updateDefaultSizes = function () {\n    var e = this._getDefaultRowHeight();\n\n    this._rows._setDefaultSize(e);\n\n    this._cols._setDefaultSize(4 * e);\n\n    this._hdrRows._setDefaultSize(e);\n\n    this._hdrCols._setDefaultSize(Math.round(1.25 * e));\n\n    this._ftrRows._setDefaultSize(e);\n\n    return e;\n  };\n\n  FlexGrid.prototype._getDefaultRowHeight = function () {\n    var e = this.hostElement,\n        t = this._eFocus,\n        i = null;\n\n    if (!t.offsetHeight) {\n      i = createElement('<div><div class=\"wj-cell\">0</div></div>', document.body);\n      e && i.setAttribute(\"class\", e.getAttribute(\"class\"));\n      t = i.children[0];\n    }\n\n    var o = t.offsetHeight;\n    (isNaN(o) || o <= 6) && (o = 28);\n    removeChild(i);\n    return o;\n  };\n\n  FlexGrid.prototype._getCollectionView = function (e) {\n    return asCollectionView(e);\n  };\n\n  FlexGrid.prototype._getCanvasContext = function () {\n    var e = document.createElement(\"canvas\").getContext(\"2d\"),\n        t = getComputedStyle(this.hostElement);\n    e.font = t.fontSize + \" \" + t.fontFamily.split(\",\")[0];\n    return e;\n  };\n\n  FlexGrid.prototype._getWidestRow = function (e, t, i, o) {\n    for (var n = 0, r = 0, l = 1 === this._getRowsPerItem() && e.columns[i].dataType == DataType.Boolean, s = t.row; s <= t.row2; s++) if (e.rows[s].isVisible) {\n      var a = e.getCellData(s, i, !0),\n          c = o.measureText(a).width,\n          u = this.getMergedRange(e, s, i, !1);\n      u && u.columnSpan > 1 && (c /= u.columnSpan);\n\n      if (c > r) {\n        r = c;\n        n = s;\n      }\n\n      if (l) break;\n      s += u ? u.rowSpan - 1 : 0;\n    }\n\n    return n;\n  };\n\n  FlexGrid.prototype._getDesiredWidth = function (e, t, i, o) {\n    var n = this.getMergedRange(e, t, i, !1),\n        r = o.style;\n    this.cellFactory.updateCell(e, t, i, o, n);\n    r.width = r.top = r.left = \"\";\n    return o.offsetWidth / (n && n.columnSpan > 1 ? n.columnSpan : 1);\n  };\n\n  FlexGrid.prototype._getDesiredHeight = function (e, t, i, o) {\n    var n = o.style,\n        r = this.getMergedRange(e, t, i, !1),\n        l = r ? r.rowSpan : 1;\n    this.cellFactory.updateCell(e, t, i, o, r);\n    o.innerHTML.trim() || (o.innerHTML = \"&nbsp;\");\n    n.height = n.top = n.left = \"\";\n    return o.offsetHeight / l;\n  };\n\n  FlexGrid.prototype._getDesiredRowHeight = function (e, t, i, o) {\n    for (var n = 0, r = (e.rows[t], this._getQuickAutoSize()), l = 0; l < e.columns.length; l++) {\n      if (e.columns[l].isVisible) {\n        var s = this.getMergedRange(e, t, l, !1),\n            a = void 0;\n\n        if (r) {\n          var c = {\n            ct: e.cellType,\n            col: l,\n            spr: s && s.rowSpan > 1 ? s.rowSpan : 1,\n            spc: s && s.columnSpan > 1 ? s.columnSpan : 1,\n            data: e.getCellData(t, l, !0) || \"1\"\n          },\n              u = JSON.stringify(c);\n\n          if (null == (a = o[u])) {\n            a = this._getDesiredHeight(e, t, l, i);\n            o[u] = a;\n          }\n        } else a = this._getDesiredHeight(e, t, l, i);\n\n        n = Math.max(a, n);\n        l += s ? s.columnSpan - 1 : 0;\n      }\n    }\n\n    return n;\n  };\n\n  FlexGrid.prototype._getSortRowIndex = function () {\n    return null != this._sortRowIndex ? this._sortRowIndex : this.columnHeaders.rows.length - 1;\n  };\n\n  FlexGrid.prototype._getDeleteColumnIndex = function () {\n    return 0;\n  };\n\n  FlexGrid.prototype._getEditColumnIndex = function () {\n    return null != this._editColIndex ? this._editColIndex : this.rowHeaders.columns.length - 1;\n  };\n\n  FlexGrid.prototype._sortConverter = function (e, t, i, o) {\n    var n,\n        r = this;\n\n    if (o) {\n      this._mappedColumns = null;\n      this._cv && this._cv.sortDescriptions.forEach(function (e) {\n        if ((n = r.getColumn(e.property)) && n.dataMap) {\n          r._mappedColumns || (r._mappedColumns = {});\n          r._mappedColumns[n.binding] = n.dataMap;\n        }\n      });\n\n      if (this._mouseHdl._htDown && this._mouseHdl._htDown.col > -1) {\n        n = this.columns[this._mouseHdl._htDown.col];\n        this._mappedColumns && n.dataMap && (this._mappedColumns[n.binding] = n.dataMap);\n      }\n    }\n\n    if (this._mappedColumns) {\n      var l = this._mappedColumns[e.property];\n      l && l.sortByDisplayValues && (i = l.getDisplayValue(i));\n    }\n\n    return i;\n  };\n\n  FlexGrid.prototype._bindGrid = function (e) {\n    var t = this;\n    this.finishEditing();\n    this.deferUpdate(function () {\n      t.autoGenerateColumns && 0 == t._lastCount && hasItems(t._cv) && (e = !0);\n      var i;\n      t.preserveSelectedState && (i = t._getMap()) && t.rows.forEach(function (e) {\n        e.isSelected && e.dataItem && i.set(e.dataItem, !0);\n      });\n\n      var o,\n          n = t._getMap();\n\n      n && t.rows.forEach(function (e) {\n        e.isReadOnly && e.dataItem && n.set(e.dataItem, !0);\n      });\n      if (t.preserveOutlineState && t.rows.maxGroupLevel > -1 && (o = t._getMap())) for (var r = 0; r < t.rows.length; r++) {\n        var l = t.rows[r];\n\n        if (l instanceof GroupRow && l.isCollapsed && l.dataItem) {\n          var s = l.dataItem;\n          s instanceof CollectionViewGroup && (s = s._path);\n          o.set(s, !0);\n        }\n      }\n      e && t.columns.deferUpdate(function () {\n        t._bindColumns();\n      });\n      var a = new CancelEventArgs();\n\n      if (t.onLoadingRows(a)) {\n        t.rows.deferUpdate(function () {\n          t._bindRows();\n        });\n        t.onLoadedRows(a);\n      }\n\n      t._selHdl.extendedSelection.clear();\n\n      var c = 0;\n      i && i.size && t.rows.forEach(function (e) {\n        var t = e.dataItem;\n\n        if (t && i.has(t)) {\n          e.isSelected = !0;\n          c++;\n        }\n      });\n      n && n.size && t.rows.forEach(function (e) {\n        var t = e.dataItem;\n        t && n.has(t) && (e.isReadOnly = !0);\n      });\n\n      if (0 == c && t.selectionMode == SelectionMode.ListBox) {\n        var u = t.selection;\n\n        for (r = u.topRow; r <= u.bottomRow && r > -1 && r < t.rows.length; r++) t.rows[r]._setFlag(RowColFlags.Selected, !0, !0);\n      }\n\n      o && o.size && t.rows.deferUpdate(function () {\n        t.rows.forEach(function (e) {\n          if (e instanceof GroupRow) {\n            var t = e.dataItem;\n            t instanceof CollectionViewGroup && (t = t._path);\n            o.has(t) && (e.isCollapsed = !0);\n          }\n        });\n      });\n\n      if (!t._lastCount) {\n        var d = t._cv;\n        d && d.items && (t._lastCount = d.items.length);\n      }\n    });\n\n    if (this._cv) {\n      var i = e && !this._toInv;\n\n      this._syncSelection(i);\n    } else {\n      var o = this.selection,\n          n = new CellRange(-1, o.col, -1, o.col2);\n\n      this._selHdl._adjustSelection(n, this.selectionMode);\n    }\n  };\n\n  FlexGrid.prototype._getMap = function () {\n    return window.Map ? new Map() : null;\n  };\n\n  FlexGrid.prototype._cvCollectionChanged = function (e, t) {\n    if (this.autoGenerateColumns && 0 == this.columns.length) this._bindGrid(!0);else {\n      var i = NotifyCollectionChangedAction;\n      if (this.childItemsPath && t.action != i.Change) this._bindGrid(!1);else {\n        switch (t.action) {\n          case i.Change:\n            this.invalidate();\n            return;\n\n          case i.Add:\n            if (t.index == this._cv.items.length - 1) {\n              var o = this.rows.length;\n              this.rows[o - 1] instanceof _NewRowTemplate && o--;\n              this.rows.insert(o, new Row(t.item));\n              return;\n            }\n\n            assert(!1, \"added item should be the last one.\");\n            break;\n\n          case i.Remove:\n            var n = this._findRow(t.item);\n\n            if (n > -1) {\n              this.rows.removeAt(n);\n\n              this._syncSelection(!1);\n\n              return;\n            }\n\n            assert(!1, \"removed item not found on grid.\");\n        }\n\n        this._bindGrid(!1);\n      }\n    }\n  };\n\n  FlexGrid.prototype._cvCurrentChanged = function (e, t) {\n    this._syncSelection(!1);\n  };\n\n  FlexGrid.prototype._syncSelection = function (e) {\n    if (this._cv && this.selectionMode != SelectionMode.None) {\n      var t = this._selHdl,\n          i = t.selection,\n          o = i.row > -1 && i.row < this.rows.length ? this.rows[i.row] : null,\n          n = o ? o.dataItem : null,\n          r = this._cv;\n      if (r instanceof CollectionView && r.isUpdating) return;\n      if (this.newRowAtTop && o instanceof _NewRowTemplate) return;\n      n instanceof CollectionViewGroup && (n = null);\n      var l = this._isISChanging;\n\n      if (e || n != r.currentItem || i.row >= this.rows.length || i.row2 >= this.rows.length || l && i.row !== i.row2) {\n        var s = this.editableCollectionView;\n\n        if (!this.childItemsPath || !s || !s.currentAddItem) {\n          var a = this._getRowIndex(r.currentPosition);\n\n          if (a != i.row || !this.childItemsPath) {\n            var c = l ? i.col : i.col2;\n            i = new CellRange(a, i.col, a, c);\n\n            t._adjustSelection(i, this.selectionMode);\n\n            this.selectionMode && !this._updating && this.scrollIntoView(i.row, -1);\n          }\n        }\n      }\n    }\n  };\n\n  FlexGrid.prototype._getRowIndex = function (e) {\n    if (this._cv) {\n      var t = this.rows;\n\n      if (e > -1) {\n        for (var i = this._cv.items[e]; e < t.length; e++) if (t[e].dataItem === i) return e;\n\n        return -1;\n      }\n\n      if (1 == t.length && t[0] instanceof _NewRowTemplate) return 0;\n      var o = this.selection.row,\n          n = o > -1 ? t[o] : null;\n      return n && (n instanceof GroupRow || null == n.dataItem) ? o : -1;\n    }\n\n    return this.selection.row;\n  };\n\n  FlexGrid.prototype._getCvIndex = function (e) {\n    return e > -1 && e < this.rows.length ? this.rows[e].dataIndex : -1;\n  };\n\n  FlexGrid.prototype._findRow = function (e) {\n    for (var t = 0; t < this.rows.length; t++) if (this.rows[t].dataItem == e) return t;\n\n    return -1;\n  };\n\n  FlexGrid.prototype._preWidth = function () {\n    var e = this._root,\n        t = this._hdrVis & HeadersVisibility.Row ? this._hdrCols.getTotalSize() : 0;\n    return e.clientWidth - t;\n  };\n\n  FlexGrid.prototype._updateLayout = function () {\n    var e = new CancelEventArgs();\n\n    if (this.onUpdatingLayout(e)) {\n      var t = this._hdrVis & HeadersVisibility.Row ? this._hdrCols.getTotalSize() : 0,\n          i = this._hdrVis & HeadersVisibility.Column ? this._hdrRows.getTotalSize() : 0,\n          o = this._ftrRows.getTotalSize(),\n          n = this._rows.getTotalSize() + o;\n\n      n < 1 && (n = 1);\n      this._heightReal = n;\n      this._heightBrowser = Math.min(n, FlexGrid._getMaxSupportedCssHeight());\n      this._maxOffsetY = Math.max(0, n - this._heightBrowser);\n      var r = getComputedStyle(this._eFocus);\n      this._cellPadVert = parseInt(r.paddingTop) + parseInt(r.paddingBottom);\n      this._cellPadHorz = parseInt(r.paddingLeft) + parseInt(r.paddingRight);\n      this._cellPadLeft = parseInt(this.rightToLeft ? r.paddingRight : r.paddingLeft);\n      var l = this._heightBrowser + i - o,\n          s = this._gpCells.width,\n          a = this._heightBrowser;\n      !s && this.rows.length && (s = .1);\n      !a && this.columns.length && (a = .1);\n\n      if (this.rightToLeft) {\n        setCss(this._eTL, {\n          right: 0,\n          top: 0,\n          width: t,\n          height: i\n        });\n        setCss(this._eCHdr, {\n          right: t,\n          top: 0,\n          height: i\n        });\n        setCss(this._eRHdr, {\n          right: 0,\n          top: i,\n          width: t\n        });\n        setCss(this._eCt, {\n          right: t,\n          top: i,\n          width: s,\n          height: a\n        });\n        setCss(this._fCt, {\n          right: t,\n          top: i\n        });\n        setCss(this._eBL, {\n          right: 0,\n          top: l,\n          width: t,\n          height: o\n        });\n        setCss(this._eCFtr, {\n          right: t,\n          top: l,\n          height: o\n        });\n      } else {\n        setCss(this._eTL, {\n          left: 0,\n          top: 0,\n          width: t,\n          height: i\n        });\n        setCss(this._eCHdr, {\n          left: t,\n          top: 0,\n          height: i\n        });\n        setCss(this._eRHdr, {\n          left: 0,\n          top: i,\n          width: t\n        });\n        setCss(this._eCt, {\n          left: t,\n          top: i,\n          width: s,\n          height: a\n        });\n        setCss(this._fCt, {\n          left: t,\n          top: i\n        });\n        setCss(this._eBL, {\n          left: 0,\n          top: l,\n          width: t,\n          height: o\n        });\n        setCss(this._eCFtr, {\n          left: t,\n          top: l,\n          height: o\n        });\n      }\n\n      this._stickyHdr && this._updateStickyHeaders();\n      var c = this.frozenRows || this.frozenColumns ? \"3\" : \"\";\n      setCss([this._eTL, this._eBL, this._eCFtr, this._eRHdr, this._eMarquee], {\n        zIndex: c || \"1\"\n      });\n      setCss(this._root, {\n        zIndex: 0\n      });\n      setCss(this._eCHdr, {\n        zIndex: c || \"2\"\n      });\n      isIE() && (this._fCt.style.zIndex = c ? \"2\" : \"\");\n      var u = this._root,\n          d = u.offsetWidth - u.clientWidth,\n          h = u.offsetHeight - u.clientHeight;\n      setCss(this._eSz, {\n        width: t + d + this._gpCells.width,\n        height: i + h + this._heightBrowser\n      });\n      var p = null;\n\n      if (this.columns._updateStarSizes(u.clientWidth - t)) {\n        p = u.clientWidth;\n        setCss(this._eCt, {\n          width: this._gpCells.width\n        });\n        this.onStarSizedColumns();\n      }\n\n      this._szClient = new Size(u.clientWidth - t, u.clientHeight - i);\n      this._szClientSB = new Size(u.offsetWidth - t, u.offsetHeight - i);\n      this._rcBounds = null;\n\n      this._updateScrollHandler();\n\n      this._updateContent(!1);\n\n      d = u.offsetWidth - u.clientWidth;\n      h = u.offsetHeight - u.clientHeight;\n      setCss(this._eSz, {\n        width: t + d + this._gpCells.width,\n        height: i + h + this._heightBrowser\n      });\n      this._szClient = new Size(u.clientWidth - t, u.clientHeight - i);\n\n      if (p && p != u.clientWidth && this.columns._updateStarSizes(u.clientWidth - t)) {\n        setCss(this._eCt, {\n          width: this._gpCells.width\n        });\n\n        this._updateContent(!1);\n      }\n\n      setCss([this._eCHdr, this._eCFtr, this._fCt], {\n        width: this._szClient.width\n      });\n      setCss([this._eRHdr, this._fCt], {\n        height: this._szClient.height\n      });\n\n      if (o) {\n        l = Math.min(l, this._szClient.height + i - o);\n        setCss([this._eBL, this._eCFtr], {\n          top: l\n        });\n      }\n\n      this.onUpdatedLayout(e);\n    }\n  };\n\n  FlexGrid.prototype._updateStickyHeaders = function () {\n    var e = !1,\n        t = 0;\n\n    if (this._stickyHdr) {\n      for (var i = 0, o = null, n = this.hostElement; n; n = n.parentElement) if (\"inline\" != getComputedStyle(n).display) {\n        var r = n.getBoundingClientRect();\n        null == o && (o = r.top);\n        i = Math.max(i, r.top);\n      }\n\n      t = -(o = Math.max(0, i - o - 1));\n      e = o > 0;\n      this._rcBounds = null;\n    }\n\n    this._eTL.style.top = this._eCHdr.style.top = e ? -t + \"px\" : \"\";\n    toggleClass(this._eTL, FlexGrid._WJS_STICKY, e);\n    toggleClass(this._eCHdr, FlexGrid._WJS_STICKY, e);\n  };\n\n  FlexGrid.prototype._updateScrollHandler = function () {\n    this._clipToScreen = this._getClipToScreen();\n    var e = this._stickyHdr || this._clipToScreen;\n\n    if (e != this._scrollHandlerAttached) {\n      this._scrollHandlerAttached = e;\n      e ? this.addEventListener(window, \"scroll\", this._scroll.bind(this), !0) : this.removeEventListener(window, \"scroll\");\n    }\n  };\n\n  FlexGrid.prototype._getClipToScreen = function () {\n    if (this.rows.length <= FlexGrid._MIN_VIRT_ROWS) return !1;\n    if (this._root.scrollHeight > this._root.clientHeight) return !1;\n\n    for (var e = this.hostElement; e && e != document.documentElement; e = e.parentElement) {\n      if (\"auto\" == getComputedStyle(e).overflow) return !1;\n    }\n\n    return !0;\n  };\n\n  FlexGrid.prototype._scroll = function (e) {\n    var t = this;\n\n    if (contains(e.target, this.hostElement)) {\n      if (this._clipToScreen) {\n        this._afClip && cancelAnimationFrame(this._afClip);\n        this._afClip = requestAnimationFrame(function () {\n          t._afClip = null;\n          t.finishEditing();\n\n          t._updateContent(!0);\n        });\n      }\n\n      if (this._stickyHdr) {\n        this._afSticky && cancelAnimationFrame(this._afSticky);\n        this._afSticky = requestAnimationFrame(function () {\n          t._afSticky = null;\n          var e = new CancelEventArgs();\n\n          if (t.onUpdatingLayout(e)) {\n            t._updateStickyHeaders();\n\n            t.onUpdatedLayout(e);\n          }\n        });\n      }\n    }\n  };\n\n  FlexGrid.prototype._getCssPage = function (e) {\n    if (this._heightReal > this._heightBrowser) {\n      var t = this._szClient.height - this._gpCFtr.rows.getTotalSize();\n\n      if (this._heightBrowser > t) return clamp(Math.round(e / (this._heightBrowser - t) * 10) / 10, 0, 1);\n    }\n\n    return 0;\n  };\n\n  FlexGrid.prototype._updateScrollPosition = function () {\n    var e = this._root,\n        t = e.scrollTop,\n        i = e.scrollLeft;\n    this.rightToLeft && \"rev\" == FlexGrid._getRtlMode() && (i = e.scrollWidth - e.clientWidth - i);\n    var o = new Point(-Math.abs(i), -t);\n\n    if (!this._ptScrl.equals(o)) {\n      this._ptScrl = o;\n      this.onScrollPositionChanged();\n      return !0;\n    }\n\n    return !1;\n  };\n\n  FlexGrid.prototype._updateContent = function (e, t) {\n    var i = this,\n        o = this._root,\n        n = this.hostElement,\n        r = this.cells.hostElement,\n        l = this._activeCell,\n        s = getActiveElement(),\n        a = contains(n, s),\n        c = closest(s, \".wj-flexgrid\") == n ? s : null,\n        u = new CancelEventArgs();\n\n    if (this.onUpdatingView(u)) {\n      if ([HeadersFocusability.All, HeadersFocusability.Column].includes(this.headersFocusability)) {\n        setAttribute(this.hostElement, \"role\", this.rows.maxGroupLevel < 0 ? \"grid\" : \"treegrid\");\n        setAttribute(this.hostElement, \"aria-label\", this.ariaLabel);\n      } else {\n        setAttribute(r, \"role\", this.rows.maxGroupLevel < 0 ? \"grid\" : \"treegrid\");\n        setAttribute(r, \"aria-label\", this.ariaLabel);\n      }\n\n      this._hasValidation = isFunction(this._itemValidator) || this._cv && isFunction(this._cv.getError);\n\n      var d = !t && this._errorTip && this._errorTip._tips.length,\n          h = this._getCssPage(-this._ptScrl.y);\n\n      if (h != this._cssPage) {\n        this._cssPage = h;\n        this._offsetY = Math.round(this._maxOffsetY * h);\n      }\n\n      this._updateScrollPosition();\n\n      this._updateMarquee();\n\n      var p = this._gpCells._updateContent(e, t, this._offsetY),\n          f = this._hdrVis;\n\n      if (f & HeadersVisibility.Column && (!t || this._ssHdr & f)) {\n        this._gpCHdr._updateContent(e, t, 0);\n\n        this.rightToLeft || (this._eCHdr.scrollLeft = 0);\n      }\n\n      if (f & HeadersVisibility.Row && (!t || this._ssHdr & f)) {\n        this._gpRHdr._updateContent(e, t, this._offsetY);\n\n        this._eRHdr.scrollTop = 0;\n      }\n\n      f && !t && this._gpTL._updateContent(e, t, 0);\n\n      if (this._gpCFtr.rows.length) {\n        this._gpBL._updateContent(e, t, 0);\n\n        this._gpCFtr._updateContent(e, t, 0);\n      }\n\n      if (d && this._errorTip && this._errorTip._tips.length) {\n        clearTimeout(this._toErrorTips);\n        this._toErrorTips = setTimeout(function () {\n          var e = i._errorTip;\n\n          if (e) {\n            e.hide();\n\n            for (var t = e._tips, o = 0; o < t.length; o++) {\n              var n = t[o].element;\n\n              if (!n.offsetHeight || !hasClass(n, \"wj-state-invalid\")) {\n                e.setTooltip(n, null);\n                o--;\n              }\n            }\n          }\n        }, 250);\n      }\n\n      if (this._useFrozenDiv()) {\n        this._updateFrozenCells(t);\n\n        p && hasClass(p, \"wj-frozen\") && (p = null);\n      }\n\n      this._fCt.style.display = this._fCt.childElementCount ? \"\" : \"none\";\n      this._activeCell = p;\n      if (c) if (c != o && c != this._eFocus && contains(n, c) && !contains(r, c)) {\n        getActiveElement() !== c && c.focus();\n\n        if (isIE() && c instanceof HTMLInputElement && !c.type.match(/checkbox|radio|range/i)) {\n          var g = c.selectionStart,\n              _ = c.selectionEnd;\n          c.setSelectionRange(g, _);\n        }\n      } else {\n        var m = p !== l;\n\n        this._setFocus(m);\n      }\n      !c && p && (p.tabIndex = this.isDisabled ? -1 : this._orgTabIndex);\n      l && l != p && (l.tabIndex = -1);\n      if (this.selectionMode != SelectionMode.None) this._eFocus.tabIndex = null != p || this.isDisabled ? -1 : this._orgTabIndex;else {\n        this._eFocus.tabIndex = -1;\n        this._root.tabIndex = null != p || this.isDisabled ? -1 : this._orgTabIndex;\n      }\n      a && this.focus();\n\n      this._fixScroll();\n\n      this._rcBounds = null;\n      this.onUpdatedView(u);\n    }\n  };\n\n  FlexGrid.prototype._fixScroll = function () {\n    var e = this._root;\n\n    if (!this._updating) {\n      var t = this.hostElement,\n          i = e ? e.parentElement : null,\n          o = this.rightToLeft;\n\n      if (t) {\n        t.scrollTop && (t.scrollTop = 0);\n        t.scrollLeft && !o && (t.scrollLeft = 0);\n      }\n\n      if (i) {\n        i.scrollTop && (i.scrollTop = 0);\n        i.scrollLeft && !o && (i.scrollLeft = 0);\n      }\n    }\n\n    var n = _getSafariVer();\n\n    if (e && n && 14 == n.major && n.minor >= 1) {\n      e.style.transform = \"\";\n      e.style.transform = \"translateZ(0)\";\n    }\n  };\n\n  FlexGrid.prototype._clearCells = function () {\n    for (var e in this) if (\"_\" == e[0]) {\n      var t = this[e];\n      t instanceof GridPanel && t._clearCells();\n    }\n\n    this.invalidate();\n  };\n\n  FlexGrid.prototype._useFrozenDiv = function () {\n    return isBoolean(this._fzClone) ? this._fzClone : isIE() || isFirefox() || isSafari() || isMobile();\n  };\n\n  FlexGrid.prototype._updateFrozenCells = function (e) {\n    var t = this._fCt;\n\n    if (this.frozenRows || this.frozenColumns) {\n      var i = this._eCt.querySelectorAll(\".wj-frozen\");\n\n      if (e && t.children.length == i.length) {\n        for (var o = 0; o < i.length; o++) t.children[o].className = i[o].className;\n\n        return;\n      }\n\n      setText(t, null);\n\n      if (!this.activeEditor) {\n        var n = this._errorTip,\n            r = navigator.userAgent.indexOf(\"MSIE\") >= 0;\n\n        for (o = 0; o < i.length; o++) {\n          var l = i[o];\n\n          if (closest(l, \".wj-flexgrid\") == this.hostElement) {\n            var s = l[GridPanel._INDEX_KEY],\n                a = l.firstElementChild,\n                c = null;\n\n            if (s && a) {\n              var u = s.panel,\n                  d = this._getBindingColumn(u, s.row, u.columns[s.col]);\n\n              c = isFunction(d.cellTemplate) ? a.onclick : null;\n            }\n\n            if (r) {\n              var h = \"input[type=checkbox]\",\n                  p = l.querySelector(h);\n              l = l.cloneNode(!0);\n\n              if (p) {\n                l.querySelector(h).checked = p.checked;\n              }\n            } else l = l.cloneNode(!0);\n\n            a = l.firstElementChild;\n            c && a && (a.onclick = c);\n            l[GridPanel._INDEX_KEY] = s;\n\n            if (n) {\n              var f = n.getTooltip(i[o]);\n              f && n.setTooltip(l, f);\n            }\n\n            t.appendChild(l);\n          }\n        }\n      }\n    } else setText(t, null);\n  };\n\n  FlexGrid.prototype._updateMarquee = function () {\n    var e = this._eMarquee,\n        t = this._getMarqueeRect();\n\n    if (t && t.width && t.height) {\n      var i = e.firstChild,\n          o = e.offsetWidth - i.offsetWidth,\n          n = e.offsetHeight - i.offsetHeight,\n          r = this.cells.hostElement;\n      setCss(e, {\n        left: t.left + r.offsetLeft - o / 2,\n        top: t.top + r.offsetTop - n / 2,\n        width: t.width + o,\n        height: t.height + n,\n        display: \"\"\n      });\n    } else e.style.display = \"none\";\n  };\n\n  FlexGrid.prototype._hideMarquee = function () {\n    var e = this._eMarquee;\n    setCss(e, {\n      display: \"none\"\n    });\n  };\n\n  FlexGrid.prototype._getMarqueeRect = function () {\n    if (!this._shMarquee || !this.selectionMode) return null;\n    var e = this._selHdl.selection;\n    if (!this.isRangeValid(e)) return null;\n    e = (e = (e = this.cells._getAdjustedSelection(e)).combine(this.getMergedRange(this.cells, e.topRow, e.leftCol, !1))).combine(this.getMergedRange(this.cells, e.bottomRow, e.rightCol, !1));\n    var t = this.cells.getCellBoundingRect(e.topRow, e.leftCol, !0),\n        i = this.cells.getCellBoundingRect(e.bottomRow, e.rightCol, !0);\n\n    if (this.rows.frozen) {\n      var o = Math.min(this.rows.length, this.rows.frozen),\n          n = this.cells.getCellBoundingRect(o - 1, 0, !0);\n      e.topRow >= o && t.top < n.bottom && (t.top = n.bottom);\n      e.bottomRow >= o && i.bottom < n.bottom && (i.height = n.bottom - i.top);\n    }\n\n    if (this.columns.frozen) {\n      var r = Math.min(this.columns.length, this.columns.frozen);\n      n = this.cells.getCellBoundingRect(0, r - 1, !0);\n\n      if (this.rightToLeft) {\n        e.leftCol >= r && t.right > n.left && (t.left = n.left - t.width);\n        e.rightCol >= r && i.left > n.left && (i.left = n.left);\n      } else {\n        e.leftCol >= r && t.left < n.right && (t.left = n.right);\n        e.rightCol >= r && i.right < n.right && (i.width = n.right - i.left);\n      }\n    }\n\n    return this.rightToLeft ? new Rect(i.left, t.top, t.right - i.left, i.bottom - t.top) : new Rect(t.left, t.top, i.right - t.left, i.bottom - t.top);\n  };\n\n  FlexGrid.prototype._bindColumns = function () {\n    for (var e = this.columns, t = 0; t < e.length; t++) {\n      if (e[t]._getFlag(RowColFlags.AutoGenerated)) {\n        e.removeAt(t);\n        t--;\n      }\n    }\n\n    var i = this._cv,\n        o = i ? i.items : null;\n    o && o.length && this.autoGenerateColumns && this._getColumnTypes(o).forEach(function (t) {\n      var i = new Column(t);\n\n      i._setFlag(RowColFlags.AutoGenerated, !0);\n\n      i.name = i.binding;\n      i.header = toHeaderCase(i.binding);\n      var o = FlexGrid._defTypeWidth[i.dataType];\n\n      if (null != o) {\n        if (isString(o)) {\n          var n = Math.round(parseFloat(o));\n          o = o.indexOf(\"*\") > -1 ? n * e.defaultSize : n;\n        }\n\n        isNumber(o) && o > 0 && (i.width = o);\n      }\n\n      e.push(i);\n    });\n\n    this._updateColumnTypes();\n  };\n\n  FlexGrid.prototype._getColumnTypes = function (e) {\n    return getTypes(e);\n  };\n\n  FlexGrid.prototype._updateColumnTypes = function () {\n    var e = this._cv;\n\n    if (hasItems(e)) {\n      var t = e.items[0];\n      this.columns.forEach(function (e) {\n        null == e.dataType && e._binding && (e.dataType = getType(e._binding.getValue(t)));\n      });\n    }\n  };\n\n  FlexGrid.prototype._getMapEditor = function (e, t) {\n    return t.editor ? null != t.editor.isDroppedDown ? t.dataMapEditor : null : !e.dataMap || e instanceof GroupRow ? t.dataMap ? t.dataMapEditor : null : e.dataMapEditor;\n  };\n\n  FlexGrid.prototype._getBindingColumn = function (e, t, i) {\n    return i;\n  };\n\n  FlexGrid.prototype._getBindingColumns = function () {\n    return this.columns;\n  };\n\n  FlexGrid.prototype._getRowsPerItem = function () {\n    return 1;\n  };\n\n  FlexGrid.prototype._isTransposed = function () {\n    return !1;\n  };\n\n  FlexGrid.prototype._getRowHeaderPath = function () {\n    return this._rowHdrPath;\n  };\n\n  FlexGrid.prototype._bindRows = function () {\n    this.rows.clear();\n    var e = this._cv;\n\n    if (e && e.items) {\n      var t = e.items,\n          i = e.groups;\n      if (this.childItemsPath) for (var o = 0; o < t.length; o++) this._addNode(t, o, 0);else if (null != i && i.length > 0 && this.showGroups) for (o = 0; o < i.length; o++) this._addGroup(i[o]);else for (o = 0; o < t.length; o++) this._addBoundRow(t, o);\n    }\n  };\n\n  FlexGrid.prototype._addBoundRow = function (e, t) {\n    var i = new Row(e[t]),\n        o = this.rows;\n    i._list = o;\n    o[o.length++] = i;\n  };\n\n  FlexGrid.prototype._addGroupRow = function (e) {\n    this.rows.push(new GroupRow(e));\n  };\n\n  FlexGrid.prototype._addNode = function (e, t, i) {\n    var o = e[t],\n        n = this.childItemsPath,\n        r = o[isArray(n) ? n[i] : n],\n        l = new GroupRow(o);\n    l.level = i;\n    this.rows.push(l);\n    if (isArray(r)) for (var s = 0; s < r.length; s++) this._addNode(r, s, i + 1);\n  };\n\n  FlexGrid.prototype._addGroup = function (e) {\n    this._addGroupRow(e);\n\n    if (e.isBottomLevel) for (var t = e.items, i = 0; i < t.length; i++) this._addBoundRow(t, i);else for (i = 0; i < e.groups.length; i++) this._addGroup(e.groups[i]);\n  };\n\n  FlexGrid._getSerializableProperties = function (e) {\n    var t = [];\n\n    for (e = e.prototype; e != Object.prototype; e = Object.getPrototypeOf(e)) for (var i = Object.getOwnPropertyNames(e), o = 0; o < i.length; o++) {\n      var n = i[o],\n          r = Object.getOwnPropertyDescriptor(e, n);\n      r && r.set && r.get && \"_\" != n[0] && !n.match(/^(disabled|required|showDropDown)$/) && t.push(n);\n    }\n\n    return t;\n  };\n\n  FlexGrid.prototype._hasColumnGroups = function () {\n    return this._grpHdl.hasColumnGroups();\n  };\n\n  FlexGrid.prototype._getColumnGroup = function (e, t) {\n    return this._grpHdl.getColumnGroup(e, t);\n  };\n\n  FlexGrid.prototype._canMoveColumnGroup = function (e, t, i, o) {\n    return this._grpHdl.canMoveColumnGroup(e, t, i, o);\n  };\n\n  FlexGrid.prototype._moveColumnGroup = function (e, t, i, o, n) {\n    return this._grpHdl.moveColumnGroup(e, t, i, o, n);\n  };\n\n  FlexGrid.prototype._copy = function (e, t) {\n    var i = this;\n\n    if (\"columns\" == e) {\n      var o = asArray(t);\n      if (o.some(function (e) {\n        return null != e.columns;\n      })) this.columnGroups = o;else {\n        this.columns.clear();\n        o.forEach(function (e) {\n          var t = new Column(e);\n          i.columns.push(t);\n        });\n      }\n      return !0;\n    }\n\n    return !1;\n  };\n\n  FlexGrid.prototype._isInputElement = function (e) {\n    return e instanceof HTMLElement && !hasClass(e, \"wj-btn-glyph\") && (\"true\" == e.contentEditable || null != e.tagName.match(/^(INPUT|TEXTAREA|BUTTON|A|SELECT|OPTION)$/i));\n  };\n\n  FlexGrid.prototype._isNativeCheckbox = function (e) {\n    return e instanceof HTMLInputElement && \"checkbox\" == e.type && !e.disabled && !e.readOnly && hasClass(e, CellFactory._WJC_CHECKBOX) && closest(e, \".wj-flexgrid\") == this.hostElement;\n  };\n\n  FlexGrid.prototype._wantsInput = function (e) {\n    return this._isInputElement(e) && !this.activeEditor && !this._isNativeCheckbox(e) && !hasClass(e, \"wj-grid-ime\") && contains(document.body, e);\n  };\n\n  FlexGrid._getMaxSupportedCssHeight = function () {\n    if (!FlexGrid._maxCssHeight) {\n      var e = 265e5;\n      isIE() ? e = 15e5 : isFirefox() && (e = 175e5);\n      FlexGrid._maxCssHeight = e;\n    }\n\n    return FlexGrid._maxCssHeight;\n  };\n\n  FlexGrid._getRtlMode = function () {\n    if (!FlexGrid._rtlMode) {\n      var e = createElement('<div dir=\"rtl\"><div></div></div>');\n      setCss(e, {\n        visibility: \"hidden\",\n        width: 100,\n        height: 100,\n        overflow: \"auto\"\n      });\n      setCss(e.firstChild, {\n        width: 2e3,\n        height: 2e3\n      });\n      document.body.appendChild(e);\n      var t = e.scrollLeft;\n      e.scrollLeft = -1e3;\n      var i = e.scrollLeft;\n      removeChild(e);\n      FlexGrid._rtlMode = i < 0 ? \"neg\" : t > 0 ? \"rev\" : \"std\";\n    }\n\n    return FlexGrid._rtlMode;\n  };\n\n  FlexGrid.prototype.getEmptyRequiredCell = function (e) {\n    if (e >= 0) for (var t = 0; t < this.columns.length; t++) {\n      var i = this.getCellData(e, t, !1);\n      if (this.columns[t].getIsRequired(this.rows[e]) && (\"\" === i || null == i)) return t;\n    }\n    return null;\n  };\n\n  FlexGrid._WJS_STICKY = \"wj-state-sticky\";\n  FlexGrid._WJS_MEASURE = \"wj-state-measuring\";\n  FlexGrid._WJS_UPDATING = \"wj-state-updating\";\n  FlexGrid._WJS_WSPRE = \"wj-whitespace-pre\";\n  FlexGrid._MIN_VIRT_ROWS = 200;\n  FlexGrid._defTypeWidth = ((_a = {})[DataType.Number] = \"0.714285714*\", _a);\n  FlexGrid.controlTemplate = '<div>  <div wj-part=\"ch\"><div wj-part=\"chcells\" class=\"wj-colheaders\"></div></div><div wj-part=\"root\"><div wj-part=\"cells\" class=\"wj-cells\"></div><div wj-part=\"marquee\" class=\"wj-marquee\"><div></div></div></div><div wj-part=\"fcells\" aria-hidden=\"true\" class=\"wj-cells wj-frozen-clone\"></div><div wj-part=\"rh\"><div wj-part=\"rhcells\" class=\"wj-rowheaders\"></div></div><div wj-part=\"cf\"><div wj-part=\"cfcells\" class=\"wj-colfooters\"></div></div><div wj-part=\"bl\"><div wj-part=\"blcells\" class=\"wj-bottomleft\"></div></div><div wj-part=\"tl\"><div wj-part=\"tlcells\" class=\"wj-topleft\"></div></div><div wj-part=\"focus\" class=\"wj-cell\">0</div><div wj-part=\"sz\"></div></div>';\n  return FlexGrid;\n}(Control);\n\nexport { FlexGrid };\n\nvar _ImeHandler = function () {\n  function _ImeHandler(e) {\n    var t = this;\n    this._updateImeFocusAsyncBnd = this._updateImeFocusAsync.bind(this);\n    this._cmpstartBnd = this._compositionstart.bind(this);\n    this._keypressBnd = this._keypress.bind(this);\n    this._g = e;\n    var i = createElement('<textarea class=\"wj-grid-editor wj-form-control wj-grid-ime\" aria-hidden=\"true\"/>');\n    setCss(i, _ImeHandler._cssHidden);\n    disableAutoComplete(i);\n    i.tabIndex = -1;\n    this._tbx = i;\n    this._maskProvider = new _MaskProvider(i);\n\n    e._root.appendChild(i);\n\n    this._updateImeFocus();\n\n    var o = e.hostElement,\n        n = e.addEventListener.bind(e),\n        r = this._updateImeFocusAsyncBnd;\n    n(o, \"blur\", r, !0);\n    n(o, \"focus\", r, !0);\n    n(i, \"compositionstart\", this._cmpstartBnd);\n    isiOS() && n(o, \"keypress\", this._keypressBnd);\n    e.selectionChanged.addHandler(r, this);\n    e.cellEditEnded.addHandler(this._cellEditEnded, this);\n    e.cellEditEnding.addHandler(this._cellEditEnding, this);\n    n(o, \"mousedown\", function (t) {\n      closest(getActiveElement(), \".wj-flexgrid\") == e.hostElement && e.hitTest(t).panel == e.cells && hasClass(e.hitTest(t).target, \"wj-cell\") && t.preventDefault();\n    });\n    e.gotFocus.addHandler(function () {\n      return t._updateImeFocus();\n    });\n  }\n\n  _ImeHandler.prototype.dispose = function () {\n    var e = this._g,\n        t = e.hostElement,\n        i = this._tbx,\n        o = e.removeEventListener.bind(e),\n        n = this._updateImeFocusAsyncBnd;\n    o(t, \"blur\", n);\n    o(t, \"focus\", n);\n    o(t, \"keypress\", this._keypressBnd);\n    o(i, \"compositionstart\", this._cmpstartBnd);\n    e.selectionChanged.removeHandler(n);\n    e.cellEditEnded.removeHandler(this._cellEditEnded);\n    e.cellEditEnding.removeHandler(this._cellEditEnding);\n    removeChild(i);\n  };\n\n  _ImeHandler.prototype._compositionstart = function (e) {\n    var t = this,\n        i = this._g;\n\n    if (!i.activeEditor) {\n      var o = i._selHdl.selection;\n\n      if (i.startEditing(!1, o.row, o.col, !1, e)) {\n        if (i.activeEditor && \"checkbox\" != i.activeEditor.type) {\n          o = i.editRange;\n\n          var n = i._getBindingColumn(i.cells, o.row, i.columns[o.col]),\n              r = n && n._edt,\n              l = i.activeEditor,\n              s = this._tbx,\n              a = i.cells.hostElement,\n              c = i.columns[o.col].pos + a.offsetLeft,\n              u = i.rows[o.row].pos + a.offsetTop,\n              d = i.getCellBoundingRect(o.row, o.col),\n              h = i.cells.getCellElement(o.row, o.col);\n\n          d.width = h.offsetWidth;\n          d.height = h.offsetHeight;\n          o.row < i.frozenRows && (u += i._root.scrollTop);\n          o.col < i.frozenColumns && (c += i._root.scrollLeft);\n          var p = h.querySelector(\".wj-btn.wj-right\");\n          p && (d.width -= p.offsetWidth);\n          \"minLength,maxLength,pattern\".split(\",\").forEach(function (e) {\n            setAttribute(s, e, l.getAttribute(e));\n          });\n          var f = l instanceof HTMLTextAreaElement;\n          setAttribute(s, \"wrap\", f ? \"soft\" : \"off\");\n          var g = getComputedStyle(h),\n              _ = g.paddingTop;\n\n          if (o.rowSpan > 1 && !f) {\n            var m = parseFloat(g.lineHeight);\n            isNaN(m) && (m = 1.2 * parseFloat(g.fontSize));\n            _ = Math.max(0, (d.height - m) / 2) + \"px\";\n          }\n\n          var C = {\n            position: \"absolute\",\n            left: c,\n            top: u,\n            width: d.width - 1,\n            height: d.height - 1,\n            paddingTop: _,\n            paddingLeft: g.paddingLeft,\n            paddingRight: g.paddingRight,\n            textAlign: g.textAlign,\n            zIndex: h.style.zIndex\n          };\n\n          if (i.rightToLeft) {\n            C.right = parseInt(h.style.right) + parseInt(i.cells.hostElement.style.right);\n            C.left = \"\";\n          }\n\n          setCss(s, C);\n\n          if (r) {\n            var w = r._tbx.getBoundingClientRect(),\n                v = s.getBoundingClientRect(),\n                y = window.getComputedStyle(s),\n                b = parseFloat(y.left),\n                R = parseFloat(y.right),\n                E = parseFloat(y.top);\n\n            i.rightToLeft ? setCss(s, {\n              right: R + v.right - w.right + \"px\",\n              top: E + w.top - v.top + \"px\",\n              width: w.width + \"px\",\n              height: w.height + \"px\"\n            }) : setCss(s, {\n              left: b + w.left - v.left + \"px\",\n              top: E + w.top - v.top + \"px\",\n              width: w.width + \"px\",\n              height: w.height + \"px\"\n            });\n          }\n\n          i._edtHdl._edt = s;\n          s.select();\n          var x = l.value;\n          setTimeout(function () {\n            \"\" != s.value && \" \" != s.value || (s.value = x);\n            setSelectionRange(s, s.value.length);\n          }, 20);\n          s.placeholder = l.placeholder;\n          l.placeholder = \"\";\n          l.value = \"\";\n        }\n      } else {\n        this._tbx.blur();\n\n        setTimeout(function () {\n          t._tbx.focus();\n\n          i._setFocusNoScroll(i.hostElement);\n        }, 20);\n      }\n    }\n  };\n\n  _ImeHandler.prototype._cellEditEnding = function () {\n    var e = this._maskProvider;\n    e && e.mask && e._valueChanged();\n  };\n\n  _ImeHandler.prototype._cellEditEnded = function () {\n    var e = this._tbx,\n        t = this._g;\n\n    if (this._enableIme()) {\n      var i = getActiveElement();\n      i.blur();\n      if (t._isScrollingByWheel) setTimeout(function () {\n        i.focus();\n\n        t._setFocusNoScroll(t.hostElement);\n\n        i.focus();\n      }, 20);else {\n        i.focus();\n\n        t._setFocusNoScroll(t.hostElement);\n\n        i.focus();\n      }\n    }\n\n    e.value = \"\";\n    setCss(e, _ImeHandler._cssHidden);\n\n    this._updateImeFocus();\n  };\n\n  _ImeHandler.prototype._keypress = function (e) {\n    if (!e.defaultPrevented && e.target == this._tbx && !(e.ctrlKey || e.altKey || e.metaKey || 27 == e.keyCode || this._g.activeEditor)) {\n      this._tbx.value = \"\";\n\n      this._compositionstart(e);\n\n      e.stopPropagation();\n    }\n  };\n\n  _ImeHandler.prototype._updateImeFocus = function () {\n    var e = this._g,\n        t = this._tbx,\n        i = getActiveElement(),\n        o = e._getTabIndex();\n\n    if (e.activeEditor || closest(i, \".wj-flexgrid\") != e.hostElement) (e.isDisabled || o < 0) && t.tabIndex >= 0 && (t.tabIndex = -1);else if (this._enableIme() && !e._wantsInput(i)) {\n      if (i != t) {\n        e.activeCell && (e.activeCell.tabIndex = -1);\n        t.tabIndex = o;\n        t.disabled = !1;\n        t.value = \"\";\n        if (!e.isTouching) if (window && window.top != window.self) {\n          setSelectionRange(t, 0, 0, !1);\n\n          e._setFocusNoScroll(t);\n        } else {\n          setSelectionRange(t, 0);\n          t.focus();\n        }\n      }\n\n      var n = e._selHdl.selection,\n          r = n.isValid ? e._getBindingColumn(e.cells, n.row, e.columns[n.col]) : null;\n      this._maskProvider.mask = r ? r.mask : null;\n    } else {\n      t.tabIndex = -1;\n      t.disabled = !0;\n      t.value = \"\";\n\n      if (i == t) {\n        t.blur();\n        var l = e.activeCell;\n\n        if (l) {\n          l.tabIndex = o;\n          l.focus();\n        } else e.focus();\n      }\n    }\n  };\n\n  _ImeHandler.prototype._updateImeFocusAsync = function () {\n    var e = this;\n    this._toFocus && clearTimeout(this._toFocus);\n    this._toFocus = setTimeout(function () {\n      e._toFocus = null;\n\n      e._updateImeFocus();\n    }, 100);\n  };\n\n  _ImeHandler.prototype._resetTabIndex = function () {\n    this._tbx.tabIndex = -1;\n  };\n\n  _ImeHandler.prototype._enableIme = function () {\n    var e = this._g,\n        t = e._selHdl.selection;\n    if (!e.canEditCell(t.row, t.col)) return !1;\n    var i = t.isValid ? e._getBindingColumn(e.cells, t.row, e.columns[t.col]) : null;\n    return !(!i || i.dataType == DataType.Boolean) && (!i || !i.dataMap || i.dataMapEditor != DataMapEditor.RadioButtons);\n  };\n\n  _ImeHandler._cssHidden = {\n    position: \"fixed\",\n    width: \"1px\",\n    left: -32e3,\n    top: -32e3,\n    overflow: \"hidden\"\n  };\n  return _ImeHandler;\n}();\n\nexport { _ImeHandler };\n\nvar _AddNewHandler = function () {\n  function _AddNewHandler(e) {\n    this._nrt = new _NewRowTemplate();\n    this._top = !1;\n    this._keydownBnd = this._keydown.bind(this);\n    this._committing = !1;\n    this._pasting = !1;\n    this._g = e;\n\n    this._attach();\n  }\n\n  Object.defineProperty(_AddNewHandler.prototype, \"newRowAtTop\", {\n    get: function () {\n      return this._top;\n    },\n    set: function (e) {\n      if (e != this.newRowAtTop) {\n        this._top = asBoolean(e);\n        this.updateNewRowTemplate();\n        var t = this._g;\n\n        if (this._top && t.selectionMode == SelectionMode.ListBox) {\n          t.rows.forEach(function (e, t) {\n            e._setFlag(RowColFlags.Selected, 0 == t, !0);\n          });\n          t.select(0, t.selection.col);\n        }\n      }\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  _AddNewHandler.prototype.updateNewRowTemplate = function () {\n    var e = this._g,\n        t = e.editableCollectionView,\n        i = e.rows,\n        o = this._nrt,\n        n = t && t.canAddNew && e.allowAddNew && !e.isReadOnly,\n        r = i.indexOf(o),\n        l = this._top ? 0 : i.length - 1,\n        s = !1;\n\n    if (!n && r > -1) {\n      var a = e.selection;\n      a.row == r && e.select(a.row - 1, a.col);\n      i.removeAt(r);\n    } else if (n) {\n      if (r < 0) s = !0;else if (r != l) {\n        i.removeAt(r);\n        s = !0;\n      }\n      s && (this._top ? i.insert(0, o) : i.push(o));\n\n      if (o) {\n        o._ubv = null;\n\n        o._setFlag(RowColFlags.ParentCollapsed, !1);\n\n        this._top && e.selectionMode == SelectionMode.ListBox || o._setFlag(RowColFlags.Selected, !1);\n      }\n    }\n  };\n\n  _AddNewHandler.prototype._attach = function () {\n    var e = this._g;\n\n    if (e) {\n      e.pasting.addHandler(this._pastingData, this);\n      e.pasted.addHandler(this._pastedData, this);\n      e.loadedRows.addHandler(this.updateNewRowTemplate, this);\n      e.hostElement.addEventListener(\"keydown\", this._keydownBnd, !0);\n    }\n  };\n\n  _AddNewHandler.prototype._detach = function () {\n    var e = this._g;\n\n    if (e) {\n      e.pasting.removeHandler(this._pastingData, this);\n      e.pasted.removeHandler(this._pastedData, this);\n      e.loadedRows.removeHandler(this.updateNewRowTemplate);\n      e.hostElement.removeEventListener(\"keydown\", this._keydownBnd, !0);\n    }\n  };\n\n  _AddNewHandler.prototype._keydown = function (e) {\n    if (!e.defaultPrevented && e.keyCode == Key.Escape && null == this._g.activeEditor && this._top && this._nrt.dataItem) {\n      this._nrt.dataItem = null;\n\n      this._g.invalidate();\n    }\n  };\n\n  _AddNewHandler.prototype._beginningEdit = function (e, t) {\n    if (!t.cancel) {\n      var i = e.rows[t.row];\n      i instanceof _NewRowTemplate && this._handleEditStarting(e, t, i);\n    }\n  };\n\n  _AddNewHandler.prototype._pastingData = function (e, t) {\n    t.cancel || (this._pasting = !0);\n  };\n\n  _AddNewHandler.prototype._pastedData = function (e, t) {\n    this._pasting = !1;\n  };\n\n  _AddNewHandler.prototype._rowEditStarting = function (e, t) {\n    if (this._pasting) {\n      var i = e.rows[t.row];\n      i instanceof _NewRowTemplate && this._handleEditStarting(e, t, i);\n    }\n  };\n\n  _AddNewHandler.prototype._rowEditEnding = function (e, t) {\n    var i = e.editableCollectionView,\n        o = this._nrt.dataItem;\n\n    if (i && this._top && o && !t.cancel) {\n      var n = i.currentAddItem;\n\n      if (!(n && n == o)) {\n        n = i.addNew();\n\n        for (var r in o) n[r] = o[r];\n      }\n    }\n  };\n\n  _AddNewHandler.prototype._rowEditEnded = function (e, t) {\n    var i = this,\n        o = e.editableCollectionView;\n    if (o && !this._committing) if (this._top) {\n      if (t.cancel) return;\n      var n = this._nrt.dataItem;\n\n      if (n) {\n        this._committing = !0;\n        this._nrt.dataItem = null;\n        var r = this._g.rows,\n            l = o.items.indexOf(n) + 1;\n        l < r.length && t._rng.setRange(l, -1);\n        e.onRowAdded(t) ? o.commitNew() : o.cancelNew();\n        this._committing = !1;\n      }\n\n      var s = e.rows[t.row];\n      setTimeout(function () {\n        s instanceof _NewRowTemplate && e.select(0, e.columns.firstVisibleIndex);\n        i.updateNewRowTemplate();\n      }, 20);\n    } else o.isAddingNew && o.commitNew();\n  };\n\n  _AddNewHandler.prototype._handleEditStarting = function (e, t, i) {\n    var o = e.editableCollectionView;\n    if (o && o.canAddNew) if (this._top) {\n      if (null == this._nrt.dataItem) {\n        var n = null,\n            r = o.sourceCollection,\n            l = o.newItemCreator;\n        n = isFunction(l) ? l() : r && r.length ? new r[0].constructor() : {};\n        this._nrt.dataItem = n;\n      } else o.currentAddItem && (e.onRowAdded(t) || o.cancelNew());\n    } else {\n      n = o.currentAddItem && o.currentAddItem == i.dataItem ? o.currentAddItem : o.addNew();\n      o.moveCurrentTo(n);\n      var s = this._nrt.isSelected;\n      this.updateNewRowTemplate();\n      s && t.row > -1 && (e.rows[t.row].isSelected = !0);\n      e.isUpdating || e.refresh(!0);\n      e.onRowAdded(t) || o.cancelNew();\n    }\n  };\n\n  return _AddNewHandler;\n}();\n\nexport { _AddNewHandler };\n\nvar _NewRowTemplate = function (e) {\n  __extends(_NewRowTemplate, e);\n\n  function _NewRowTemplate() {\n    return null !== e && e.apply(this, arguments) || this;\n  }\n\n  return _NewRowTemplate;\n}(Row);\n\nexport { _NewRowTemplate };\nexport var AllowMerging;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.Cells = 1] = \"Cells\";\n  e[e.ColumnHeaders = 2] = \"ColumnHeaders\";\n  e[e.RowHeaders = 4] = \"RowHeaders\";\n  e[e.AllHeaders = 6] = \"AllHeaders\";\n  e[e.All = 7] = \"All\";\n}(AllowMerging || (AllowMerging = {}));\n\nvar MergeManager = function () {\n  function MergeManager(e) {\n    null != e && console.error('** WARNING: the \"grid\" parameter has been deprecated. Please remove it.');\n  }\n\n  MergeManager.prototype.getMergedRange = function (e, t, i, o) {\n    void 0 === o && (o = !0);\n    var n = e.grid,\n        r = e.cellType,\n        l = e.columns,\n        s = e.rows,\n        a = s[t],\n        c = l[i];\n    if (a instanceof _NewRowTemplate) return null;\n    if (!(a instanceof Row && c instanceof Column)) return null;\n\n    if (e == n.columnHeaders) {\n      var u = n._getColumnGroup(t, i);\n\n      if (u) {\n        var d = u._rng,\n            h = e.columns;\n\n        if (h.isFrozen(d.col) != h.isFrozen(d.col2)) {\n          d = d.clone();\n          h.isFrozen(i) ? d.col2 = h.frozen - 1 : d.col = h.frozen;\n        }\n\n        return d;\n      }\n    }\n\n    if (n.showGroups && !n.childItemsPath && a instanceof GroupRow && a.dataItem instanceof CollectionViewGroup && r == CellType.Cell) {\n      d = new CellRange(t, i);\n\n      if (c.aggregate == Aggregate.None) {\n        for (; d.col > 0 && l[d.col - 1].aggregate == Aggregate.None && d.col != l.frozen;) d.col--;\n\n        for (; d.col2 < l.length - 1 && l[d.col2 + 1].aggregate == Aggregate.None && d.col2 + 1 != l.frozen;) d.col2++;\n      }\n\n      for (; d.col < i && !l[d.col].visible;) d.col++;\n\n      return d.isSingleCell ? null : d;\n    }\n\n    var p = !1,\n        f = AllowMerging,\n        g = CellType;\n\n    switch (n.allowMerging) {\n      case f.None:\n        p = !0;\n        break;\n\n      case f.Cells:\n        p = r != g.Cell;\n        break;\n\n      case f.ColumnHeaders:\n        p = r != g.ColumnHeader && r != g.TopLeft;\n        break;\n\n      case f.RowHeaders:\n        p = r != g.RowHeader && r != g.TopLeft;\n        break;\n\n      case f.AllHeaders:\n        p = r == g.Cell;\n    }\n\n    if (p) return null;\n\n    if (r == g.Cell) {\n      var _ = n.editableCollectionView,\n          m = _ ? _.currentAddItem : null;\n      if (m && a.dataItem == m) return null;\n    }\n\n    if (l[i].allowMerging) {\n      d = new CellRange(t, i);\n      var C = e._vrb,\n          w = 0,\n          v = s.length - 1;\n\n      if (t >= s.frozen) {\n        if (o && (r == CellType.Cell || r == CellType.RowHeader) && n._vtRows < s.length && C) {\n          w = C.topRow;\n          v = C.bottomRow;\n        }\n      } else s.length > s.frozen && (v = s.frozen - 1);\n\n      for (var y = t - 1; y >= w && this._mergeCell(e, y, i, t, i); y--) d.row = y;\n\n      for (var b = t + 1; b <= v && this._mergeCell(e, t, i, b, i); b++) d.row2 = b;\n\n      for (; d.row < t && !s[d.row].visible;) d.row++;\n\n      if (!d.isSingleCell) return d;\n    }\n\n    if (s[t].allowMerging) {\n      d = new CellRange(t, i), C = e._vrb;\n      var R = 0,\n          E = l.length - 1;\n\n      if (i >= l.frozen) {\n        if (o && (r == CellType.Cell || r == CellType.ColumnHeader) && n._vtCols < l.length && C) {\n          R = C.leftCol;\n          E = C.rightCol;\n        }\n      } else E = l.frozen - 1;\n\n      for (var x = i - 1; x >= R && this._mergeCell(e, t, x, t, i); x--) d.col = x;\n\n      for (var S = i + 1; S <= E && this._mergeCell(e, t, i, t, S); S++) d.col2 = S;\n\n      for (; d.col < i && !l[d.col].visible;) d.col++;\n\n      if (!d.isSingleCell) return d;\n    }\n\n    return null;\n  };\n\n  MergeManager.prototype._mergeCell = function (e, t, i, o, n) {\n    var r = e.rows[t],\n        l = e.rows[o];\n    if (!r || !l) return !1;\n    if (r instanceof GroupRow || r instanceof _NewRowTemplate || l instanceof GroupRow || l instanceof _NewRowTemplate) return !1;\n    var s = e.grid.editableCollectionView,\n        a = s ? s.currentAddItem : null;\n    if (a && (r.dataItem == a || l.dataItem == a)) return !1;\n    if (t != o && e.rows.isFrozen(t) != e.rows.isFrozen(o)) return !1;\n    if (i != n && e.columns.isFrozen(i) != e.columns.isFrozen(n)) return !1;\n\n    if (t != o) {\n      if (i > 0 && (r.allowMerging && this._mergeCell(e, t, i - 1, t, i) || l.allowMerging && this._mergeCell(e, o, i - 1, o, i))) return !1;\n      if (n < e.columns.length - 1 && (r.allowMerging && this._mergeCell(e, t, n, t, n + 1) || l.allowMerging && this._mergeCell(e, o, n, o, n + 1))) return !1;\n    }\n\n    return e.getCellData(t, i, !0) == e.getCellData(o, n, !0);\n  };\n\n  return MergeManager;\n}();\n\nexport { MergeManager };\n\nvar HitTestInfo = function () {\n  function HitTestInfo(e, t) {\n    this._row = -1;\n    this._col = -1;\n    this._edge = 0;\n    var i;\n\n    if (t instanceof Element) {\n      if (closest(t, \".wj-flexgrid\") != e.hostElement) return;\n      e = t;\n      this._target = t;\n    }\n\n    if (!(e instanceof Element) || e instanceof FlexGrid) {\n      if (e instanceof FlexGrid) {\n        this._target = e.hostElement;\n        i = this._g = e;\n      } else {\n        if (!(e instanceof GridPanel)) throw \"First parameter should be a FlexGrid or GridPanel.\";\n        this._target = e.hostElement;\n        this._p = e;\n        i = this._g = this._p.grid;\n      }\n\n      if (t instanceof MouseEvent) {\n        this._target = t.target;\n        \"mousedown\" == t.type && (i._rcBounds = null);\n      }\n\n      t = mouseToPage(t);\n      this._pt = t.clone();\n\n      var o = i.controlRect,\n          n = i._szClient,\n          r = i.topLeftCells,\n          l = i._eTL,\n          s = i.headersVisibility,\n          a = HeadersVisibility,\n          c = s & a.Row ? r.columns.getTotalSize() : 0,\n          u = s & a.Column ? r.rows.getTotalSize() : 0,\n          d = s & a.Column ? u + l.offsetTop : 0,\n          h = i._eBL,\n          p = h.offsetHeight,\n          f = getComputedStyle(i.hostElement),\n          g = f && f.borderLeftWidth ? parseFloat(f.borderLeftWidth) : 0,\n          _ = f && f.borderTopWidth ? parseFloat(f.borderTopWidth) : 0;\n\n      t.x -= o.left - g;\n      t.y -= o.top - _;\n      i.rightToLeft && (t.x = o.width - t.x);\n      this._p || t.x >= 0 && t.y >= l.offsetTop && n && t.x <= n.width + c && t.y <= n.height + u && (t.y < d ? this._p = t.x < c ? i.topLeftCells : i.columnHeaders : t.y < h.offsetTop ? this._p = t.x < c ? i.rowHeaders : i.cells : this._p = t.x < c ? i.bottomLeftCells : i.columnFooters);\n\n      if (null != this._p) {\n        var m = this._p.rows,\n            C = this._p.columns,\n            w = this._p.cellType,\n            v = CellType,\n            y = this._p._getFrozenPos(),\n            b = w == v.TopLeft || w == v.ColumnHeader ? u : w == v.BottomLeft || w == v.ColumnFooter ? p : m.getTotalSize(),\n            R = w == v.TopLeft || w == v.BottomLeft || w == v.RowHeader ? c : C.getTotalSize();\n\n        if (w == v.RowHeader || w == v.Cell) {\n          t.y -= u;\n\n          if (t.y > y.y || y.y <= 0) {\n            t.y -= i._ptScrl.y;\n            t.y += this._p._getOffsetY();\n          }\n        } else w != v.BottomLeft && w != v.ColumnFooter || (t.y -= h.offsetTop);\n\n        if (w == v.ColumnHeader || w == v.Cell || w == v.ColumnFooter) {\n          t.x -= c;\n          (t.x > y.x || y.x <= 0) && (t.x -= i._ptScrl.x);\n        }\n\n        w != v.ColumnHeader && w != v.TopLeft || (t.y -= d - u);\n        this._edge = 0;\n        var E = HitTestInfo._SZEDGE[this._g.isTouching ? 1 : 0];\n\n        if (this._g.isTouching) {\n          E = HitTestInfo._SZEDGE[1];\n          t.x -= E / 2;\n        }\n\n        this._row = t.y > b ? -1 : m.getItemAt(t.y);\n        this._col = t.x > R ? -1 : C.getItemAt(t.x);\n\n        if (this._row < 0 || this._col < 0) {\n          this._p = null;\n          return;\n        }\n\n        if (this._col > -1) {\n          var x = C[this._col];\n          t.x - x.pos <= E && (this._edge |= 1);\n          var S = x.pos + x.renderSize - t.x;\n\n          if (S <= E) {\n            this._edge |= 4;\n            S <= E / 2 && (this._edge |= 16);\n          }\n        }\n\n        if (this._row > -1) {\n          var H = m[this._row];\n          t.y - H.pos <= E && (this._edge |= 2);\n          var M = H.pos + H.renderSize - t.y;\n\n          if (M <= E) {\n            this._edge |= 8;\n            M <= E / 2 && (this._edge |= 32);\n          }\n        }\n      }\n    } else {\n      var F = closest(e, \".wj-cell\"),\n          T = F ? F[GridPanel._INDEX_KEY] : null;\n\n      if (T) {\n        this._target = e;\n        this._row = T.row;\n        this._col = T.col;\n        this._rng = T.rng;\n        this._p = T.panel;\n        this._g = T.panel.grid;\n      }\n    }\n  }\n\n  Object.defineProperty(HitTestInfo.prototype, \"point\", {\n    get: function () {\n      return this._pt;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(HitTestInfo.prototype, \"cellType\", {\n    get: function () {\n      return this._p ? this._p.cellType : CellType.None;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(HitTestInfo.prototype, \"panel\", {\n    get: function () {\n      return this._p;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(HitTestInfo.prototype, \"grid\", {\n    get: function () {\n      return this._p ? this._p.grid : null;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(HitTestInfo.prototype, \"row\", {\n    get: function () {\n      return this._row;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  HitTestInfo.prototype.getRow = function () {\n    return this._p && this._row > -1 ? this._p.rows[this._row] : null;\n  };\n\n  Object.defineProperty(HitTestInfo.prototype, \"col\", {\n    get: function () {\n      return this._col;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  HitTestInfo.prototype.getColumn = function (e) {\n    var t = this._p,\n        i = t && this._col > -1 ? t.columns[this._col] : null;\n\n    if (i && e) {\n      var o = t.grid;\n      i = t.cellType === CellType.ColumnHeader && o._hasColumnGroups() ? o._getColumnGroup(this._row, this._col) : o._getBindingColumn(t, this._row, i);\n    }\n\n    return i;\n  };\n\n  Object.defineProperty(HitTestInfo.prototype, \"range\", {\n    get: function () {\n      this._rng || (this._rng = new CellRange(this._row, this._col));\n      return this._rng;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(HitTestInfo.prototype, \"edgeLeft\", {\n    get: function () {\n      return 0 != (1 & this._edge);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(HitTestInfo.prototype, \"edgeTop\", {\n    get: function () {\n      return 0 != (2 & this._edge);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(HitTestInfo.prototype, \"edgeRight\", {\n    get: function () {\n      return 0 != (4 & this._edge);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(HitTestInfo.prototype, \"edgeFarRight\", {\n    get: function () {\n      return 0 != (16 & this._edge);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(HitTestInfo.prototype, \"edgeBottom\", {\n    get: function () {\n      return 0 != (8 & this._edge);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(HitTestInfo.prototype, \"edgeFarBottom\", {\n    get: function () {\n      return 0 != (32 & this._edge);\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(HitTestInfo.prototype, \"target\", {\n    get: function () {\n      return this._target;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  HitTestInfo._SZEDGE = [6, 30];\n  return HitTestInfo;\n}();\n\nexport { HitTestInfo };\nexport function softInput() {\n  return _getModule(\"wijmo.input\");\n}\n\nvar _MASK_PROVIDER = \"$WJ-MSKP\",\n    CellFactory = function () {\n  function CellFactory() {}\n\n  CellFactory.prototype.updateCell = function (e, t, i, o, n, r) {\n    var l = e.grid,\n        s = l.rightToLeft,\n        a = e.rows,\n        c = e.columns,\n        u = a[t],\n        d = c[i],\n        h = t,\n        p = i,\n        f = u instanceof GroupRow ? u : null,\n        g = u instanceof _NewRowTemplate ? u : null,\n        _ = d.renderWidth,\n        m = u.renderHeight,\n        C = e.cellType,\n        w = \"wj-cell\",\n        v = \"\",\n        y = {\n      display: \"\"\n    },\n        b = CellType;\n    0 != r && o.firstElementChild && (1 == o.childNodes.length && \"checkbox\" == o.firstElementChild.type || (o.textContent = \"\"));\n\n    if (n && !n.isSingleCell) {\n      t = n.row;\n      i = n.col;\n      h = n.row2;\n      p = n.col2;\n      u = a[t];\n      d = c[i];\n      f = u instanceof GroupRow ? u : null;\n      m = (I = n.getRenderSize(e)).height;\n      _ = I.width;\n    }\n\n    var R,\n        E,\n        x,\n        S,\n        H,\n        M,\n        F = l._getBindingColumn(e, t, d),\n        T = F ? F.dataType : u ? u.dataType : void 0;\n\n    x = C == b.RowHeader || C == b.Cell && (!f || l.childItemsPath);\n    M = F && F.isContentHtml || u && u.isContentHtml;\n\n    if (null != T) {\n      R = F.dataMap || u.dataMap, E = C == b.Cell ? l._getMapEditor(u, F) : null, S = x && E == DataMapEditor.RadioButtons;\n      H = T == DataType.Boolean && !R;\n    }\n\n    var G = d.pos,\n        P = u.pos,\n        A = l._ptScrl;\n    if (l._useFrozenDiv() && C == b.Cell && !l.editRange) i < c.frozen && h >= a.frozen ? P += A.y : t < a.frozen && p >= c.frozen && (G += A.x);else {\n      var I = l._szClient;\n\n      if (h < a.frozen) {\n        P = Math.min(P, I.height);\n        m = Math.min(m, Math.max(0, I.height - P));\n        P -= A.y;\n      }\n\n      if (p < c.frozen) {\n        var z = 0 != I.width ? I.width : l._preWidth();\n        G = Math.min(G, z);\n        _ = Math.min(_, Math.max(0, z - G));\n        G -= A.x;\n      }\n    }\n    s ? y.right = G + \"px\" : y.left = G + \"px\";\n    h >= a.frozen && (P -= e._getOffsetY());\n    y.top = P + \"px\";\n    y.width = _ + \"px\";\n    y.height = m + \"px\";\n    y.zIndex = \"\";\n    (t < a.frozen || i < c.frozen) && (y.zIndex = t < a.frozen && i < c.frozen ? 2 : 1);\n    var D = !1,\n        L = l.alternatingRowStep;\n\n    if (L && (!n || n.row == n.row2)) {\n      D = u.visibleIndex % (L + 1) == 0;\n      1 == L && (D = !D);\n    }\n\n    if (C == b.Cell) {\n      f && (w += \" wj-group\");\n      D && (w += \" wj-alt\");\n      (t < a.frozen || i < c.frozen) && (w += \" wj-frozen\");\n      g && (w += \" wj-new\");\n      u && u.cssClass && (w += \" \" + u.cssClass);\n      F && F.cssClass && (w += \" \" + F.cssClass);\n    } else {\n      w += \" wj-header\";\n      D && (w += \" wj-header-alt\");\n      u && u.cssClass && C == b.ColumnHeader && (w += \" \" + u.cssClass);\n      F && F.cssClass && C == b.RowHeader && (w += \" \" + F.cssClass);\n      var O = !1;\n      C != b.ColumnHeader && C != b.TopLeft || l.allowResizing & AllowResizing.Columns && (O = null != l._mouseHdl._getResizeCol(e, p));\n      O || C != b.RowHeader || l.allowResizing & AllowResizing.Rows && (O = null != l._mouseHdl._getResizeRow(e, h));\n      O && (w += \" wj-big-header\");\n    }\n\n    u && u.cssClassAll && (w += \" \" + u.cssClassAll);\n    F && F.cssClassAll && (w += \" \" + F.cssClassAll);\n    var j = SelectedState,\n        N = e.getSelectedState(t, i, n);\n    N != j.None && C == b.Cell && !H && l.editRange && l.editRange.contains(t, i) && (N = j.None);\n\n    switch (N) {\n      case j.Active:\n        w += \" wj-state-active\";\n        break;\n\n      case j.Cursor:\n        w += \" wj-state-selected wj-state-active\";\n        break;\n\n      case j.Selected:\n        w += \" wj-state-multi-selected\";\n    }\n\n    h == a._lastFrozen && (w += \" wj-frozen-row\");\n    p == c._lastFrozen && (w += \" wj-frozen-col\");\n    (F && F.wordWrap || u && u.wordWrap) && (w += \" wj-wrap\");\n    (F && F.multiLine || u && u.multiLine) && (w += \" wj-multiline\");\n    var k = F ? F.getAlignment(u) : void 0;\n    k && (v = \" wj-align-\" + k);\n\n    var B = C,\n        V = l._isTransposed(),\n        K = (B == b.ColumnHeader && !V || B == b.RowHeader && V) && l._hasColumnGroups() ? l._getColumnGroup(t, i) : null;\n\n    K && K.align && (v = \" wj-align-\" + K.align);\n    y.paddingLeft = y.paddingRight = y.paddingTop = y.paddingBottom = \"\";\n\n    if (C == b.Cell && l.rows.maxGroupLevel > -1 && i == c.firstVisibleIndex && l.treeIndent) {\n      var W = f ? Math.max(0, f.level) : a.maxGroupLevel + 1,\n          q = Math.min(l.treeIndent * W + l._cellPadLeft, _ - l._cellPadHorz) + \"px\";\n      s ? y.paddingRight = q : y.paddingLeft = q;\n    }\n\n    _ <= l._cellPadHorz && null == o.getAttribute(FlexGrid._WJS_MEASURE) && (y.paddingLeft = y.paddingRight = 0);\n    var U = C == b.Cell && i == c.firstVisibleIndex && f && f.hasChildren && !_isEditingCell(l, t, i);\n    U && (v = \"\");\n\n    if (0 != r && F) {\n      var J = e.getCellData(t, i, !1),\n          Y = e.getCellData(t, i, !0);\n\n      if (U) {\n        var X = _getTreeBtn(f, o);\n\n        Y = f.getGroupHeader() || escapeHtml(Y);\n        o.innerHTML = X.outerHTML + \" \" + Y;\n      } else if (C != b.ColumnHeader || h != l._getSortRowIndex() && F == d) {\n        if (C == b.RowHeader && !Y && function () {\n          var e = !1;\n\n          if (i == l._getEditColumnIndex()) {\n            var t = l.editableCollectionView,\n                n = t ? t.currentEditItem : null;\n            Y = o.innerHTML = n && u.dataItem == n ? _getGlyph(\"pencil\") : u instanceof _NewRowTemplate ? _getGlyph(\"asterisk\") : \"\";\n            e = !0;\n          }\n\n          var r = F._tpl;\n\n          if (r) {\n            _renderTemplate(r, o, J, Y, u, F);\n\n            e = !0;\n          }\n\n          return e;\n        }()) ;else if (C != b.Cell || T != DataType.Boolean || R || f && !isBoolean(J)) {\n          if (C == b.Cell && !S && _isEditingCell(l, t, i)) {\n            var Z = F.inputType || u.inputType;\n            Z || (Z = T != DataType.Number || R ? \"text\" : \"tel\");\n\n            if (!R && !F.mask && !u.mask) {\n              var $ = e.getCellData(t, i, !1);\n              isNumber($) && (Y = _getEditString($, F.format || u.format));\n            }\n\n            o.innerHTML = (F.multiLine || u.multiLine) && \"checkbox\" != Z ? '<textarea wrap=\"soft\"></textarea>' : '<input type=\"' + Z + '\"/>';\n            var Q = o.children[0];\n            addClass(Q, \"wj-grid-editor wj-form-control\");\n            disableAutoComplete(Q);\n            M && R && !R.isEditable && (Y = toPlainText(Y));\n            Q.value = Y;\n            Q.tabIndex = -1;\n            Q.required = F.getIsRequired(u);\n            setAttribute(Q, \"aria-required\", Q.required);\n            var ee = F.maxLength || u.maxLength;\n            ee && (Q.maxLength = ee);\n            Q.style.textAlign = F.getAlignment(u);\n            var te = F.mask || u.mask;\n            te && (Q[_MASK_PROVIDER] = new _MaskProvider(Q, te));\n            l.showPlaceholders && (Q.placeholder = F.header);\n            l._edtHdl._edt = Q;\n          } else {\n            if (S) {\n              var ie = [],\n                  oe = e.getCellData(t, i, !1);\n              R.getDisplayValues(u.dataItem).forEach(function (e) {\n                var t = R.getKeyValue(e) == oe ? \" checked\" : \"\",\n                    i = l.isReadOnly || u.isReadOnly || d.isReadOnly ? \" disabled\" : \"\",\n                    o = escapeHtml(e);\n                ie.push('<label><input type=\"radio\" tabindex=\"-1\"' + t + i + ' value=\"' + o + '\"><span>' + o + \"</span></label>\");\n              });\n              o.innerHTML = ie.join(\" \");\n              w += \" \" + CellFactory._WJC_RADIOMAP;\n            }\n\n            var ne = x ? F._tpl : null;\n            ne ? _renderTemplate(ne, o, J, Y, u, F) : S || (C == b.Cell && M ? o.innerHTML = Y : o.textContent = Y || \"\");\n\n            if (K && K.collapseTo) {\n              var re = K._rng;\n\n              if (re && (C == b.ColumnHeader && re.columnSpan > 1 || C == b.RowHeader && re.rowSpan > 1)) {\n                var le = K.isCollapsed;\n                o.innerHTML = '<div role=\"button\" class=\"' + CellFactory._WJC_COLLAPSE + '\">' + _getGlyph(le ? \"plus\" : \"minus\") + \"</div>&nbsp;\" + o.innerHTML;\n                le && addClass(o, \"wj-state-collapsed\");\n              }\n            }\n          }\n        } else {\n          var se = o.firstChild;\n\n          if (!l._isNativeCheckbox(se)) {\n            o.innerHTML = '<label><input type=\"checkbox\" class=\"' + CellFactory._WJC_CHECKBOX + '\" tabindex=\"-1\"/><span></span></label>';\n            se = o.querySelector(\"input\");\n          }\n\n          setChecked(se, J);\n          se.disabled = !l.canEditCell(t, i);\n          se.disabled && (se.style.cursor = \"default\");\n          l.editRange && l.editRange.contains(t, i) && (l._edtHdl._edt = se);\n        }\n      } else {\n        o.innerHTML = escapeHtml(Y);\n        var ae = F.currentSort;\n\n        if (ae && l.showSort) {\n          w += \" wj-sort-\" + (\"+\" == ae ? \"asc\" : \"desc\");\n          o.innerHTML += \"&nbsp;\" + _getSortGlyph(F);\n        }\n\n        l.allowPinning && contains(l.hostElement, o) && _addPinButton(o, i < l.frozenColumns);\n      }\n\n      if (E == DataMapEditor.DropDownList && l.showDropDown && l.canEditCell(t, i) && softInput()) {\n        var ce = _getDropDownBtn();\n\n        o.insertBefore(ce, o.firstChild);\n        _isEditingCell(l, t, i) && (w += \" wj-hasdropdown\");\n      }\n    }\n\n    if (C == b.RowHeader || C == b.ColumnHeader) {\n      var ue = C == b.RowHeader ? !f && !g && u.allowDragging && 0 != (l.allowDragging & AllowDragging.Rows) : (K || d).allowDragging && 0 != (l.allowDragging & AllowDragging.Columns);\n      setAttribute(o, \"draggable\", ue ? \"true\" : null);\n    }\n\n    if ([b.ColumnHeader, b.RowHeader].includes(C) && [HeadersFocusability.All, HeadersFocusability.Column].includes(l.headersFocusability)) {\n      colHdrAriaAttributes(o, d, e, l);\n      setAttribute(e.hostElement.parentElement, \"aria-hidden\", !1);\n    }\n\n    w += v;\n    o.className != w && (o.className = w);\n    var de = o.style;\n\n    for (var he in y) de[he] !== y[he] && (de[he] = y[he]);\n\n    if (l._edtHdl._edt && l._edtHdl._edt.parentElement == o) {\n      var pe = l._root,\n          fe = pe.getBoundingClientRect(),\n          ge = o.getBoundingClientRect(),\n          _e = fe.top + pe.clientHeight - ge.top,\n          me = fe.left + pe.clientWidth - ge.left;\n\n      ge.height > _e && (o.style.height = _e + \"px\");\n      ge.width > me && (o.style.width = me + \"px\");\n    }\n\n    if ((C == b.Cell || C == b.RowHeader) && l._getShowErrors()) {\n      var Ce = l._getError(e, t, i, !1);\n\n      l._edtHdl._setCellError(o, Ce);\n    }\n\n    l.itemFormatter && l.itemFormatter(e, t, i, o);\n\n    if (l.formatItem.hasHandlers) {\n      var we = CellFactory._fmtItemArgs;\n\n      if (we) {\n        we._p = e;\n\n        we._rng.setRange(t, i, h, p);\n\n        we._cell = o;\n      } else we = CellFactory._fmtItemArgs = new FormatItemEventArgs(e, new CellRange(t, i, h, p), o);\n\n      we._updateContent = !1 !== r;\n      l.onFormatItem(we);\n    }\n  };\n\n  CellFactory.prototype.disposeCell = function (e) {};\n\n  CellFactory.prototype.getEditorValue = function (e) {\n    var t = e._edtHdl._edt;\n    if (t instanceof HTMLInputElement) switch (t.type) {\n      case \"checkbox\":\n        return t.checked;\n\n      case \"radio\":\n        return t.value;\n    }\n\n    if (t instanceof HTMLInputElement || t instanceof HTMLTextAreaElement) {\n      var i = t[_MASK_PROVIDER],\n          o = i ? i._applyMask() : t.value,\n          n = t.maxLength;\n\n      if (isNumber(n) && n > -1 && o.length > n) {\n        var r = culture.Globalize.numberFormat[\"%\"] || \"%\",\n            l = o.length && o[o.length - 1] == r;\n        o = o.substr(0, n);\n        l && o.indexOf(r) < 0 && (o += r);\n      }\n\n      return o;\n    }\n\n    return null;\n  };\n\n  CellFactory._WJC_RADIOMAP = \"wj-radio-map\";\n  CellFactory._WJC_CHECKBOX = \"wj-cell-check\";\n  CellFactory._WJC_COLLAPSE = \"wj-elem-collapse\";\n  CellFactory._WJC_DROPDOWN = \"wj-elem-dropdown\";\n  CellFactory._WJC_PIN = \"wj-elem-pin\";\n  CellFactory._tplDdBtn = _getButton(CellFactory._WJC_DROPDOWN, \"down\");\n  CellFactory._tplCtx = {\n    row: null,\n    col: null,\n    value: null,\n    text: null,\n    item: null\n  };\n  return CellFactory;\n}();\n\nexport { CellFactory };\n\nfunction _renderTemplate(e, t, i, o, n, r) {\n  var l = CellFactory._tplCtx;\n  l.value = i;\n  l.text = o;\n  l.item = n.dataItem;\n  l.row = n;\n  l.col = r;\n  var s = isString(e) ? evalTemplate(e, l) : e(l, t);\n  null != s && (t.innerHTML = s);\n}\n\nfunction _getEditString(e, t) {\n  t = t || \"n\";\n\n  var i = Globalize._parseNumericFormat(t);\n\n  switch (i.spec) {\n    case \"d\":\n    case \"x\":\n      break;\n\n    case \"e\":\n      t = t.replace(/[0-9]/g, \"\");\n      break;\n\n    default:\n      t = \"p\" == i.spec ? \"P15\" : \"r\";\n      i.scale && (t += Array(i.scale / 3 + 1).join(\",\"));\n  }\n\n  return Globalize.formatNumber(e, t, !0);\n}\n\nfunction _isEditingCell(e, t, i) {\n  return e.editRange && e.editRange.contains(t, i);\n}\n\nfunction _getDropDownBtn() {\n  var e = CellFactory._ddBtn;\n\n  if (!e) {\n    e = CellFactory._ddBtn = createElement(CellFactory._tplDdBtn);\n    setAriaLabel(e, culture.FlexGrid.ariaLabels.toggleDropDown);\n    setAttribute(e, \"aria-expanded\", !1);\n  }\n\n  return e.cloneNode(!0);\n}\n\nfunction _addPinButton(e, t) {\n  var i = _getButton(CellFactory._WJC_PIN, \"pin\"),\n      o = createElement(i);\n\n  toggleClass(o, \"wj-state-pinned\", t);\n  setAttribute(o, \"aria-pressed\", t);\n  e.insertBefore(o, e.firstChild);\n}\n\nfunction _getSortGlyph(e) {\n  var t = _getGlyph(\"+\" == e.currentSort ? \"up\" : \"down\"),\n      i = e.grid.collectionView;\n\n  if (i && i.sortDescriptions.length > 1) {\n    var o = e.currentSortIndex;\n    o > -1 && (t += '<span class=\"wj-sort-index\">' + (o + 1) + \"</span>\");\n  }\n\n  return t;\n}\n\nfunction _getTreeBtn(e, t) {\n  var i = CellFactory._WJC_COLLAPSE,\n      o = (e.isCollapsed ? \"\" : \"down-\") + (e.grid.rightToLeft ? \"left\" : \"right\"),\n      n = createElement('<button class=\"wj-btn wj-btn-glyph ' + i + '\" type=\"button\" tabindex=\"-1\">' + _getGlyph(o) + \"</button>\");\n  setAriaLabel(n, culture.FlexGrid.ariaLabels.toggleGroup);\n  setAttribute(n, \"aria-expanded\", !e.isCollapsed);\n  setAttribute(t, \"aria-expanded\", !e.isCollapsed);\n  return n;\n}\n\nfunction _getGlyph(e) {\n  return '<span class=\"wj-glyph-' + e + '\"></span>';\n}\n\nfunction _getButton(e, t) {\n  return '<button class=\"wj-btn wj-btn-glyph wj-right {cls}\" type=\"button\" tabindex=\"-1\">{glyph}</button>'.replace(\"{cls}\", e).replace(\"{glyph}\", _getGlyph(t));\n}\n\nvar _LB_PAGE_SIZE = 4,\n    _EditHandler = function () {\n  function _EditHandler(e) {\n    var t = this;\n    this._rng = null;\n    this._edt = null;\n    this._edItem = null;\n    this._edtCanceled = !1;\n    this._list = null;\n    this._mapSearch = null;\n    this._fullEdit = !1;\n    this._evtInput = null;\n    this._evtChange = null;\n    this._cstEdtValue = null;\n    this._validating = !1;\n    this._composing = !1;\n    this._g = e;\n    this._evtInput = document.createEvent(\"HTMLEvents\");\n\n    this._evtInput.initEvent(\"input\", !0, !1);\n\n    this._evtChange = document.createEvent(\"HTMLEvents\");\n\n    this._evtChange.initEvent(\"change\", !0, !1);\n\n    e.selectionChanging.addHandler(function (i, o) {\n      if (t.finishEditing()) {\n        var n = e._selHdl.selection.row;\n\n        if (n != o.row) {\n          var r = e.rows.length;\n\n          if ((n > -1 && n < r ? e.rows[n].dataItem : null) != (o.row > -1 && o.row < r ? e.rows[o.row].dataItem : null)) {\n            t._commitRowEdits();\n\n            if (e._getHasValidation()) {\n              var l = !e.rows[n] || e.rows[n] && Object.getPrototypeOf(e.rows[n]) !== Row.prototype ? null : e.getEmptyRequiredCell(n);\n              null !== l && setTimeout(function () {\n                e.select(new CellRange(n, l));\n                t.startEditing(!0, n, l, !0, o);\n              });\n            }\n          }\n        }\n      } else o.cancel = !0;\n    });\n    e.lostFocus.addHandler(function () {\n      var e = getActiveElement();\n      e && \"fixed\" == getComputedStyle(e).position ? t.finishEditing() : t._commitRowEdits();\n    });\n    var i = e.hostElement;\n    e.addEventListener(i, \"mousedown\", function (i) {\n      if (!i.defaultPrevented && 0 == i.button && !e._mouseHdl._szRowCol) {\n        var o = e.hitTest(i);\n        o.cellType != CellType.Cell && o.cellType != CellType.None && (t.finishEditing() || t.finishEditing(!0));\n      }\n    }, !0);\n    e.addEventListener(i, \"compositionend\", function () {\n      t._composing = !1;\n\n      t._keypress.bind(t);\n    });\n    e.addEventListener(i, \"compositionstart\", function (i) {\n      var o = t._getCustomEditor(e),\n          n = null != i ? closest(i.target, \".wj-flexgrid\") : null,\n          r = Control.getControl(n),\n          l = r && r._edtHdl ? null != r._edtHdl.activeEditor : null != t.activeEditor;\n\n      if (!o || l || e.imeEnabled) t._composing = !0;else {\n        var s = window.getSelection(),\n            a = s.rangeCount > 0 ? s.getRangeAt(0) : null,\n            c = document.activeElement;\n\n        if (null != c) {\n          c.blur();\n          window.getSelection().removeAllRanges();\n          setTimeout(function () {\n            null != a && window.getSelection().addRange(a);\n            c.focus();\n          }, 20);\n        }\n      }\n    });\n  }\n\n  _EditHandler.prototype.startEditing = function (e, t, i, o, n) {\n    void 0 === e && (e = !0);\n    var r = this._g,\n        l = r._selHdl.selection;\n    t = asNumber(t, !0, !0);\n    i = isString(i) ? r.columns.indexOf(i) : asNumber(i, !0, !0);\n    null == t && (t = l.row);\n    null == i && (i = l.col);\n    null == o && (o = !0);\n    if (!this._allowEdit(t, i)) return !1;\n    var s = r.getMergedRange(r.cells, t, i, !1);\n    s || (s = new CellRange(t, i));\n    var a = r.rows[t].dataItem;\n    r.scrollIntoView(s.row, s.col, !0);\n    if (!r.select(s, !0)) return !1;\n    if (!r.rows[t] || a != r.rows[t].dataItem) return !1;\n\n    if (this.activeEditor) {\n      if (s.equals(this._rng)) return !0;\n      if (!this.finishEditing()) return !1;\n    }\n\n    var c = new CellRangeEventArgs(r.cells, s, n);\n    if (!r.onBeginningEdit(c)) return !1;\n    var u = r.editableCollectionView,\n        d = !1;\n\n    if (u) {\n      (d = (a = r.rows[t].dataItem) != u.currentEditItem) && r.onRowEditStarting(c);\n      u.editItem(a);\n\n      if (d) {\n        r.onRowEditStarted(c);\n        this._edItem = a;\n      }\n    }\n\n    var h = r.rows[t],\n        p = r._getBindingColumn(r.cells, t, r.columns[i]),\n        f = p.dataMap || h.dataMap,\n        g = DataMapEditor.RadioButtons,\n        _ = h.dataMap && h.dataMapEditor == g || p.dataMap && p.dataMapEditor == g;\n\n    this._fullEdit = asBoolean(e);\n    this._rng = s;\n    this._list = null;\n\n    if (f && !_ && !p.editor) {\n      var m = f.getDisplayValues(a);\n      (p.isContentHtml || h.isContentHtml) && (m = m.map(function (e) {\n        return toPlainText(e);\n      }));\n      this._list = m;\n      this._mapSearch = f.search;\n    }\n\n    if (_) {\n      var C = r._activeCell || r.hostElement.querySelector(\".wj-cell.wj-state-active\");\n\n      if (C) {\n        var w = n ? n.target : null;\n        w instanceof HTMLSpanElement && (w = closest(w, \"label\"));\n        w instanceof HTMLLabelElement && (w = w.querySelector(\"input\"));\n        if (w instanceof HTMLInputElement) this._edt = w;else {\n          var v = C.querySelectorAll(\"input[checked]\");\n          v.length > 0 ? this._edt = v[0] : this._edt = C.querySelector(\"input\");\n        }\n\n        this._updateRowHeaderCell(t);\n      }\n    } else s.isSingleCell ? this._updateEditorCell(t, i, d) : r.refresh(!1);\n\n    var y = this._edt;\n\n    if (y) {\n      if (\"checkbox\" == y.type || \"radio\" == y.type) this._fullEdit = !1;else if (o) {\n        var b = 0,\n            R = y.value.length,\n            E = !1,\n            x = culture.Globalize.numberFormat[\"%\"] || \"%\",\n            S = r.getCellData(t, i, !1);\n        isNumber(S) ? E = y.value.indexOf(x) > -1 : null == S && (E = /^p/i.test(p.format)) && y.value.indexOf(x) < 0 && (y.value += x);\n\n        if (E) {\n          var H = y.value;\n          b = 0;\n          R = H.length;\n\n          for (; R > 0 && (H[R - 1] == x || \" \" == H[R - 1]);) R--;\n\n          for (; b < R && H[b] == x;) b++;\n        }\n\n        n && \"keydown\" == n.type && n.keyCode == Key.Space && (b = R);\n        setSelectionRange(y, b, R);\n        isIE() && \"right\" == y.style.textAlign && (y.style.paddingRight = \"1px\");\n      }\n      r.onPrepareCellForEdit(c);\n    }\n\n    o && !r.containsFocus() && r.focus();\n    return null != y && !y.disabled && !y.readOnly;\n  };\n\n  _EditHandler.prototype.finishEditing = function (e) {\n    var t = this._edt;\n\n    if (!t) {\n      this._removeListBox();\n\n      return !0;\n    }\n\n    var i = this._g,\n        o = this._rng,\n        n = new CellEditEndingEventArgs(i.cells, o),\n        r = i.containsFocus();\n\n    if (!e) {\n      var l = i.hostElement.querySelector(\".wj-control.wj-state-focused\");\n\n      if (l) {\n        var s = Control.getControl(l);\n        s && (s.containsFocus() || s._focus) && s.onLostFocus(n);\n      }\n    }\n\n    n.cancel = e;\n\n    if (!e && i.validateEdits) {\n      if (C = this._getValidationError()) {\n        n.cancel = !0;\n        var a = i.cells.getCellElement(o.row, o.col);\n\n        if (a) {\n          this._setCellError(a, C);\n\n          n.stayInEditMode = !0;\n        }\n      }\n    }\n\n    this._cstEdtValue = null;\n    n.data = i.cells.getCellData(o.topRow, o.leftCol, !1);\n\n    if (!i.onCellEditEnding(n) && n.stayInEditMode) {\n      r ? setTimeout(function () {\n        t.select();\n      }) : t.select();\n      this._fullEdit = !0;\n      return !1;\n    }\n\n    if (!n.cancel) {\n      var c = null,\n          u = !1;\n\n      if (null != this._lbx_SelectedValue) {\n        c = this._lbx_SelectedValue;\n        u = !0;\n      } else {\n        var d = this._cstEdtValue;\n        c = d && !isUndefined(d.value) ? d.value : this._lbx_SelectedValue ? this._lbx_SelectedValue : i.cellFactory.getEditorValue(i);\n        u = null != this._lbx_SelectedValue;\n      }\n\n      for (var h = o.topRow; h <= o.bottomRow && h < i.rows.length; h++) for (var p = o.leftCol; p <= o.rightCol && p < i.columns.length; p++) {\n        var f = i._getBindingColumn(i.cells, h, i.columns[p]),\n            g = i.rows[h],\n            _ = f && f.dataMap || g && g.dataMap,\n            m = !_ || _.serializeKeys;\n\n        if (!i.cells.setCellData(h, p, c, m, !1, u) && i.validateEdits) {\n          var C;\n\n          if (C = this._getValidationError(!0)) {\n            n.cancel = !0;\n            var w = i.cells.getCellElement(o.row, o.col);\n\n            if (w) {\n              this._setCellError(w, C);\n\n              n.stayInEditMode = !0;\n            }\n\n            return !1;\n          }\n        }\n      }\n\n      t.value == this._edtValue && t.dispatchEvent(this._evtChange);\n    }\n\n    this._edt = null;\n    this._rng = null;\n    this._list = null;\n    this._edtValue = null;\n    this._edtCanceled = n.cancel;\n\n    this._removeListBox();\n\n    this._lbx_SelectedValue = null;\n    var v = closest(t, \".wj-cell\");\n    contains(v, getActiveElement()) && i._setFocusNoScroll(v);\n    !n.cancel && n.refresh && i._refreshOnEdit ? i.refresh(!1) : this._updateEditorCell(o.row, o.col, !1);\n    r && i.focus();\n    i.onCellEditEnded(n);\n    return !0;\n  };\n\n  _EditHandler.prototype._setCustomEditorValue = function (e) {\n    this._cstEdtValue = {\n      value: e\n    };\n  };\n\n  _EditHandler.prototype._getCustomEditor = function (e) {\n    var t = null,\n        i = e.selection;\n\n    if (null != i) {\n      var o = e._getBindingColumn(e.cells, i.row, e.columns[i.col]);\n\n      t = o && o._edt;\n    }\n\n    return t;\n  };\n\n  _EditHandler.prototype._setCellError = function (e, t) {\n    var i = this._g;\n    \"\" == t && (t = null);\n    toggleClass(e, \"wj-state-invalid\", null != t);\n    var o = i.errorTip,\n        n = i.activeEditor;\n\n    if (o) {\n      o.setTooltip(e, t);\n      n && contains(e, n) && setAttribute(n, \"title\", \"\");\n    } else setAttribute(e, \"title\", t);\n\n    n && e == i.activeCell && !contains(e, n) && o && o.setTooltip(n, t);\n  };\n\n  Object.defineProperty(_EditHandler.prototype, \"activeEditor\", {\n    get: function () {\n      return this._edt;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(_EditHandler.prototype, \"editRange\", {\n    get: function () {\n      return this._rng;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  _EditHandler.prototype.getClipString = function (e, t, i, o) {\n    var n,\n        r = this,\n        l = this._g,\n        s = l.selectionMode,\n        a = [],\n        c = 0 != (t & ClipStringOptions.CSV),\n        u = c ? \"\\r\\n\" : \"\\n\",\n        d = c ? \",\" : \"\\t\",\n        h = 0 != (t & ClipStringOptions.InvisibleRows),\n        p = SelectionMode,\n        f = null != e;\n    if (!e && s != p.ListBox) for (var g = l.rows, _ = 0; _ < g.length; _++) if (g[_].isSelected) {\n      s = p.ListBox;\n      break;\n    }\n\n    if (!e) {\n      l._selHdl._expandSelection();\n\n      e = l.selection;\n\n      switch (s) {\n        case p.Row:\n        case p.RowRange:\n        case p.ListBox:\n          e.col = 0;\n          e.col2 = l.columns.length - 1;\n          break;\n\n        case p.MultiRange:\n          var m = l.selectedRanges;\n\n          if (m.length > 1) {\n            var C = this._sameCols(m),\n                w = this._sameRows(m);\n\n            if (C || w) {\n              (m = m.slice()).sort(function (e, t) {\n                var i = e.topRow - t.topRow;\n                return i || e.leftCol - t.leftCol;\n              });\n\n              for (var v = 0; v < m.length; v++) for (var y = m[v], b = v + 1; b < m.length; b++) if (y.contains(m[b])) {\n                m.splice(b, 1);\n                b--;\n              }\n\n              if (C) {\n                var R = [];\n                m.forEach(function (e) {\n                  R.push(r.getClipString(e, t, i, o));\n                  i = !1;\n                });\n                return R.join(u);\n              }\n\n              if (w) {\n                var E;\n                m.forEach(function (e) {\n                  var n = r.getClipString(e, t, i, o).split(u);\n\n                  if (null == E) {\n                    E = n;\n                    o = !1;\n                  } else n.forEach(function (e, t) {\n                    E[t] += d + e;\n                  });\n                });\n                return E.join(u);\n              }\n            }\n          }\n\n      }\n    }\n\n    var x = e.col > -1 && e.col2 > -1;\n    i && x && (n = l.columnHeaders).rows.forEach(function (i, l) {\n      if (h || i.isVisible) {\n        var s = r._getRowClipString(n, l, e, t, o);\n\n        a.push(s);\n      }\n    });\n\n    if (e.row > -1 && e.row2 > -1) {\n      n = l.cells;\n\n      if (s != p.ListBox || f) {\n        assert(e.bottomRow < n.rows.length, \"Row index must be less than the number of rows.\");\n\n        for (v = e.topRow; v <= e.bottomRow; v++) if (h || n.rows[v].isVisible) {\n          var S = this._getRowClipString(n, v, e, t, o);\n\n          a.push(S);\n        }\n      } else n.rows.forEach(function (i, l) {\n        if (i.isSelected && (h || i.isVisible)) {\n          var s = r._getRowClipString(n, l, e, t, o);\n\n          a.push(s);\n        }\n      });\n    }\n\n    return a.join(u);\n  };\n\n  _EditHandler.prototype._getRowClipString = function (e, t, i, o, n) {\n    var r = [],\n        l = e.rows[t],\n        s = ClipStringOptions,\n        a = 0 != (o & s.CSV),\n        c = 0 != (o & s.InvisibleColumns),\n        u = 0 == (o & s.Unformatted),\n        d = 0 != (o & s.SkipMerged);\n\n    if (l.isVisible) {\n      if (n) for (var h = e.cellType == CellType.ColumnHeader ? e.grid.topLeftCells : e.grid.rowHeaders, p = 0; p < h.columns.length; p++) if (c || h.columns[p].isVisible) {\n        var f = h.getCellData(t, p, !0);\n        d && this._skipMergedCell(e, null, t, p) && (f = \"\");\n        r.push(this._getCellClipString(f, o));\n      }\n\n      if (i.col > -1 && i.col2 > -1) {\n        assert(i.rightCol < e.columns.length, \"Column index must be less than the number of columns.\");\n\n        for (p = i.leftCol; p <= i.rightCol; p++) if (c || e.columns[p].isVisible) {\n          !(f = e.getCellData(t, p, u)) && l instanceof GroupRow && p == e.columns.firstVisibleIndex && (f = toPlainText(l.getGroupHeader()));\n          d && this._skipMergedCell(e, null, t, p) && (f = \"\");\n          r.push(this._getCellClipString(f, o));\n        }\n      }\n    }\n\n    return r.join(a ? \",\" : \"\\t\");\n  };\n\n  _EditHandler.prototype._skipMergedCell = function (e, t, i, o) {\n    var n = e.grid.getMergedRange(e, i, o, !1);\n\n    if (n) {\n      if (t) {\n        n.row = Math.max(t.topRow, n.row);\n        n.col = Math.max(t.leftCol, n.col);\n      }\n\n      if (n.row != i || n.col != o) return !0;\n    }\n\n    return !1;\n  };\n\n  _EditHandler.prototype._getCellClipString = function (e, t) {\n    isString(e) || (e = isDate(e) ? e.toJSON() : null != e ? e.toString() : \"\");\n    e = e.replace(/\\t/g, \" \");\n    var i = 0 != (t & ClipStringOptions.QuoteAll);\n    (i = i || /\\n|^\"|\"$/.test(e)) || 0 == (t & ClipStringOptions.CSV) || (i = e.indexOf(\",\") > -1);\n    i && (e = '\"' + (e = e.replace(/\"/g, '\"\"')) + '\"');\n    return e;\n  };\n\n  _EditHandler.prototype._sameRows = function (e) {\n    for (var t = e[0], i = 1; i < e.length; i++) if (e[i].topRow != t.topRow || e[i].bottomRow != t.bottomRow) return !1;\n\n    return !0;\n  };\n\n  _EditHandler.prototype._sameCols = function (e) {\n    for (var t = e[0], i = 1; i < e.length; i++) if (e[i].leftCol != t.leftCol || e[i].rightCol != t.rightCol) return !1;\n\n    return !0;\n  };\n\n  _EditHandler.prototype.setClipString = function (e, t) {\n    var i = this,\n        o = this._g,\n        n = o.editableCollectionView,\n        r = null == t,\n        l = SelectionMode;\n\n    if (r) {\n      o._selHdl._expandSelection();\n\n      t = o.selection;\n\n      switch (o.selectionMode) {\n        case l.Row:\n        case l.RowRange:\n        case l.ListBox:\n          t.col = 0;\n          t.col2 = o.columns.length - 1;\n          break;\n\n        case l.MultiRange:\n          var s = o.selectedRanges;\n\n          if (s.length > 1) {\n            n && n.beginUpdate();\n            s.forEach(function (t) {\n              o.setClipString(e, t);\n            });\n            n && n.endUpdate();\n            o.selectedRanges = s;\n            return;\n          }\n\n      }\n    }\n\n    t = asType(t, CellRange);\n\n    var a = this._parseClipString(asString(e));\n\n    !r && a.length > t.rowSpan && (a = a.slice(0, t.rowSpan));\n\n    this._expandClipRows(a, t);\n\n    var c = 0;\n    if (a.length) for (var u = t.leftCol, d = o.columns.length, h = 0; h < a[0].length; h++) for (var p = u + h + c; p < d && !o.columns[p].visible;) {\n      c++;\n      p++;\n    }\n    var f = r ? new CellRange(t.topRow, t.leftCol, Math.min(t.topRow + a.length - 1, o.rows.length - 1), Math.min(t.leftCol + a[0].length - 1 + c, o.columns.length - 1)) : t,\n        g = new CellRangeEventArgs(o.cells, f, e);\n    if (!o.onPasting(g)) return !1;\n    f = new CellRange(t.topRow, t.leftCol);\n\n    var _ = new CellRangeEventArgs(o.cells, new CellRange(t.topRow, -1)),\n        m = !1,\n        C = 0,\n        w = t.topRow,\n        v = o.rows,\n        y = o.columns,\n        b = o._getRowsPerItem(),\n        R = a.length > b,\n        E = this._deferPaste(t, a.length);\n\n    assert(b >= 1, \"Invalid RPI value = \" + b);\n    o.deferUpdate(function () {\n      var e = -1;\n\n      if (n && E) {\n        e = n.currentPosition;\n        n.beginUpdate();\n      }\n\n      for (var r = 0; r < a.length && w < v.length; r++, w++) {\n        var l = v[w];\n\n        if (l.isVisible) {\n          if (!R || !l.isReadOnly) {\n            var s = l.dataItem,\n                c = n ? n.currentEditItem : null;\n\n            if (c && s != c) {\n              o.onRowEditEnding(_);\n              o.onRowEditEnded(_);\n            }\n\n            if (l instanceof _NewRowTemplate && n) {\n              if (E) {\n                l.dataItem = n.addNew();\n\n                _._rng.setRange(o.newRowAtTop ? 0 : w, -1);\n\n                if (!o.onRowEditStarting(_)) {\n                  w--;\n                  n.cancelNew();\n                  continue;\n                }\n\n                o.onRowEditStarted(_);\n              } else if (1 == b || (w + 1) % b == 1) {\n                _._rng.setRange(o.newRowAtTop ? w % b : w, -1);\n\n                if (!o.onRowEditStarting(_)) {\n                  w--;\n                  continue;\n                }\n\n                o.onRowEditStarted(_);\n              }\n            } else if (s != c) {\n              _._rng.setRange(w, -1);\n\n              o.onRowEditStarting(_);\n              o.onRowEditStarted(_);\n            }\n\n            for (var u = a[r], d = t.leftCol, h = 0; h < u.length && d < y.length; h++, d++) {\n              var p = y[d];\n\n              if (p.isVisible) {\n                if (!R || !p.isReadOnly) {\n                  var g = o.getMergedRange(o.cells, w, d, !1);\n\n                  if (!(g && (g.leftCol != d || g.topRow != w)) && i._allowEdit(w, d)) {\n                    var x = u[h],\n                        S = x.length;\n                    S > 1 && '\"' == x[0] && '\"' == x[S - 1] && x.indexOf(\"\\n\") > -1 && (x = x.substr(1, S - 2));\n                    var H = p.maxLength || l.maxLength;\n                    H && (x = x.substr(0, H));\n                    var M = new CellRangeEventArgs(o.cells, new CellRange(w + C, d), x);\n\n                    if (o.onPastingCell(M)) {\n                      if (n) {\n                        n.editItem(s);\n                        i._edItem = n.currentEditItem;\n                      }\n\n                      var F = o.getCellData(w, d, !1),\n                          T = M.data,\n                          G = softInput();\n\n                      if (G) {\n                        var P = o._getBindingColumn(o.cells, w, o.columns[d]),\n                            A = P.editor,\n                            I = null,\n                            z = null;\n\n                        if (A instanceof G.InputNumber) {\n                          I = A.clamp.bind(A);\n                          z = DataType.Number;\n                        } else if (A instanceof G.InputDate || A instanceof G.InputTime) {\n                          I = A._clamp.bind(A);\n                          z = DataType.Date;\n                        }\n\n                        if (I) {\n                          T = changeType(T, z, P.format, F);\n                          getType(T) == z && (T = I(T));\n                        }\n                      }\n\n                      if (o.setCellData(w, d, T)) {\n                        M.data = F;\n                        o.onPastedCell(M);\n                        m = !0;\n                      }\n                    }\n\n                    f.row2 = Math.max(f.row2, w + C);\n                    f.col2 = Math.max(f.col2, d);\n                  }\n                }\n              } else h--;\n            }\n\n            if (i._edItem && n instanceof CollectionView) {\n              var D = new NotifyCollectionChangedEventArgs(NotifyCollectionChangedAction.Change, i._edItem, w);\n              n.onCollectionChanged(D);\n            }\n\n            if (l instanceof _NewRowTemplate && n) if (E) {\n              l.dataItem = null;\n\n              if (m) {\n                _._rng.setRange(o.newRowAtTop ? 0 : w, -1);\n\n                o.onRowEditEnding(_);\n                o.onRowEditEnded(_);\n                w--;\n                C++;\n                n.commitNew();\n              } else n.cancelNew();\n            } else if (R && b > 1 && (w + 1) % b == 0 && m) {\n              _._rng.setRange(o.newRowAtTop ? w % b : w, -1);\n\n              o.onRowEditEnding(_);\n              o.onRowEditEnded(_);\n              w -= b;\n              C++;\n            }\n          }\n        } else r--;\n      }\n\n      if (n) if (E) {\n        if (n.currentEditItem) {\n          n.commitEdit();\n          o.onRowEditEnding(_);\n          o.onRowEditEnded(_);\n        }\n\n        n.moveCurrentToPosition(e);\n        n.endUpdate(!0);\n      } else {\n        var L = n.currentAddItem;\n        !L && 0 == t.row && o.newRowAtTop && v[0] instanceof _NewRowTemplate && (L = v[0].dataItem);\n\n        if (L) {\n          n.editItem(L);\n          i._edItem = L;\n        }\n      }\n      f.rowSpan > 1 && 0 == f.topRow && v[0] instanceof _NewRowTemplate && (f.row = f.row2 = 0);\n      o.select(f);\n    });\n    o.onPasted(g);\n\n    if (m && closest(o.hostElement, \"form\")) {\n      var x = document.createEvent(\"HTMLEvents\"),\n          S = createElement(\"<input>\", o.hostElement);\n      x.initEvent(\"change\", !0, !1);\n      S.dispatchEvent(x);\n      removeChild(S);\n    }\n  };\n\n  _EditHandler.prototype._deferPaste = function (e, t) {\n    var i = this._g.rows,\n        o = i.length;\n\n    if (t > 1) {\n      if (o > 1 && i[0].dataItem != i[1].dataItem) return !0;\n      if (1 == o && i[0] instanceof _NewRowTemplate) return !0;\n    }\n\n    return !1;\n  };\n\n  _EditHandler.prototype._parseClipString = function (e) {\n    var t = [],\n        i = (e = (e = e.replace(/\\r\\n/g, \"\\n\").replace(/\\r/g, \"\\n\")).replace(/\\n$/, \"\")).length,\n        isTabOrNewLineChar = function (e) {\n      return \"\\n\" === e || \"\\t\" === e;\n    },\n        o = 0,\n        n = 0;\n\n    for (o = 0; o < i; o++) {\n      var r = !1,\n          l = !1,\n          s = !1;\n\n      if ('\"' === e[o]) {\n        for (var a = !1, c = !1, u = o + 1; u < i; u++) {\n          var d = e[u];\n\n          if ('\"' === d) {\n            var h = u + 1;\n\n            if (h < i) {\n              isTabOrNewLineChar(e[h]) && (c = !0);\n            } else c = !0;\n          } else !a && isTabOrNewLineChar(d) && (a = !0);\n\n          if (c) break;\n        }\n\n        c && a && (r = !0);\n      }\n\n      for (n = o; n < i && !s; n++) {\n        var p = e[n];\n        if ('\"' === p) r && (l = !l);else if (isTabOrNewLineChar(p) && !l) {\n          this._parseClipCell(t, e, o, n, \"\\n\" == p);\n\n          o = n;\n          n == i - 1 && (o = n + 1);\n          s = !0;\n        }\n      }\n\n      if (n == i) {\n        this._parseClipCell(t, e, o, n, !1);\n\n        break;\n      }\n    }\n\n    0 == t.length && t.push([\"\"]);\n    return t;\n  };\n\n  _EditHandler.prototype._parseClipCell = function (e, t, i, o, n) {\n    e.length || e.push([]);\n    var r = t.substr(i, o - i),\n        l = r.length;\n\n    if (l > 2 && '\"' == r[0] && '\"' == r[l - 1]) {\n      var s = r.substr(1, l - 2),\n          unquotedStringHasChar = function (e) {\n        return s.indexOf(e) > -1;\n      };\n\n      (unquotedStringHasChar('\"\"') || unquotedStringHasChar(\"\\t\") || unquotedStringHasChar(\"\\n\")) && (r = s.replace(/\"\"/g, '\"'));\n    } else \"\\t\" == r && (r = \"\");\n\n    e[e.length - 1].push(r);\n    n && e.push([]);\n  };\n\n  _EditHandler.prototype._expandClipRows = function (e, t) {\n    for (var i = e.length, o = 0, n = 0; n < i; n++) o = Math.max(o, e[n].length);\n\n    for (var r = this._g, l = 0, s = 0, a = t.topRow; a <= t.bottomRow; a++) r.rows[a].isVisible && l++;\n\n    for (var c = t.leftCol; c <= t.rightCol; c++) r.columns[c].isVisible && s++;\n\n    if (l > 1 || s > 1) {\n      1 == l && (l = i);\n      1 == s && (s = o);\n\n      if (s % o == 0 && l % i == 0) {\n        for (c = o; c < s; c++) for (a = 0; a < i; a++) e[a].push(e[a % i][c % o]);\n\n        for (a = i; a < l; a++) e.push(e[a % i]);\n      }\n    }\n  };\n\n  _EditHandler.prototype._updateEditorCell = function (e, t, i) {\n    var o = this._g,\n        n = o.cells.getCellElement(e, t),\n        r = o._useFrozenDiv() && (e < o.frozenRows || t < o.frozenColumns);\n    if (!n || r || o._hasPendingUpdates()) o.refresh(!1);else if (o.onUpdatingView(new CancelEventArgs())) {\n      this._updateCell(n);\n\n      (i || o._getHasValidation()) && this._updateRowHeaderCell(e);\n      o.onUpdatedView();\n    }\n  };\n\n  _EditHandler.prototype._updateRowHeaderCell = function (e) {\n    var t = this._g;\n\n    if (t.headersVisibility & HeadersVisibility.Row) {\n      var i = t.rowHeaders,\n          o = t._getEditColumnIndex(),\n          n = i.getCellElement(e, o);\n\n      n && this._updateCell(n);\n    }\n  };\n\n  _EditHandler.prototype._updateCell = function (e) {\n    var t = new HitTestInfo(e, null),\n        i = FlexGrid._WJS_UPDATING;\n\n    if (t.panel) {\n      addClass(e, i);\n      t.grid.cellFactory.updateCell(t.panel, t.row, t.col, e, t.range);\n      removeClass(e, i);\n    }\n  };\n\n  _EditHandler.prototype._getValidationError = function (e) {\n    var t = this,\n        i = this._g,\n        o = \"\";\n\n    if (i && this._rng && !this._validating) {\n      var n = this._rng.row,\n          r = this._rng.col,\n          l = i.activeEditor,\n          s = i.cellFactory.getEditorValue(i),\n          a = i.getCellData(n, r, !1);\n      e && (o = i._getError(i.cells, n, r, !0));\n\n      if (!o && i._getHasValidation()) {\n        l && (o = l.validationMessage);\n\n        if (!o) {\n          var c = i.columns[r],\n              u = i.rows[n];\n          !i._getBindingColumn(i.cells, n, c).getIsRequired(u) || null != s && \"\" !== s || (o = this._getRequiredMsg());\n        }\n\n        if (!o && i.setCellData(n, r, s, !0, !1)) {\n          o = i._getError(i.cells, n, r, !1);\n          i.setCellData(n, r, a, !1, !1);\n        }\n      }\n\n      if (!o) {\n        var d = Control.getControl(closest(l, \".wj-control\"));\n\n        if (d && d != i && d.invalidInput.hasHandlers) {\n          var invInputHandler = function (e, l) {\n            if (l.cancel) {\n              o = i._getError(i.cells, n, r, !0) || t._getBadInputMsg();\n              l.cancel = !1;\n            }\n          };\n\n          this._validating = !0;\n          var h = l.value;\n          d.invalidInput.addHandler(invInputHandler);\n\n          if (d._containsFocus()) {\n            var p = closest(d.hostElement, \".wj-cell\");\n            p && p.focus();\n          }\n\n          d.onLostFocus();\n          d.invalidInput.removeHandler(invInputHandler);\n          l.value = h;\n          o && l.select();\n          this._validating = !1;\n        }\n      }\n    }\n\n    return o;\n  };\n\n  _EditHandler.prototype._getRequiredMsg = function () {\n    if (!_EditHandler._msgRequired) {\n      var e = document.createElement(\"input\");\n      e.required = !0;\n      _EditHandler._msgRequired = e.validationMessage;\n    }\n\n    return _EditHandler._msgRequired;\n  };\n\n  _EditHandler.prototype._getBadInputMsg = function () {\n    if (!_EditHandler._msgBadInput) {\n      var e = document.createElement(\"input\");\n      e.pattern = \"x\";\n      e.value = \"a\";\n      _EditHandler._msgBadInput = e.validationMessage || \"Bad Input\";\n    }\n\n    return _EditHandler._msgBadInput;\n  };\n\n  _EditHandler.prototype._allowEdit = function (e, t) {\n    var i = this._g;\n    if (i.isReadOnly || i.selectionMode == SelectionMode.None) return !1;\n    if (i.collectionView && !i.editableCollectionView) return !1;\n\n    if (null != e) {\n      if (e < 0 || e >= i.rows.length) return !1;\n      var o = i.rows[e];\n      if (!o || o.isReadOnly || !o.isVisible) return !1;\n    }\n\n    if (null != t) {\n      if (t < 0 || t >= i.columns.length) return !1;\n\n      var n = i._getBindingColumn(i.cells, e, i.columns[t]);\n\n      if (!n || n.isReadOnly || !n.isVisible) return !1;\n    }\n\n    return !0;\n  };\n\n  _EditHandler.prototype._commitRowEdits = function () {\n    var e = this._g;\n\n    if (this.finishEditing() && this._edItem) {\n      var t = e.editableCollectionView;\n\n      if (t && (t.currentEditItem || t.currentAddItem)) {\n        var i = new CellRangeEventArgs(e.cells, e.selection);\n        e.onRowEditEnding(i);\n        t.commitEdit();\n        e.onRowEditEnded(i);\n      }\n\n      this._edItem = null;\n    }\n  };\n\n  _EditHandler.prototype._keydown = function (e) {\n    var t = this._edt;\n\n    switch (e.keyCode) {\n      case Key.F2:\n        this._fullEdit = !this._fullEdit;\n        e.preventDefault();\n        return !0;\n\n      case Key.F4:\n        this._toggleListBox(e);\n\n        e.preventDefault();\n        return !0;\n\n      case Key.Space:\n        if (t && \"checkbox\" == t.type && !t.disabled && !t.readOnly) {\n          setChecked(t, t.indeterminate || !t.checked);\n          this.finishEditing();\n          e.preventDefault();\n        }\n\n        return !0;\n\n      case Key.Enter:\n        e.preventDefault();\n\n        if (t && e.altKey) {\n          var i = e.target;\n\n          if (i instanceof HTMLTextAreaElement && \"soft\" == i.wrap) {\n            if (this._composing) {\n              i.blur();\n              i.focus();\n            }\n\n            i.style.setProperty(\"ime-mode\", \"auto\", \"important\");\n            var o = i.value,\n                n = i.selectionStart,\n                r = i.selectionEnd;\n            i.value = o.substr(0, n) + \"\\n\" + o.substr(r);\n            setSelectionRange(i, n + 1);\n            i.style.imeMode = \"\";\n          }\n\n          return !0;\n        }\n\n        if (t && this._lbx) {\n          this._toggleListBox(e);\n\n          this.finishEditing();\n          return !0;\n        }\n\n        return !this.finishEditing();\n\n      case Key.Tab:\n        e.preventDefault();\n        return !this.finishEditing();\n\n      case Key.Escape:\n        e.preventDefault();\n        this.finishEditing(!0);\n        return !0;\n\n      case Key.Up:\n      case Key.Down:\n      case Key.Left:\n      case Key.Right:\n      case Key.PageUp:\n      case Key.PageDown:\n      case Key.Home:\n      case Key.End:\n        if (this._lbx) return this._keydownListBox(e);\n        if (e.altKey) switch (e.keyCode) {\n          case Key.Up:\n          case Key.Down:\n            this._toggleListBox(e);\n\n            e.preventDefault();\n            return !0;\n        }\n        if (this._fullEdit) switch (e.keyCode) {\n          case Key.PageUp:\n          case Key.PageDown:\n            e.preventDefault();\n        } else if (this.finishEditing()) return !1;\n    }\n\n    return !0;\n  };\n\n  _EditHandler.prototype._keydownListBox = function (e) {\n    var t = !0;\n    if (this._lbx) switch (e.keyCode) {\n      case Key.Up:\n        e.altKey ? this._toggleListBox(e) : this._lbx.selectedIndex > 0 && this._lbx.selectedIndex--;\n        break;\n\n      case Key.Down:\n        e.altKey ? this._toggleListBox(e) : this._lbx.selectedIndex++;\n        break;\n\n      case Key.Home:\n      case Key.PageUp:\n        this._lbx.selectedIndex = 0;\n        break;\n\n      case Key.End:\n      case Key.PageDown:\n        this._lbx.selectedIndex = this._lbx.collectionView.items.length - 1;\n        break;\n\n      default:\n        t = !1;\n    }\n\n    if (t) {\n      e.preventDefault();\n      return !0;\n    }\n\n    return !1;\n  };\n\n  _EditHandler.prototype._keypress = function (e) {\n    if (\"AltLeft\" != e.code && \"AltRight\" != e.code) {\n      var t = this._edt,\n          i = e.charCode || 32,\n          o = this._list;\n\n      if (t && \"checkbox\" != t.type && getActiveElement() == t && o && o.length > 0 && i >= 32) {\n        var n = t.selectionStart,\n            r = t.value.substr(0, n);\n\n        if (e.target == t && e.charCode) {\n          r += String.fromCharCode(e.charCode);\n          n++;\n        }\n\n        var l = this._mapSearch,\n            s = -1;\n        if (l) for (var a = 0; a < o.length; a++) {\n          var c = o[a];\n\n          if (l(null == c ? c : c.toString(), r)) {\n            s = a;\n            break;\n          }\n        } else (s = this._findString(o, r, !0)) < 0 && !this._g.caseSensitiveSearch && (s = this._findString(o, r, !1));\n\n        if (s > -1) {\n          var u = this._lbx;\n          u && (u.selectedIndex = s);\n          t.value = o[s];\n          setSelectionRange(t, n, t.value.length);\n          t.dispatchEvent(this._evtInput);\n          e.preventDefault && e.preventDefault();\n        } else this._lbx && (this._lbx_SelectedValue = null);\n      }\n    } else e.preventDefault();\n  };\n\n  _EditHandler.prototype._findString = function (e, t, i) {\n    i || (t = t.toLowerCase());\n\n    for (var o = 0; o < e.length; o++) {\n      var n = e[o];\n\n      if (null != n) {\n        n = n.toString();\n        i || (n = n.toLowerCase());\n        if (0 == n.indexOf(t)) return o;\n      }\n    }\n\n    return -1;\n  };\n\n  _EditHandler.prototype._toggleListBox = function (e, t) {\n    var i = this._g,\n        o = i._selHdl.selection,\n        n = i.isTouching;\n    t || (t = o);\n\n    if (this._lbx) {\n      this._removeListBox();\n\n      if (o.intersects(t)) {\n        i.activeEditor ? i.activeEditor.focus() : i.containsFocus() || i.focus();\n        return !0;\n      }\n    }\n\n    if (!t.isValid) return !1;\n\n    var r = i.rows[t.row],\n        l = i._getBindingColumn(i.cells, t.row, i.columns[t.col]),\n        s = r.dataMap || l.dataMap,\n        a = i._getMapEditor(r, l);\n\n    if (!s || a != DataMapEditor.DropDownList || !softInput()) return !1;\n    if (null != l.editor) return !1;\n    if (!t.intersects(i.editRange) && !this.startEditing(!0, t.row, t.col, !n, e)) return !1;\n\n    var c = this._lbx = this._createListBox();\n\n    requestAnimationFrame(function () {\n      return c.showSelection();\n    });\n    n && c.focus();\n    return !0;\n  };\n\n  _EditHandler.prototype._createListBox = function () {\n    var e = this,\n        t = this._g,\n        i = t.activeEditor,\n        o = this._rng,\n        n = t.rows[o.row],\n        r = t._getBindingColumn(t.cells, o.row, t.columns[o.col]),\n        l = r.isContentHtml || n.isContentHtml,\n        s = r.dataMap || n.dataMap,\n        a = r.dropDownCssClass || n.dropDownCssClass,\n        c = document.createElement(\"div\");\n\n    this._removeListBox();\n\n    addClass(c, \"wj-dropdown-panel wj-grid-listbox\");\n    addClass(c, a);\n    var u = i ? i.value : t.getCellData(o.row, o.col, !0),\n        d = new mInput.ListBox(c, {\n      maxHeight: n.renderHeight * _LB_PAGE_SIZE,\n      isContentHtml: l,\n      itemsSource: s.getDisplayValues(n.dataItem)\n    });\n    if (s._displayPath == s._keyPath) d.selectedValue = u;else {\n      var h = t.getCellData(o.row, o.col, !1),\n          p = -1,\n          f = this._findDuplicateValues(s, u, l),\n          g = s._cv.items.findIndex(function (t) {\n        return e.isEqualValue(t[s._keyPath], h, l);\n      });\n\n      if (g > -1) {\n        var _ = s._cv.items[g][s._displayPath];\n        if (this.isEqualValue(u, _, l)) if (1 == f.length) p = g > d.itemsSource.length || !this.isEqualValue(d.itemsSource[g], u, l) ? d.itemsSource.findIndex(function (t) {\n          return e.isEqualValue(_, t, l);\n        }) : g;else for (var m = -1, C = 0; C < d.itemsSource.length; C++) if (this.isEqualValue(d.itemsSource[C], _, l)) {\n          m++;\n\n          if (this.isEqualValue(f[m], h, l)) {\n            p = C;\n            break;\n          }\n        }\n      }\n\n      p < 0 && (p = d.itemsSource.findIndex(function (t) {\n        return e.isEqualValue(u, t, l);\n      }));\n      p >= 0 ? d.selectedIndex = p : d.selectedValue = null;\n    }\n    d.addEventListener(c, \"keydown\", function (i) {\n      switch (i.keyCode) {\n        case Key.Enter:\n        case Key.Escape:\n          e._removeListBox();\n\n          t.focus();\n      }\n    });\n    d.addEventListener(c, \"click\", function () {\n      e._lbx && (e._lbx_SelectedValue = e._findKeyValue(s, l));\n\n      e._removeListBox();\n\n      t.focus();\n      e.finishEditing();\n    });\n    d.gotFocus.addHandler(function () {\n      d.containsFocus() && i && i.focus();\n    });\n    d.selectedIndexChanged.addHandler(function () {\n      e._lbx && (e._lbx_SelectedValue = e._findKeyValue(s, l));\n      var i = t.activeEditor;\n\n      if (i) {\n        i.value = e._list[d.selectedIndex];\n        i.dispatchEvent(e._evtInput);\n        setSelectionRange(i, 0, i.value.length);\n      }\n    });\n    var w = t.cells.getCellElement(o.row, o.col);\n\n    if (w) {\n      showPopup(c, w, !1, !1, !1);\n      var v = w.querySelector(\".\" + CellFactory._WJC_DROPDOWN);\n      setAttribute(v, \"aria-expanded\", !0);\n    } else {\n      showPopup(c, t.getCellBoundingRect(o.row, o.col));\n      c[Control._OWNR_KEY] = t.hostElement;\n    }\n\n    return d;\n  };\n\n  _EditHandler.prototype._findKeyValue = function (e, t) {\n    void 0 === t && (t = !1);\n\n    var i = this._lbx.selectedValue,\n        o = this._findDuplicateValues(e, i, t),\n        n = e.getKeyValue(i);\n\n    if (this._lbx.selectedIndex > 0 && o.length > 1) {\n      for (var r = -1, l = 0; l <= this._lbx.selectedIndex; l++) this.isEqualValue(this._lbx.itemsSource[l], i, t) && r++;\n\n      r >= 0 && (n = o[r]);\n    }\n\n    return n;\n  };\n\n  _EditHandler.prototype._findDuplicateValues = function (e, t, i) {\n    void 0 === i && (i = !1);\n\n    for (var o = [], n = e.getKeyValues(), r = 0; r < n.length; r++) this.isEqualValue(e.getDisplayValue(n[r]), t, i) && o.push(n[r]);\n\n    return o;\n  };\n\n  _EditHandler.prototype._removeListBox = function () {\n    var e = this._lbx;\n\n    if (e) {\n      this._lbx = null;\n      hidePopup(e.hostElement, function () {\n        e.dispose();\n      });\n    }\n  };\n\n  _EditHandler.prototype.isEqualValue = function (e, t, i) {\n    void 0 === i && (i = !1);\n    if (e instanceof Date && t instanceof Date) return e.getTime() == t.getTime();\n    null != e && null != e || (e = \"\");\n    null != t && null != t || (t = \"\");\n    Number.isNaN(e) && (e = \"NaN\");\n    Number.isNaN(t) && (t = \"NaN\");\n\n    if (i) {\n      isString(e) && e.indexOf(\"<\") > -1 && (e = toPlainText(e));\n      isString(t) && t.indexOf(\"<\") > -1 && (t = toPlainText(t));\n    }\n\n    return e.toString() == t.toString();\n  };\n\n  _EditHandler._msgRequired = \"\";\n  _EditHandler._msgBadInput = \"\";\n  return _EditHandler;\n}();\n\nexport { _EditHandler };\n\nvar _CustomEditor = function () {\n  function _CustomEditor(e, t) {\n    this._col = asType(e, Column);\n    this._ctl = t;\n    this._tbx = t.hostElement.querySelector(\"input\");\n    assert(this._col instanceof Column, \"Invalid Column\");\n    assert(this._ctl instanceof Control, \"Invalid edit control\");\n    assert(this._tbx instanceof HTMLInputElement, \"Input element not found in editor\");\n    var i = this._ctl;\n    this._prop = isUndefined(i.value) ? isUndefined(i.checkedItems) ? isUndefined(i.text) ? null : \"text\" : \"checkedItems\" : \"value\";\n    assert(null != this._prop, \"value, text properties not found in editor\");\n    var o = softInput();\n\n    if (o) {\n      this._isDropDown = i instanceof o.DropDown;\n      this._isComboBox = i instanceof o.ComboBox;\n      this._isAutoComplete = i instanceof o.AutoComplete;\n      this._isInputDateTime = i instanceof o.InputDateTime;\n      this._isInputMask = i instanceof o.InputMask;\n    }\n\n    this._updateFocusBnd = this._updateFocus.bind(this);\n    this._keydownBnd = this._keydown.bind(this);\n    this._cmpstartBnd = this._cmpstart.bind(this);\n    this._mousedownBnd = this._mousedown.bind(this);\n\n    this._connect();\n\n    this._col.gridChanged.addHandler(this._connect, this);\n\n    this._hideEditor();\n\n    this._updateFocus();\n  }\n\n  Object.defineProperty(_CustomEditor.prototype, \"grid\", {\n    get: function () {\n      return this._g;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(_CustomEditor.prototype, \"column\", {\n    get: function () {\n      return this._col;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n  Object.defineProperty(_CustomEditor.prototype, \"control\", {\n    get: function () {\n      return this._ctl;\n    },\n    enumerable: !0,\n    configurable: !0\n  });\n\n  _CustomEditor.prototype.dispose = function () {\n    this._disconnect();\n\n    this._isDropDown && (this._isDropDown = !1);\n    this._g = this._col = this._ctl = this._tbx = null;\n  };\n\n  _CustomEditor.prototype._connect = function () {\n    var e = this._col ? this._col.grid : null;\n\n    if (e != this._g) {\n      this._disconnect();\n\n      if (e) {\n        var t = e.hostElement,\n            i = e.addEventListener.bind(e),\n            o = this._updateFocusBnd;\n        this._g = e;\n\n        this._hideEditor();\n\n        this._updateFocus();\n\n        i(t, \"keydown\", this._keydownBnd, !0);\n        i(t, \"mousedown\", this._mousedownBnd, !0);\n        i(t, \"mouseup\", o, !0);\n        i(t, \"blur\", o, !0);\n        i(t, \"focus\", o);\n        i(this._tbx, \"compositionstart\", this._cmpstartBnd);\n        e.gotFocus.addHandler(o, this);\n        e.selectionChanged.addHandler(o, this);\n        e.prepareCellForEdit.addHandler(this._prepareCellForEdit, this);\n        e.cellEditEnding.addHandler(this._cellEditEnding, this);\n        e.cellEditEnded.addHandler(this._cellEditEnded, this);\n      }\n    }\n  };\n\n  _CustomEditor.prototype._disconnect = function () {\n    var e = this._g;\n\n    if (e) {\n      var t = e.hostElement,\n          i = e.removeEventListener.bind(e),\n          o = this._updateFocusBnd;\n      i(t, \"keydown\", this._keydownBnd);\n      i(t, \"mousedown\", this._mousedownBnd);\n      i(t, \"mouseup\", o);\n      i(t, \"blur\", o);\n      i(t, \"focus\", o);\n      i(this._tbx, \"compositionstart\", this._cmpstartBnd);\n      e.gotFocus.removeHandler(o, this);\n      e.selectionChanged.removeHandler(o, this);\n      e.prepareCellForEdit.removeHandler(this._prepareCellForEdit, this);\n      e.cellEditEnding.removeHandler(this._cellEditEnding, this);\n      e.cellEditEnded.removeHandler(this._cellEditEnded, this);\n      this._g = null;\n    }\n  };\n\n  _CustomEditor.prototype._prepareCellForEdit = function (e, t) {\n    if (!t.cancel && t.getColumn(!0) == this._col) {\n      var i = this.grid,\n          o = this._ctl,\n          n = this._tbx,\n          r = this._prop,\n          l = t.range,\n          s = t.data,\n          a = s ? s.type : \"\",\n          c = i.getCellData(l.row, l.col, \"text\" == r || this._isInputMask),\n          u = !1;\n\n      if (this._isComboBox) {\n        this._isAutoComplete && (o._oldText = \"\");\n\n        if (!o.isRequired) {\n          o.selectedIndex = -1;\n          n.value = \"\";\n        }\n\n        this._isInputDateTime && o._setDropdown(o._ddDate);\n      }\n\n      if (\"checkedItems\" == r) {\n        if (o.showFilterInput) {\n          o.showFilterInput = !1;\n          o.showFilterInput = !0;\n        }\n\n        if (null == c || 0 == c.length) {\n          o[r] = [];\n          o.selectedIndex = 0;\n        }\n      }\n\n      if (null != c || !o.isRequired) {\n        o[r] = c;\n\n        if (this._isAutoComplete) {\n          clearTimeout(o._toSearch);\n\n          if ((h = o.collectionView) && (h.filter || o._rxHighlight)) {\n            o._rxHighlight = null;\n            h.filter = null;\n          }\n\n          if (c) {\n            var d = o._findNext(c, 1, -1);\n\n            o.selectedIndex != d && (o.selectedIndex = d);\n          }\n        }\n      }\n\n      switch (a) {\n        case \"keydown\":\n        case \"mousedown\":\n          if (isUndefined(s.keyCode) || s.keyCode == Key.F4 || s.altKey) {\n            u = this._isDropDown;\n\n            if (this._isAutoComplete && (null == c || isString(c))) {\n              var h;\n\n              if (h = o.collectionView) {\n                if (h.filter || o._rxHighlight) {\n                  o._rxHighlight = null;\n                  h.filter = null;\n                }\n\n                d = c ? o._findNext(c, 1, -1) : -1;\n                o.selectedIndex != d && (o.selectedIndex = d);\n              }\n            }\n          }\n\n      }\n\n      i.showPlaceholders && !o.placeholder && (n.placeholder = this._col.header);\n\n      this._showEditor();\n\n      i._edtHdl._fullEdit = !0;\n\n      if (0 == a.indexOf(\"key\") && 32 == s.keyCode) {\n        setSelectionRange(n, n.value.length);\n        s.preventDefault();\n      }\n\n      if (isIE() && !i.imeEnabled) if (\"keypress\" == a && s.key) {\n        setTimeout(function () {\n          n.value = s.key;\n          setSelectionRange(n, 1);\n          var e = document.createEvent(\"HTMLEvents\");\n          e.initEvent(\"input\", !0, !1);\n          n.dispatchEvent(e);\n        });\n        s.preventDefault();\n      } else if (\"compositionstart\" == a) {\n        var p = n.value.length;\n        setSelectionRange(n, p);\n      }\n      this._isDropDown && (o.isDroppedDown = u);\n    }\n  };\n\n  _CustomEditor.prototype._cellEditEnding = function (e, t) {\n    if (!t.cancel && t.getColumn(!0) == this._col) {\n      var i = this.grid,\n          o = this._ctl,\n          n = this._prop;\n\n      if (this._isAutoComplete) {\n        var r = o.selectedIndex;\n\n        if (isNumber(r) && r < 0) {\n          var l = o.collectionView;\n          l && 1 == l.items.length ? o.selectedIndex = 0 : this._col.isRequired && (t.cancel = !0);\n        }\n      }\n\n      if (!t.cancel && n) {\n        var s = !1;\n\n        if (this._isInputMask) {\n          var a = o;\n\n          if (null != a) {\n            i._edtHdl._setCustomEditorValue(a._msk._applyMask());\n\n            s = !0;\n          }\n        }\n\n        s || i._edtHdl._setCustomEditorValue(o[n]);\n      }\n    }\n  };\n\n  _CustomEditor.prototype._cellEditEnded = function (e, t) {\n    this._hideEditor();\n\n    this._updateFocus();\n  };\n\n  _CustomEditor.prototype._cmpstart = function (e) {\n    var t = this;\n    this.grid.imeEnabled && (isIE() ? setTimeout(function () {\n      t._activateEditor(e);\n    }) : this._activateEditor(e));\n  };\n\n  _CustomEditor.prototype._keydown = function (e) {\n    if (!e.defaultPrevented && this._checkColumn(e.target)) if (this.grid.activeEditor) {\n      if (e.keyCode == Key.Enter && this._isDropDown) {\n        var t = this._ctl;\n\n        if (t.isDroppedDown) {\n          t.isDroppedDown = !1;\n          e.preventDefault();\n          e.stopImmediatePropagation();\n        }\n      }\n    } else if (this._isDropDown) {\n      var i = e.keyCode;\n\n      switch (i) {\n        case Key.F4:\n        case Key.Up:\n        case Key.Down:\n          if (i == Key.F4 || e.altKey) {\n            this._activateEditor(e);\n\n            e.preventDefault();\n          }\n\n      }\n    }\n  };\n\n  _CustomEditor.prototype._checkColumn = function (e) {\n    var t = this._g;\n\n    if (contains(e, this._tbx) || null != e && this._imeEditor() === e) {\n      var i = t._selHdl.selection;\n      return t._getBindingColumn(t.cells, i.row, t.columns[i.col]) == this._col;\n    }\n\n    return !1;\n  };\n\n  _CustomEditor.prototype._mousedown = function (e) {\n    if (!e.defaultPrevented && 0 == e.button && !e.shiftKey && !e.ctrlKey && !e.metaKey && this._isDropDown && closestClass(e.target, CellFactory._WJC_DROPDOWN)) {\n      var t = this.grid,\n          i = t.hitTest(e);\n\n      if (i.getColumn(!0) == this._col) {\n        t.select(i.range);\n        t.refresh();\n\n        this._activateEditor(e);\n\n        e.preventDefault();\n      }\n    }\n  };\n\n  _CustomEditor.prototype._activateEditor = function (e) {\n    var t = this.grid;\n\n    if (!t.activeEditor) {\n      var i = t._selHdl.selection;\n      if (i.isValid) return t.startEditing(!0, i.row, i.col, !0, e);\n    }\n\n    return !1;\n  };\n\n  _CustomEditor.prototype._showEditor = function () {\n    var e = this.grid,\n        t = e.activeEditor,\n        i = closest(t, \".wj-cell\");\n\n    if (i) {\n      var o = this._tbx,\n          n = this._ctl.hostElement;\n      setCss(n, _CustomEditor._cssVisible);\n      toggleClass(o, \"wj-grid-ime\", !1);\n      i.innerHTML = \"\";\n      i.appendChild(n);\n      e._edtHdl._edt = o;\n      if (this._imeEditor()) this._initImeEditInput();else {\n        o.select();\n        o.focus();\n        t.value = \"\";\n      }\n    }\n  };\n\n  _CustomEditor.prototype._hideEditor = function () {\n    var e = this.grid,\n        t = this._ctl.hostElement,\n        i = this._tbx;\n    this._isDropDown && (this._ctl.isDroppedDown = !1);\n    i.setCustomValidity(\"\");\n    var o = i.value;\n    i.value = o + \" \";\n    i.value = o;\n    setCss(t, _CustomEditor._cssHidden);\n    toggleClass(i, \"wj-grid-ime\", !0);\n    e && t.parentElement != e._root && e._root.appendChild(t);\n  };\n\n  _CustomEditor.prototype._resetTabIndex = function () {\n    this._tbx.tabIndex = -1;\n  };\n\n  _CustomEditor.prototype._updateFocus = function () {\n    var e = this.grid;\n\n    if (e && !e.activeEditor) {\n      var t = e.hostElement,\n          i = \".wj-flexgrid\",\n          o = this._tbx,\n          n = getActiveElement(),\n          r = e._getTabIndex();\n\n      if (closest(n, i) == t) if (closest(o, i) != t) this._hideEditor();else if (e.imeEnabled) o.tabIndex > -1 && (o.tabIndex = -1);else {\n        var l = e._selHdl.selection,\n            s = e._getBindingColumn(e.cells, l.row, e.columns[l.col]);\n\n        if (s && s == this._col && e.canEditCell(l.row, l.col)) {\n          if (n !== o) {\n            e.activeCell && (e.activeCell.tabIndex = -1);\n            o.tabIndex = r;\n\n            if (!e.isTouching) {\n              o.select();\n              o.focus();\n            }\n          }\n        } else if (o.tabIndex > -1) {\n          o.tabIndex = -1;\n          n == o && e.focus(!0);\n        }\n      }\n    }\n  };\n\n  _CustomEditor.prototype._initImeEditInput = function () {\n    var e = this,\n        t = this._imeEditor();\n\n    if (t) {\n      var i = this._tbx,\n          o = i && i.style.color,\n          n = this._ctl,\n          compEndEh_1 = function () {\n        t.removeEventListener(\"compositionend\", compEndEh_1);\n        setCss(t, _ImeHandler._cssHidden);\n\n        if (i) {\n          i.style.color = o;\n\n          var gotF = function () {\n            n.gotFocus.removeHandler(gotF);\n            e._g._edtHdl._edt = i;\n            var o = t.value;\n\n            if (o) {\n              i.value = o;\n              e._isInputMask ? setTimeout(function () {\n                _CustomEditor._setSelectionRange(i, o.length, o.length);\n              }, 0) : _CustomEditor._setSelectionRange(i, o.length, o.length);\n              var r = document.createEvent(\"HTMLEvents\");\n              r.initEvent(\"input\", !0, !1);\n              i.dispatchEvent(r);\n            }\n          };\n\n          n.gotFocus.addHandler(gotF);\n          i.focus();\n        }\n      };\n\n      t.addEventListener(\"compositionend\", compEndEh_1);\n      i && (i.style.color = \"transparent\");\n    }\n  };\n\n  _CustomEditor._setSelectionRange = function (e, t, i) {\n    void 0 === i && (i = t);\n    if (contains(document.body, e) && !e.disabled && \"none\" != e.style.display) try {\n      e.setSelectionRange(asNumber(t), asNumber(i), isIE() ? null : \"backward\");\n      e.focus();\n    } catch (e) {}\n  };\n\n  _CustomEditor.prototype._imeEditor = function () {\n    var e = this.grid;\n\n    if (e && e.imeEnabled) {\n      var t = getActiveElement();\n      if (t && (t instanceof HTMLInputElement || t instanceof HTMLTextAreaElement) && hasClass(t, \"wj-grid-ime\")) return t;\n    }\n\n    return null;\n  };\n\n  _CustomEditor._cssHidden = {\n    position: \"fixed\",\n    left: -32e3,\n    top: -32e3,\n    width: \"1px\",\n    height: \"1px\",\n    overflow: \"hidden\",\n    border: \"none\"\n  };\n  _CustomEditor._cssVisible = {\n    position: \"absolute\",\n    left: 0,\n    top: 0,\n    width: \"100%\",\n    height: \"100%\"\n  };\n  return _CustomEditor;\n}();\n\nexport { _CustomEditor };\nexport var KeyAction;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.MoveDown = 1] = \"MoveDown\";\n  e[e.MoveAcross = 2] = \"MoveAcross\";\n  e[e.Cycle = 3] = \"Cycle\";\n  e[e.CycleOut = 4] = \"CycleOut\";\n  e[e.CycleEditable = 5] = \"CycleEditable\";\n}(KeyAction || (KeyAction = {}));\n\nvar _KeyboardHandler = function () {\n  function _KeyboardHandler(e) {\n    this._kaTab = KeyAction.None;\n    this._kaEnter = KeyAction.MoveDown;\n    this._g = e;\n    var t = e.hostElement;\n    e.addEventListener(t, \"keypress\", this._keypress.bind(this));\n    e.addEventListener(t, \"keydown\", this._keydown.bind(this));\n  }\n\n  _KeyboardHandler.prototype._keydown = function (e) {\n    var t = this._g,\n        i = t._edtHdl,\n        o = t.selection,\n        n = e.ctrlKey || e.metaKey,\n        r = e.shiftKey,\n        l = e.altKey,\n        s = e.target,\n        a = e.char || e.key,\n        c = !0;\n\n    if (!n && !l && a && 1 == a.length && closest(s, \".wj-cell\") && s.firstElementChild && (\" \" != a || !r)) {\n      var u = s.querySelectorAll(\".\" + CellFactory._WJC_RADIOMAP + \" label input\");\n\n      if (u && u.length) {\n        for (var d = -1, h = 0; h < u.length; h++) if (u[h].checked) {\n          d = h;\n          break;\n        }\n\n        a = a.toLowerCase();\n\n        for (h = 0; h < u.length; h++) {\n          var p = u[(d + h + 1) % u.length];\n\n          if (\" \" == a || p.value.toLowerCase()[0] == a) {\n            p.click();\n            break;\n          }\n        }\n\n        e.preventDefault();\n        return;\n      }\n    }\n\n    if (!t._wantsInput(s)) {\n      var f = tryCast(t.rows[o.row], GroupRow),\n          g = t.editableCollectionView,\n          _ = t._getKeyCode(e),\n          m = SelMove,\n          C = SelectionMode,\n          w = e.defaultPrevented && !(s instanceof HTMLInputElement);\n\n      if ((t.isRangeValid(o) && !w || n && 65 == _) && (!t.activeEditor || !i._keydown(e) || t._isNativeCheckbox(t.activeEditor))) {\n        if (t.autoClipboard) {\n          if (n && (67 == _ || 45 == _)) {\n            var v = new CellRangeEventArgs(t.cells, o);\n\n            if (t.onCopying(v)) {\n              var y = HeadersVisibility,\n                  b = 0 != (t.copyHeaders & y.Column),\n                  R = 0 != (t.copyHeaders & y.Row),\n                  E = t.getClipString(null, !1, b, R) + \"\\r\\n\";\n\n              t._eFocus.focus();\n\n              Clipboard.copy(E);\n              t.onCopied(v);\n            }\n\n            e.stopPropagation();\n            return;\n          }\n\n          if (n && 86 == _ || r && 45 == _) {\n            t.isReadOnly || Clipboard.paste(function (e) {\n              t.setClipString(e);\n            });\n            e.stopPropagation();\n            return;\n          }\n        }\n\n        (r || n) && \"Space\" == e.code && (_ = Key.Space);\n        var x = e.target,\n            S = x.closest(\".wj-cell\"),\n            H = x && S && S[\"wj-cell-index\"] && S[\"wj-cell-index\"].panel,\n            M = [HeadersFocusability.Column, HeadersFocusability.All].includes(t.headersFocusability),\n            F = [HeadersFocusability.Row, HeadersFocusability.All].includes(t.headersFocusability);\n\n        switch (_) {\n          case Key.Space:\n            if (S && H && [CellType.RowHeader, CellType.TopLeft, CellType.ColumnHeader].includes(H._ct) && F) {\n              var T = t.activePanelType;\n              t.activePanelType = T;\n              var G = S.querySelector(\".wj-cell-check\"),\n                  P = G && !G.checked;\n              setTimeout(function () {\n                t.activePanelType = T;\n                S.classList.add(\"wj-focus-header-cell\");\n\n                t._hideMarquee();\n\n                S.focus();\n                P && t._activeCell.classList.add(\"wj-state-multi-selected\");\n              }, 200);\n              t._activeCell = null;\n            } else if (r && o.isValid) switch (t.selectionMode) {\n              case C.CellRange:\n              case C.MultiRange:\n              case C.Row:\n              case C.RowRange:\n              case C.ListBox:\n                t.select(new CellRange(o.row, 0, o.row, t.columns.length - 1), !1);\n            } else if (n && o.isValid) switch (t.selectionMode) {\n              case C.CellRange:\n              case C.MultiRange:\n                t.select(new CellRange(0, o.col, t.rows.length - 1, o.col), !1);\n            } else {\n              (c = this._startEditing(!0, e)) && setTimeout(function () {\n                var e = t.activeEditor;\n                if (e) if (e.disabled || e.readOnly && !closest(e, \".wj-control\")) t.finishEditing();else if (\"checkbox\" == e.type) {\n                  setChecked(e, e.indeterminate || !e.checked);\n                  t.finishEditing();\n                }\n              });\n              c = !0;\n            }\n\n            break;\n\n          case 65:\n            if (n) switch (t.selectionMode) {\n              case C.None:\n              case C.Cell:\n                break;\n\n              default:\n                t.selectAll();\n            } else c = !1;\n            break;\n\n          case Key.Left:\n            if (S && H && H._ct === CellType.ColumnHeader && M) {\n              e.preventDefault();\n\n              t._selHdl.moveSelection(SelMove.None, SelMove.Prev, !1);\n            } else if (n || l) c = !1;else if (o.isValid && 0 == o.leftCol && f && !f.isCollapsed && f.hasChildren) f.isCollapsed = !0;else if (F && f && !f.isCollapsed && f.hasChildren) f.isCollapsed = !0;else {\n              if (t.selectionMode == C.None) return;\n\n              this._moveSel(m.None, n ? m.Home : m.Prev, r);\n            }\n\n            break;\n\n          case Key.Right:\n            if (S && H && H._ct === CellType.ColumnHeader && M) {\n              e.preventDefault();\n\n              t._selHdl.moveSelection(SelMove.None, SelMove.Next, !1);\n            } else if (n || e.altKey) c = !1;else if (o.isValid && 0 == o.leftCol && f && f.isCollapsed) f.isCollapsed = !1;else if (F && f && f.isCollapsed && (!H || H && H._ct === CellType.Cell)) f.isCollapsed = !1;else {\n              if (t.selectionMode == C.None) return;\n\n              this._moveSel(m.None, n ? m.End : m.Next, r);\n            }\n\n            break;\n\n          case Key.Up:\n            if (n) c = !1;else if (e.altKey && i._toggleListBox(e)) c = !0;else {\n              if (t.selectionMode == C.None) return;\n\n              this._moveSel(m.Prev, m.None, r);\n            }\n            break;\n\n          case Key.Down:\n            if (n) c = !1;else if (e.altKey && i._toggleListBox(e)) c = !0;else {\n              if (t.selectionMode == C.None) return;\n\n              this._moveSel(m.Next, m.None, r);\n            }\n            break;\n\n          case Key.PageUp:\n            this._moveSel(e.altKey ? m.Home : m.PrevPage, m.None, r);\n\n            if (t.rows.frozen && t.selection.row < t.rows.frozen) {\n              var A = t.scrollPosition;\n              A.y && (t.scrollPosition = new Point(A.x, 0));\n            }\n\n            break;\n\n          case Key.PageDown:\n            this._moveSel(e.altKey ? m.End : m.NextPage, m.None, r);\n\n            break;\n\n          case Key.Home:\n            this._moveSel(n ? m.Home : m.None, m.Home, r);\n\n            break;\n\n          case Key.End:\n            this._moveSel(n ? m.End : m.None, m.End, r);\n\n            break;\n\n          case Key.Tab:\n            if (!(c = this._performKeyAction(t.keyActionTab, r)) && !t.activeCell) {\n              t.focus(!0);\n\n              if (t.imeEnabled) {\n                var I = t._imeHdl;\n                I && I._resetTabIndex();\n              } else {\n                (z = this._getCustomEditor(t, o.row, o.col)) && z._resetTabIndex();\n              }\n            }\n\n            break;\n\n          case Key.Enter:\n            if (S && H && H._ct === CellType.ColumnHeader && M) {\n              e.preventDefault();\n              S.click();\n              setTimeout(function () {\n                t.activePanelType = CellType.ColumnHeader;\n                S.classList.add(\"wj-focus-header-cell\");\n\n                t._hideMarquee();\n\n                S.focus();\n              }, 30);\n            } else if (S && H && H._ct === CellType.RowHeader && F) {\n              e.preventDefault();\n\n              t._selHdl.moveSelection(SelMove.Next, SelMove.None, !1);\n            } else {\n              c = this._performKeyAction(t.keyActionEnter, r);\n              var z;\n              (z = this._getCustomEditor(t, o.row, o.col)) || t.focus(!0);\n              !r && g && null != g.currentEditItem && i._commitRowEdits();\n            }\n\n            break;\n\n          case Key.Escape:\n            c = !1;\n\n            if (g && (g.currentAddItem || g.currentEditItem)) {\n              var D = new CellRangeEventArgs(t.cells, t.selection);\n              D.cancel = !0;\n              t.onRowEditEnding(D);\n              g.currentAddItem && g.cancelNew();\n              g.currentEditItem && g.cancelEdit();\n              t.onRowEditEnded(D);\n              c = !0;\n            }\n\n            t._mouseHdl.resetMouseState();\n\n            break;\n\n          case Key.Delete:\n          case Key.Back:\n            c = this._deleteSel(e);\n            break;\n\n          case Key.F2:\n            c = this._startEditing(!0, e);\n            break;\n\n          case Key.F4:\n            c = i._toggleListBox(e);\n            break;\n\n          default:\n            c = !1;\n        }\n\n        if (c) {\n          t.containsFocus() || t.focus();\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      }\n    }\n  };\n\n  _KeyboardHandler.prototype._performKeyAction = function (e, t) {\n    var i = KeyAction,\n        o = SelMove;\n\n    switch (e) {\n      case i.MoveDown:\n        this._moveSel(t ? o.Prev : o.Next, o.None, !1);\n\n        return !0;\n\n      case i.MoveAcross:\n        this._moveSel(o.None, t ? o.Prev : o.Next, !1);\n\n        return !0;\n\n      case i.Cycle:\n        this._moveSel(o.None, t ? o.PrevCell : o.NextCell, !1);\n\n        return !0;\n\n      case i.CycleEditable:\n        this._moveSel(o.None, t ? o.PrevEditableCell : o.NextEditableCell, !1);\n\n        return !0;\n\n      case i.CycleOut:\n        var n = this._g.selection;\n\n        this._moveSel(o.None, t ? o.PrevCell : o.NextCell, !1);\n\n        return !n.equals(this._g.selection);\n    }\n\n    return !1;\n  };\n\n  _KeyboardHandler.prototype._keypress = function (e) {\n    var t = this,\n        i = this._g;\n\n    if (!i._wantsInput(e.target) && !e.defaultPrevented) {\n      var o = i._edtHdl;\n      if (i.activeEditor) o._keypress(e);else if (e.charCode > Key.Space && \"AltLeft\" != e.code && \"AltRight\" != e.code) if (this._startEditing(!1, e) && i.activeEditor) {\n        var n = getActiveElement();\n\n        if (n instanceof HTMLInputElement && \"checkbox\" != n.type || n instanceof HTMLTextAreaElement) {\n          var r = i._selHdl.selection,\n              l = i.getCellData(r.row, r.col, !0),\n              s = i.getCellData(r.row, r.col, !1),\n              a = culture.Globalize.numberFormat[\"%\"] || \"%\",\n              c = String.fromCharCode(e.charCode),\n              u = isNumber(s) && l.indexOf(a) > -1 || \"\" == l && n.value == a,\n              d = !0,\n              initEditor_1 = function () {\n            n.value = u ? c + a : c;\n            setSelectionRange(n, 1);\n            n.dispatchEvent(o._evtInput);\n\n            o._keypress(e);\n\n            o._edtValue = n.value != l ? n.value : null;\n          };\n\n          if (i.imeEnabled) {\n            var h = this._getCustomEditor(i, r.row, r.col),\n                p = h && h.control;\n\n            if (p && !p._focus) {\n              var gotF_1 = function () {\n                p.gotFocus.removeHandler(gotF_1);\n                d = !1;\n                initEditor_1();\n              };\n\n              p.gotFocus.addHandler(gotF_1);\n            }\n          }\n\n          d && initEditor_1();\n          e.preventDefault();\n        }\n      } else if (i.autoSearch) {\n        var f = !1;\n        r = i._selHdl.selection;\n\n        if (e.charCode > 32 || 32 == e.charCode && this._search) {\n          e.preventDefault();\n          this._search += String.fromCharCode(e.charCode);\n          this._toSearch && clearTimeout(this._toSearch);\n          this._toSearch = setTimeout(function () {\n            t._toSearch = null;\n            t._search = \"\";\n          }, Control._SEARCH_DELAY);\n\n          var g = this._findNext(r.row, r.col);\n\n          if (g < 0 && this._search.length > 1) {\n            this._search = this._search[this._search.length - 1];\n            g = this._findNext(r.row, r.col);\n          }\n\n          if (g > -1) {\n            f = !0;\n            i.select(g, r.col);\n          }\n        }\n\n        f || (this._search = \"\");\n      }\n    }\n  };\n\n  _KeyboardHandler.prototype._getCustomEditor = function (e, t, i) {\n    var o = e._getBindingColumn(e.cells, t, e.columns[i]);\n\n    return o && o._edt;\n  };\n\n  _KeyboardHandler.prototype._findNext = function (e, t) {\n    var i = this._g,\n        o = i.rows.length;\n    (e < 0 || 1 == this._search.length) && e++;\n    var n = this._search,\n        r = i.caseSensitiveSearch;\n    r || (n = n.toLowerCase());\n\n    for (var l = i.columns[t].isContentHtml, s = 0; s < o; s++) {\n      var a = (e + s) % o,\n          c = i.getCellData(a, t, !0).trim();\n      l && (c = toPlainText(c));\n      r || (c = c.toLowerCase());\n      if (0 == c.indexOf(n)) return a;\n    }\n\n    return -1;\n  };\n\n  _KeyboardHandler.prototype._moveSel = function (e, t, i) {\n    var o = this._g,\n        n = o.selectionMode,\n        r = o._selHdl;\n\n    if (n != SelectionMode.None) {\n      n == SelectionMode.MultiRange && r.extendedSelection.clear();\n      r.moveSelection(e, t, i);\n    }\n  };\n\n  _KeyboardHandler.prototype._deleteSel = function (e) {\n    var t = this,\n        i = this._g,\n        o = i.rows,\n        n = i.editableCollectionView,\n        r = i.selection,\n        l = [],\n        s = new CellRange(),\n        a = new CellEditEndingEventArgs(i.cells, s, e),\n        c = SelectionMode;\n    if (!i._edtHdl._allowEdit()) return !1;\n    if (i.allowDelete && (null == n || n.canRemove && !n.isAddingNew && !n.isEditingItem) && 0 == (l = o.filter(function (e) {\n      return e.isSelected;\n    })).length) switch (i.selectionMode) {\n      case c.CellRange:\n      case c.MultiRange:\n        var u = i._getDeleteColumnIndex();\n\n        i.selectedRanges.forEach(function (e) {\n          if (e.leftCol == u && e.rightCol == i.columns.length - 1) for (var t = e.topRow; t > -1 && t <= e.bottomRow; t++) {\n            var n = o[t];\n            l.indexOf(n) < 0 && l.push(n);\n          }\n        });\n        break;\n\n      case c.Row:\n        r.topRow > -1 && l.push(o[r.topRow]);\n        break;\n\n      case c.RowRange:\n        for (var d = r.topRow; d > -1 && d <= r.bottomRow; d++) l.push(o[d]);\n\n    }\n\n    if (l.length > 0) {\n      var h = 0;\n      i.deferUpdate(function () {\n        n && n.beginUpdate();\n\n        for (var e = l.length - 1; e >= 0; e--) {\n          var t = l[e];\n\n          if (!(t instanceof _NewRowTemplate)) {\n            s.setRange(t.index, -1);\n\n            if (i.onDeletingRow(a)) {\n              n && t.dataItem ? n.remove(t.dataItem) : i.rows.removeAt(t.index);\n              h++;\n              i.onDeletedRow(a);\n            }\n          }\n        }\n\n        n && n.endUpdate(!1);\n      });\n\n      if (h > 0) {\n        var p = r.topRow;\n        p = Math.min(p, i.rows.length - 1);\n\n        for (; p > 0 && i.rows[p] instanceof _NewRowTemplate;) p--;\n\n        r.row = r.row2 = p;\n        i.select(r, !1);\n        i.childItemsPath && n && n.refresh();\n      }\n\n      return !0;\n    }\n\n    if (0 == l.length) {\n      i.deferUpdate(function () {\n        var s = i.scrollPosition,\n            a = -1;\n        l = o.filter(function (e) {\n          return e.isSelected;\n        });\n        var u = i.selectedRanges.length > 1 || l.length > 1 || r.isValid && o[r.row].dataItem != o[r.row2].dataItem;\n        n && n.beginUpdate();\n\n        if (l.length) {\n          var d = new CellRange(0, 0, 0, i.columns.length - 1);\n          l.forEach(function (i) {\n            d.row = d.row2 = i.index;\n\n            t._deleteRange(e, d);\n\n            a = d.bottomRow;\n          });\n        } else {\n          t._deleteRange(e, r);\n\n          a = r.bottomRow;\n          i.selectionMode == c.MultiRange && i._selHdl.extendedSelection.forEach(function (i) {\n            t._deleteRange(e, i);\n\n            a = i.bottomRow;\n          });\n        }\n\n        i.select(r, !1);\n        i.scrollPosition = s;\n\n        if (n) {\n          if (u && n.currentEditItem) {\n            n.commitEdit();\n            var h = new CellRangeEventArgs(i.cells, new CellRange(a, -1));\n            i.onRowEditEnding(h);\n            i.onRowEditEnded(h);\n          }\n\n          n.endUpdate(!1);\n        }\n      });\n      return !0;\n    }\n\n    return !1;\n  };\n\n  _KeyboardHandler.prototype._deleteRange = function (e, t) {\n    for (var i = this._g, o = i.editableCollectionView, n = new CellRange(), r = new CellEditEndingEventArgs(i.cells, n, e), l = new CellRangeEventArgs(i.cells, new CellRange(t.topRow, -1)), s = t.topRow; s <= t.bottomRow; s++) {\n      var a = i.rows[s];\n      if (!a.isReadOnly) for (var c = t.leftCol; c <= t.rightCol; c++) {\n        var u = i._getBindingColumn(i.cells, s, i.columns[c]);\n\n        if (!u.getIsRequired(a) && !u.isReadOnly && i.getCellData(s, c, !0)) {\n          n.setRange(s, c);\n          r.cancel = !1;\n\n          if (i.onBeginningEdit(r)) {\n            var d = a.dataItem,\n                h = o ? o.currentEditItem : null;\n\n            if (h && d != h) {\n              i.onRowEditEnding(l);\n              i.onRowEditEnded(l);\n            }\n\n            if (d != h) {\n              l._rng.setRange(s, -1);\n\n              i.onRowEditStarting(l);\n              i.onRowEditStarted(l);\n            }\n\n            if (o) {\n              o.editItem(d);\n              i._edtHdl._edItem = d;\n            }\n\n            i.setCellData(s, c, \"\", !0, !1);\n            i.onCellEditEnding(r);\n            i.onCellEditEnded(r);\n          }\n        }\n      }\n    }\n  };\n\n  _KeyboardHandler.prototype._startEditing = function (e, t, i, o) {\n    return this._g._edtHdl.startEditing(e, i, o, !0, t);\n  };\n\n  return _KeyboardHandler;\n}();\n\nexport { _KeyboardHandler };\nvar _AR_ALLCELLS = 4,\n    _WJC_DRAGSRC = \"wj-state-dragsrc\",\n    _WJC_FLEXGRID = \"wj-flexgrid\";\nexport var AllowResizing;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.Columns = 1] = \"Columns\";\n  e[e.Rows = 2] = \"Rows\";\n  e[e.Both = 3] = \"Both\";\n  e[e.ColumnsAllCells = e.Columns | _AR_ALLCELLS] = \"ColumnsAllCells\";\n  e[e.RowsAllCells = e.Rows | _AR_ALLCELLS] = \"RowsAllCells\";\n  e[e.BothAllCells = e.Both | _AR_ALLCELLS] = \"BothAllCells\";\n}(AllowResizing || (AllowResizing = {}));\nexport var AutoSizeMode;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.Headers = 1] = \"Headers\";\n  e[e.Cells = 2] = \"Cells\";\n  e[e.Both = 3] = \"Both\";\n}(AutoSizeMode || (AutoSizeMode = {}));\nexport var AllowDragging;\n!function (e) {\n  e[e.None = 0] = \"None\";\n  e[e.Columns = 1] = \"Columns\";\n  e[e.Rows = 2] = \"Rows\";\n  e[e.Both = 3] = \"Both\";\n}(AllowDragging || (AllowDragging = {}));\n\nvar _MouseHandler = function () {\n  function _MouseHandler(e) {\n    var t = this,\n        i = e.hostElement,\n        o = e.addEventListener.bind(e),\n        n = e.removeEventListener.bind(e);\n    this._g = e;\n    this._dvMarker = createElement('<div class=\"wj-marker\">&nbsp;</div>');\n    o(i, \"mousedown\", function (i) {\n      e._rcBounds = null;\n\n      if (!i.defaultPrevented && 0 == i.button) {\n        var r = i.target;\n\n        if (!e.containsFocus()) {\n          var l = r instanceof HTMLElement && r.tabIndex > -1 ? r : e._eFocus;\n\n          e._setFocusNoScroll(l);\n        }\n\n        setTimeout(function () {\n          i.defaultPrevented || e.focus();\n        });\n        var s = closestClass(r, _WJC_FLEXGRID);\n\n        if (s && s != e.hostElement || !e.activeEditor && e._isInputElement(r) && !t._hasRadioMap(i) && !e._isNativeCheckbox(r)) {\n          var a = e.hitTest(i),\n              c = CellType;\n\n          switch (a.cellType) {\n            case c.Cell:\n              e.select(a.range, !1);\n              r instanceof HTMLElement && \"root\" != r.getAttribute(\"wj-part\") && r.focus();\n              break;\n\n            case c.ColumnHeader:\n            case c.ColumnFooter:\n              e.scrollIntoView(-1, a.col);\n              break;\n\n            case c.RowHeader:\n              e.scrollIntoView(a.row, -1);\n          }\n\n          isIE() && a.cellType != c.Cell && e._isInputElement(r) && r.focus();\n          return;\n        }\n\n        if (e._isNativeCheckbox(r) && hasClass(r, \"wj-column-selector\") && e.hitTest(i).cellType == CellType.RowHeader) return;\n        var u = document;\n        n(u, \"mousemove\");\n        n(u, \"mouseup\");\n        o(u, \"mousemove\", mouseMove);\n        o(u, \"mouseup\", mouseUp);\n        t._isDown = !0;\n\n        t._mousedown(i);\n      }\n    });\n\n    var mouseMove = function (e) {\n      t._mousemove(e);\n    },\n        mouseUp = function (e) {\n      t._isDown = !1;\n      n(document, \"mousemove\");\n      n(document, \"mouseup\");\n\n      t._mouseup(e);\n    };\n\n    o(i, \"mouseenter\", function (t) {\n      e._rcBounds = null;\n    });\n    o(i, \"mousemove\", this._hover.bind(this));\n    o(i, \"dblclick\", this._dblclick.bind(this));\n    o(i, \"click\", this._click.bind(this));\n    o(i, \"selectstart\", function (t) {\n      e._isInputElement(t.target) || t.preventDefault();\n    });\n    o(i, \"wheel\", function (t) {\n      if (!t.defaultPrevented && t.deltaY && !t.ctrlKey && !t.metaKey) {\n        var i = e._root,\n            o = t.deltaY;\n\n        if ((t.shiftKey ? i.scrollWidth > i.clientWidth : i.scrollHeight > i.clientHeight) && closestClass(t.target, _WJC_FLEXGRID) == e.hostElement) {\n          switch (t.deltaMode) {\n            case 1:\n              o = e.rows.defaultSize * (o < 0 ? -1 : 1);\n              break;\n\n            case 2:\n              o = (t.shiftKey ? i.clientWidth : i.clientHeight) * (o < 0 ? -1 : 1);\n              break;\n\n            case 0:\n            default:\n              isSafari() && (o = clamp(o, -150, 150));\n          }\n\n          e._isScrollingByWheel = !0;\n          var n = e.finishEditing(!1);\n          e._isScrollingByWheel = !1;\n          n && (t.shiftKey ? i.scrollLeft += o : i.scrollTop += o);\n          t.preventDefault();\n          t.stopImmediatePropagation();\n        }\n      }\n    });\n    o(i, \"dragstart\", this._dragstart.bind(this));\n    o(i, \"dragover\", this._dragover.bind(this));\n    o(i, \"dragleave\", this._dragleave.bind(this));\n    o(i, \"drop\", this._drop.bind(this));\n    o(i, \"dragend\", this._dragend.bind(this));\n  }\n\n  _MouseHandler.prototype.resetMouseState = function () {\n    var e = this._g,\n        t = e.hostElement;\n\n    if (this._updating) {\n      this._updating = !1;\n      e.endUpdate();\n    }\n\n    this._dragSrc && removeClass(this._dragSrc, _WJC_DRAGSRC);\n\n    this._showDragMarker(null);\n\n    t && (t.style.cursor = \"\");\n    isSafari() && this._szRowCol && e.invalidate();\n    e.removeEventListener(document, \"mousemove\");\n    e.removeEventListener(document, \"mouseup\");\n    this._eMouse = null;\n    this._isDown = null;\n    this._htDown = null;\n    this._lbSelState = null;\n    this._lbSelStateRows = {};\n    this._lbSel = null;\n    this._szRowCol = null;\n    this._szArgs = null;\n    e._rcBounds = null;\n    this._anchorCol = -1;\n  };\n\n  _MouseHandler.prototype._mousedown = function (e) {\n    var t = this._g,\n        i = e.target,\n        o = t.hitTest(e),\n        n = o.cellType,\n        r = CellType,\n        l = e.ctrlKey || e.metaKey;\n    this._selDown = t.selection;\n    this._ignoreClick = !1;\n\n    if (o.panel == t.cells) {\n      if (closestClass(i, CellFactory._WJC_DROPDOWN)) {\n        var s = t.hitTest(i);\n\n        t._edtHdl._toggleListBox(e, s.range);\n\n        e.preventDefault();\n        this._ignoreClick = !0;\n        return;\n      }\n\n      var a = t.editRange;\n      if (a && a.contains(o.range)) return;\n    }\n\n    var c = getActiveElement();\n    if (i != c || !t._isInputElement(i)) if (n != r.None) {\n      this._htDown = o;\n      this._eMouse = e;\n      this._anchorCol = o.col;\n\n      if (null == this._szRowCol) {\n        var u = t.allowResizing,\n            d = AllowResizing;\n        if ((n == r.RowHeader || n == r.TopLeft) && o.edgeBottom && u & d.Rows && this._getResizeRowHt(o)) this._ignoreClick = !0;else if ((n == r.ColumnHeader || n == r.TopLeft) && o.edgeRight && u & d.Columns && this._getResizeColHt(o)) this._ignoreClick = !0;else {\n          var h = t.allowDragging,\n              p = AllowDragging;\n\n          switch (n) {\n            case r.Cell:\n            case r.RowHeader:\n              if (l && t.selectionMode == SelectionMode.ListBox) {\n                this._lbSelState = t.rows[o.row].isSelected;\n                closest(i, \".wj-elem-collapse\") && (this._lbSelState = !1);\n              }\n\n              this._mouseSelect(e, e.shiftKey);\n\n              if (n == r.RowHeader && !(h & p.Rows)) {\n                e.preventDefault();\n                t.focus();\n              }\n\n              break;\n\n            case r.ColumnHeader:\n              t.allowSorting || h & p.Columns || closest(i, \"button\") || this._mouseSelect(e, e.shiftKey);\n          }\n        }\n      } else {\n        var f = t._eFocus;\n\n        if (c != f) {\n          f.tabIndex = 0;\n          f.focus();\n        }\n\n        this._ignoreClick = !0;\n\n        this._handleResizing(e);\n      }\n    } else {\n      t.finishEditing();\n      i != t._root && i != t._fCt && t._edtHdl._commitRowEdits();\n    }\n  };\n\n  _MouseHandler.prototype._mousemove = function (e) {\n    if (this._htDown && !e.defaultPrevented) {\n      if (0 == e.buttons && this._eMouse && e.timeStamp - this._eMouse.timeStamp > 600) {\n        this.resetMouseState();\n        return;\n      }\n\n      this._eMouse = e;\n      if (this._szRowCol) this._handleResizing(e);else {\n        var t = this._g,\n            i = t.allowDragging,\n            o = AllowDragging,\n            n = CellType;\n\n        switch (this._htDown.cellType) {\n          case n.Cell:\n            this._mouseSelect(e, !0);\n\n            break;\n\n          case n.RowHeader:\n            i & o.Rows || this._mouseSelect(e, !0);\n            break;\n\n          case n.ColumnHeader:\n            i & o.Columns || t.allowSorting || this._mouseSelect(e, !0);\n        }\n      }\n    }\n  };\n\n  _MouseHandler.prototype._mouseup = function (e) {\n    var t = this._g;\n\n    if (!t.isTouching || !(this._dragSrc || e.target instanceof HTMLHtmlElement)) {\n      var i = t.hitTest(e),\n          o = this._htDown;\n\n      if (o && !e.defaultPrevented) {\n        this._szArgs && this._finishResizing(e);\n\n        if (!this._szArgs && i.panel == o.panel && i.row == o.row && i.col == o.col) {\n          var n = i.getColumn();\n\n          if (n) {\n            if (!(n._getFlag(RowColFlags.HasTemplate) && !n.cellTemplate)) {\n              var r = i.target;\n\n              if (r != o.target && r instanceof HTMLElement) {\n                if (o.target instanceof HTMLInputElement) {\n                  var l = i.point,\n                      s = o.point;\n                  Math.abs(l.x - s.x) + Math.abs(l.y - s.y) < 10 && (r = r.querySelector(\"input\") || r);\n                }\n\n                var a = document.createEvent(\"Event\");\n                a.initEvent(\"click\", !0, !0);\n\n                for (var c in e) /Key$|X$|Y$|^button|^(x|y|which)$/.test(c) && (a[c] = e[c]);\n\n                r.dispatchEvent(a);\n              }\n            }\n          }\n        }\n      }\n\n      this.resetMouseState();\n    }\n  };\n\n  _MouseHandler.prototype._click = function (e) {\n    if (this._ignoreClick) {\n      this._ignoreClick = !1;\n      e.preventDefault();\n    }\n\n    if (!e.defaultPrevented) {\n      var t = this._g,\n          i = e.target,\n          o = t.hitTest(i),\n          n = tryCast(i, HTMLInputElement),\n          r = \"input.\" + CellFactory._WJC_CHECKBOX;\n\n      if (!n) {\n        var l = closest(i, \"label\");\n        l && (n = l.querySelector(r));\n      }\n\n      !n && t.bigCheckboxes && (n = i.querySelector(r));\n\n      if (n != t.activeEditor && t._isNativeCheckbox(n)) {\n        if (o.panel == t.cells) {\n          var s = t.getCellData(o.row, o.col, !1);\n\n          if (t.startEditing(!1, o.row, o.col, !1, e)) {\n            t.activeEditor.checked = !s;\n            t.finishEditing();\n            t.focus();\n          } else \"boolean\" != typeof s && void 0 !== s || (n.checked = s);\n        }\n\n        return;\n      }\n\n      if (this._hasRadioMap(e)) {\n        this._handleClick(e);\n\n        return;\n      }\n\n      var a = e.ctrlKey || e.metaKey;\n\n      if (t.rows.maxGroupLevel > -1 && closestClass(i, CellFactory._WJC_COLLAPSE)) {\n        var c = t.rows[o.row];\n\n        if (o.panel == t.cells && c instanceof GroupRow) {\n          a ? t.collapseGroupsToLevel(c.isCollapsed ? c.level + 1 : c.level) : c.isCollapsed = !c.isCollapsed;\n          return;\n        }\n      }\n\n      if (!a && !e.shiftKey && !t.activeEditor && o.panel == t.cells) {\n        var u = t._selHdl.selection;\n\n        if (u.equals(this._selDown) && o.range.contains(u)) {\n          t.startEditing(!0, null, null, !0, e);\n          return;\n        }\n      }\n\n      this._handleClick(e);\n    }\n  };\n\n  _MouseHandler.prototype._handleClick = function (e) {\n    var t = this._g,\n        i = e.target,\n        o = t.hitTest(i),\n        n = e.ctrlKey || e.metaKey,\n        r = o.panel;\n\n    if (!e.defaultPrevented && o.grid == t) {\n      if (r == t.cells && this._hasRadioMap(e)) {\n        var l = closest(i, \"label\"),\n            s = l && l.querySelector(\"input\");\n        s && !s.disabled && t.startEditing(!1, o.row, o.col, !1, e) && t.finishEditing() && (t._edtHdl._edtCanceled ? e.preventDefault() : t.setCellData(o.row, o.col, l.textContent, !0, t.refreshOnEdit));\n        return;\n      }\n\n      if (!t._isInputElement(i)) {\n        if (r == t.topLeftCells) {\n          var a = SelectionMode;\n\n          switch (t.selectionMode) {\n            case a.None:\n            case a.Cell:\n              break;\n\n            default:\n              t.selectAll();\n          }\n\n          return;\n        }\n\n        if (r == t.columnHeaders) {\n          if (t.allowPinning && closestClass(i, CellFactory._WJC_PIN)) this._clickPin(e, o);else if (!t._isTransposed() && closestClass(e.target, CellFactory._WJC_COLLAPSE)) {\n            if (p = t._getColumnGroup(o.row, o.col)) if (n) {\n              for (var c = p.isCollapsed, u = p.level, d = [], h = 0; h < t.columns.length; h++) if ((p = t._getColumnGroup(o.row, h)) && p.collapseTo && p.level == u && d.indexOf(p) < 0) {\n                d.push(p);\n                p.isCollapsed = !c;\n              }\n            } else p.isCollapsed = !p.isCollapsed;\n          } else {\n            i instanceof HTMLSpanElement && i.parentElement instanceof HTMLLabelElement && (i = i.parentElement.querySelector(\"input\"));\n            i instanceof HTMLInputElement || this._clickSort(e, o);\n            t.focus();\n          }\n          return;\n        }\n\n        if (r == t.rowHeaders) {\n          if (t._isTransposed() && closestClass(e.target, CellFactory._WJC_COLLAPSE)) {\n            var p;\n            if (p = t._getColumnGroup(o.row, o.col)) if (n) {\n              c = p.isCollapsed, u = p.level, d = [];\n\n              for (var f = 0; f < t.rows.length; f++) if ((p = t._getColumnGroup(f, o.col)) && p.collapseTo && p.level == u && d.indexOf(p) < 0) {\n                d.push(p);\n                p.isCollapsed = !c;\n              }\n            } else p.isCollapsed = !p.isCollapsed;\n          }\n\n          return;\n        }\n\n        if (r == t.cells) {\n          if (o.row < 0) {\n            this._clickSort(e, o);\n\n            return;\n          }\n\n          if (closestClass(i, CellFactory._WJC_COLLAPSE)) {\n            var g = t.rows[o.row];\n            g instanceof GroupRow && (n ? t.collapseGroupsToLevel(g.isCollapsed ? g.level + 1 : g.level) : g.isCollapsed = !g.isCollapsed);\n            return;\n          }\n\n          closestClass(i, CellFactory._WJC_DROPDOWN) && t._edtHdl._toggleListBox(e, o.range);\n        }\n      }\n    }\n  };\n\n  _MouseHandler.prototype._hasRadioMap = function (e) {\n    var t = e.target;\n\n    if (closest(t, \"label\")) {\n      var i = closestClass(t, CellFactory._WJC_RADIOMAP);\n      return closestClass(i, _WJC_FLEXGRID) == this._g.hostElement;\n    }\n\n    return !1;\n  };\n\n  _MouseHandler.prototype._clickSort = function (e, t) {\n    var i = this._g,\n        o = i.allowSorting,\n        n = i.collectionView,\n        r = n ? n.sortDescriptions : null,\n        l = e.ctrlKey || e.metaKey,\n        s = e.shiftKey;\n\n    if (n && n.canSort && o != AllowSorting.None) {\n      var a = t.panel.columns[t.col],\n          c = i._getBindingColumn(t.panel, t.row, a),\n          u = c ? c._getBindingSort() : null;\n\n      if (c.allowSorting && u) {\n        if (a == c) {\n          var d = i.getMergedRange(t.panel, t.row, t.col, !1);\n          if (d && d.columnSpan > 1) return;\n        }\n\n        var h = new CellRangeEventArgs(t.panel, t.range, e);\n\n        if (i.onSortingColumn(h)) {\n          i._edtHdl._commitRowEdits();\n\n          for (var p = -1, f = null, g = 0; g < r.length; g++) if (r[g].property == u) {\n            p = g;\n            f = r[g];\n            break;\n          }\n\n          r.deferUpdate(function () {\n            if (l && s) r.clear();else if (f) {\n              var e = l;\n              !e && i.isTouching && (e = 0 == f.ascending);\n              e ? r.removeAt(p) : r[p] = new SortDescription(u, !f.ascending);\n            } else {\n              o != AllowSorting.MultiColumn && r.clear();\n              var t = new SortDescription(u, !0);\n              r.push(t);\n            }\n          });\n          i.onSortedColumn(h);\n        }\n      }\n    }\n  };\n\n  _MouseHandler.prototype._clickPin = function (e, t) {\n    var i = this._g,\n        o = i.columns,\n        n = o.frozen,\n        r = i.allowPinning;\n    r == AllowPinning.Both && (r = e.shiftKey ? AllowPinning.ColumnRange : AllowPinning.SingleColumn);\n    var l = new CellRangeEventArgs(i.cells, t.range);\n\n    if (i.onPinningColumn(l)) {\n      if (r == AllowPinning.SingleColumn) if (t.col >= n) {\n        o.moveElement(t.col, n, !1);\n        o.frozen++;\n      } else {\n        o.moveElement(t.col, n - 1, !1);\n        o.frozen--;\n      }\n      r == AllowPinning.ColumnRange && (t.col + 1 != n ? o.frozen = t.col + 1 : o.frozen = 0);\n      i.onPinnedColumn(l);\n    }\n  };\n\n  _MouseHandler.prototype._dblclick = function (e) {\n    if (!e.defaultPrevented) {\n      var t,\n          i = this._g,\n          o = i.hitTest(e),\n          n = e.ctrlKey || e.metaKey,\n          r = o.range,\n          l = o.cellType,\n          s = CellType,\n          a = i.selection,\n          c = i.allowResizing,\n          u = AllowResizing;\n\n      if (o.edgeRight && c & u.Columns) {\n        if (l == s.TopLeft) {\n          if (o.panel.columns[o.col].allowResizing) {\n            t = new CellRangeEventArgs(o.panel, new CellRange(-1, o.col));\n\n            if (i.onAutoSizingColumn(t) && i.onResizingColumn(t)) {\n              this._ignoreClick = !0;\n              i.autoSizeColumn(o.col, !0);\n              i.onAutoSizedColumn(t);\n              i.onResizedColumn(t);\n              e.preventDefault();\n            }\n          }\n        } else if (l == s.ColumnHeader || c & _AR_ALLCELLS) {\n          l == s.ColumnHeader && n && a.containsColumn(o.col) && (r = a);\n\n          for (var d = l == s.RowHeader || l == s.BottomLeft, h = r.leftCol; h <= r.rightCol; h++) if (o.panel.columns[h].allowResizing) {\n            t = new CellRangeEventArgs(o.panel, new CellRange(-1, h));\n\n            if (i.onAutoSizingColumn(t) && i.onResizingColumn(t)) {\n              this._ignoreClick = !0;\n              i.autoSizeColumn(h, d);\n              i.onResizedColumn(t);\n              i.onAutoSizedColumn(t);\n              e.preventDefault();\n            }\n          }\n        }\n\n        this.resetMouseState();\n      } else if (o.edgeBottom && c & u.Rows) {\n        if (l == s.TopLeft || l == s.BottomLeft) {\n          if (o.getRow().allowResizing) {\n            d = l == s.TopLeft || null;\n            t = new CellRangeEventArgs(o.panel, new CellRange(o.row, -1));\n\n            if (i.onAutoSizingRow(t) && i.onResizingRow(t)) {\n              this._ignoreClick = !0;\n              i.autoSizeRow(o.row, d);\n              i.onResizedRow(t);\n              i.onAutoSizedRow(t);\n              e.preventDefault();\n            }\n          }\n        } else if (l == s.RowHeader || c & _AR_ALLCELLS) {\n          var p = o.panel;\n          d = p == i.columnHeaders || p == i.columnFooters && null;\n          n && a.containsRow(o.row) && p == i.cells && (r = a);\n\n          for (var f = r.topRow; f <= r.bottomRow; f++) if (p.rows[f].allowResizing) {\n            t = new CellRangeEventArgs(p, new CellRange(f, -1));\n\n            if (i.onAutoSizingRow(t) && i.onResizingRow(t)) {\n              this._ignoreClick = !0;\n              i.autoSizeRow(f, d);\n              i.onResizedRow(t);\n              i.onAutoSizedRow(t);\n              e.preventDefault();\n            }\n          }\n        }\n\n        this.resetMouseState();\n      } else ;\n    }\n  };\n\n  _MouseHandler.prototype._hover = function (e) {\n    if (!this._isDown) {\n      var t = this._g,\n          i = t.hitTest(e),\n          o = \"\";\n      this._szRowCol = this._getResizeColHt(i) || this._getResizeRowHt(i);\n      this._szRowCol instanceof Column ? o = \"col-resize\" : this._szRowCol instanceof Row && (o = \"row-resize\");\n      this._szStart = this._szRowCol ? this._szRowCol.renderSize : 0;\n      t.hostElement.style.cursor = o;\n      return i;\n    }\n\n    return null;\n  };\n\n  _MouseHandler.prototype._getResizeColHt = function (e) {\n    var t,\n        i = this._g.allowResizing,\n        o = e.cellType,\n        n = CellType;\n\n    if (i & AllowResizing.Columns && (o == n.ColumnHeader || o == n.TopLeft || i & _AR_ALLCELLS)) {\n      e.edgeRight && (t = e.getColumn());\n      e.edgeFarRight && (t = this._getResizeCol(e.panel, e.col) || e.getColumn());\n      e.edgeLeft && (t = this._getResizeCol(e.panel, e.col, !0) || t);\n    }\n\n    return t && t.allowResizing ? t : null;\n  };\n\n  _MouseHandler.prototype._getResizeRowHt = function (e) {\n    var t,\n        i = this._g.allowResizing,\n        o = AllowResizing,\n        n = e.cellType,\n        r = CellType;\n\n    if (i & o.Rows && (n == r.RowHeader || n == r.TopLeft || i & _AR_ALLCELLS)) {\n      e.edgeBottom && (t = e.getRow());\n      e.edgeFarBottom && (t = this._getResizeRow(e.panel, e.row) || e.getRow());\n      e.edgeTop && (t = this._getResizeRow(e.panel, e.row, !0) || t);\n    }\n\n    return t && t.allowResizing ? t : null;\n  };\n\n  _MouseHandler.prototype._getResizeCol = function (e, t, i) {\n    void 0 === i && (i = !1);\n    var o = this._g,\n        n = e.columns;\n\n    if (i) {\n      for (var r = t - 1; r >= 0; r--) {\n        if ((l = n[r]).isVisible) return this._asResizable(l);\n      }\n\n      if (n == o.columns && 0 != (o.headersVisibility & HeadersVisibility.Row)) for (r = (n = o.rowHeaders.columns).length - 1; r >= 0; r--) {\n        if ((l = n[r]).isVisible) return this._asResizable(l);\n      }\n      return null;\n    }\n\n    for (r = t + 1; r < n.length; r++) {\n      if ((l = n[r]).isVisible) return this._asResizable(l);\n    }\n\n    if (t == n.length - 1 && n == o.rowHeaders.columns) {\n      n = o.columns;\n\n      for (r = 0; r < n.length; r++) {\n        var l;\n        if ((l = n[r]).isVisible) return this._asResizable(l);\n      }\n    }\n\n    return null;\n  };\n\n  _MouseHandler.prototype._getResizeRow = function (e, t, i) {\n    void 0 === i && (i = !1);\n    var o = this._g,\n        n = e.rows;\n\n    if (i) {\n      for (var r = t - 1; r >= 0; r--) {\n        if ((l = n[r]).isVisible) return this._asResizable(l);\n      }\n\n      if (n == o.rows && 0 != (o.headersVisibility & HeadersVisibility.Column)) for (r = (n = o.columnHeaders.rows).length - 1; r >= 0; r--) {\n        if ((l = n[r]).isVisible) return this._asResizable(l);\n      }\n      return null;\n    }\n\n    for (r = t + 1; r < n.length; r++) {\n      if ((l = n[r]).isVisible) return this._asResizable(l);\n    }\n\n    if (t == n.length - 1 && n == o.columnHeaders.rows) {\n      n = o.rows;\n\n      for (r = 0; r < n.length; r++) {\n        var l;\n        if ((l = n[r]).isVisible) return this._asResizable(l);\n      }\n    }\n\n    return null;\n  };\n\n  _MouseHandler.prototype._asResizable = function (e) {\n    return 0 == e.renderSize && e.allowResizing ? e : null;\n  };\n\n  _MouseHandler.prototype._mouseSelect = function (e, t) {\n    var i = this,\n        o = this._g;\n\n    if (e && this._htDown && this._htDown.panel && o.selectionMode != SelectionMode.None) {\n      var n = new HitTestInfo(this._htDown.panel, e);\n\n      this._handleSelection(n, t);\n\n      !isIE9() && e.button >= 0 && e.target != o._root && ((n = new HitTestInfo(o, e)).panel || setTimeout(function () {\n        i._isDown && i._eMouse && i._mouseSelect(i._eMouse, t);\n      }, 100));\n    }\n  };\n\n  _MouseHandler.prototype._handleResizing = function (e) {\n    \"mousedown\" == e.type && (isSafari() ? setAttribute(e.target, \"draggable\", null) : e.preventDefault());\n    var t = this._szRowCol;\n\n    if (t instanceof Column) {\n      var i = this._g,\n          o = mouseToPage(e).x,\n          n = Math.round(Math.max(_MouseHandler._SZ_MIN, this._szStart + (o - this._htDown.point.x) * (i.rightToLeft ? -1 : 1)));\n\n      if (t.renderSize != n) {\n        if (null == this._szArgs) {\n          var r = i.rowHeaders.columns.indexOf(t) > -1 ? i.rowHeaders : i.cells;\n          this._szArgs = new CellRangeEventArgs(r, new CellRange(-1, t.index));\n        }\n\n        this._szArgs.cancel = !1;\n        i.onResizingColumn(this._szArgs) && (i.deferResizing ? this._showResizeMarker(n) : t.width = n);\n      }\n    }\n\n    var l = this._szRowCol;\n\n    if (l instanceof Row) {\n      i = this._g;\n      var s = mouseToPage(e).y;\n      n = Math.round(Math.max(_MouseHandler._SZ_MIN, this._szStart + (s - this._htDown.point.y)));\n\n      if (l.renderSize != n) {\n        if (null == this._szArgs) {\n          r = i.columnHeaders.rows.indexOf(l) > -1 ? i.columnHeaders : i.columnFooters.rows.indexOf(l) > -1 ? i.columnFooters : i.cells;\n          this._szArgs = new CellRangeEventArgs(r, new CellRange(l.index, -1));\n        }\n\n        this._szArgs.cancel = !1;\n        i.onResizingRow(this._szArgs) && (i.deferResizing ? this._showResizeMarker(n) : l.height = n);\n      }\n    }\n\n    this._szArgs && e.preventDefault();\n  };\n\n  _MouseHandler.prototype._dragstart = function (e) {\n    var t = this._g,\n        i = this._htDown,\n        o = AllowDragging,\n        n = CellType;\n\n    if (i) {\n      this._dragSrc = null;\n      this._htDrag = null;\n      this._chldColGrpMarker = !1;\n\n      if (!this._szRowCol) {\n        var r = new CellRangeEventArgs(i.panel, i.range),\n            l = t.allowDragging,\n            s = i.cellType,\n            a = i.panel.rows,\n            c = i.getColumn(!0);\n        c && c.allowDragging && (s == n.ColumnHeader || s == n.TopLeft) && l & o.Columns && (t.onDraggingColumn(r) ? this._dragSrc = e.target : e.preventDefault());\n\n        if (!this._dragSrc && i.row > -1 && a[i.row].allowDragging) {\n          var u = a[i.row];\n          u instanceof GroupRow || u instanceof _NewRowTemplate || s == n.RowHeader && l & o.Rows && (t.onDraggingRow(r) ? this._dragSrc = e.target : e.preventDefault());\n        }\n      }\n\n      if (this._dragSrc && e.dataTransfer && !e.defaultPrevented) {\n        this._htDrag = i;\n\n        _startDrag(e.dataTransfer, \"move\");\n\n        e.stopPropagation();\n        addClass(this._dragSrc, _WJC_DRAGSRC);\n        t.beginUpdate();\n        this._updating = !0;\n      }\n    }\n  };\n\n  _MouseHandler.prototype._dragend = function (e) {\n    this._dragSrc = null;\n    this._htDrag = null;\n    this.resetMouseState();\n  };\n\n  _MouseHandler.prototype._dragover = function (e) {\n    var t = this._g,\n        i = this._hitTest(e),\n        o = this._dragSrc ? this._htDrag : null,\n        n = CellType,\n        r = !1;\n\n    if (o && i.cellType == o.cellType) {\n      var l = new CellRangeEventArgs(i.panel, i.range, o);\n\n      if (i.cellType == n.ColumnHeader && t._hasColumnGroups()) {\n        l.cancel = !t._canMoveColumnGroup(o.row, o.col, i.row, i.col);\n        r = t.onDraggingColumnOver(l);\n      } else if (i.cellType == n.ColumnHeader) {\n        l.cancel = !t.columns.canMoveElement(o.col, i.col);\n        r = t.onDraggingColumnOver(l);\n      } else if (i.cellType == n.RowHeader) {\n        l.cancel = !t.rows.canMoveElement(o.row, i.row);\n        r = t.onDraggingRowOver(l);\n      } else if (i.cellType == n.TopLeft) {\n        l.cancel = !t.topLeftCells.columns.canMoveElement(o.col, i.col);\n        r = t.onDraggingColumnOver(l);\n      }\n    }\n\n    if (r) {\n      e.dataTransfer.dropEffect = \"move\";\n      e.preventDefault();\n      e.stopPropagation();\n\n      this._showDragMarker(i);\n    } else this._showDragMarker(null);\n\n    if (o && t.autoScroll) {\n      var s = t.controlRect,\n          a = t.scrollPosition,\n          c = Control._DRAG_SCROLL_EDGE,\n          u = Control._DRAG_SCROLL_STEP;\n\n      if (o.panel == t.columnHeaders) {\n        e.pageX - s.left < c && (a.x += u);\n        s.right - e.pageX < c && (a.x -= u);\n      } else if (o.panel == t.rowHeaders) {\n        e.pageY - s.top < c && (a.y += u);\n        s.bottom - e.pageY < c && (a.y -= u);\n      }\n\n      if (!a.equals(t._ptScrl)) {\n        t.scrollPosition = a;\n        t._rcBounds = null;\n      }\n    }\n  };\n\n  _MouseHandler.prototype._dragleave = function (e) {\n    this._showDragMarker(null);\n  };\n\n  _MouseHandler.prototype._drop = function (e) {\n    var t = this._g,\n        i = this._hitTest(e),\n        o = this._dragSrc ? this._htDrag : null,\n        n = CellType;\n\n    if (o && i.cellType == o.cellType) {\n      var r = t.selection,\n          l = new CellRangeEventArgs(i.panel, i.range, o);\n\n      if (i.cellType == n.ColumnHeader && t._hasColumnGroups()) {\n        t._moveColumnGroup(o.row, o.col, i.row, i.col, this._chldColGrpMarker);\n\n        t.select(r.row, i.col);\n        t.onDraggedColumn(l);\n      } else if (i.cellType == n.ColumnHeader) {\n        t.columns.moveElement(o.col, i.col);\n        t.select(r.row, i.col);\n        t.onDraggedColumn(l);\n      } else if (i.cellType == n.RowHeader) {\n        t.rows.moveElement(o.row, i.row);\n        t.select(i.row, r.col);\n        t.onDraggedRow(l);\n      } else if (i.cellType == n.TopLeft) {\n        t.topLeftCells.columns.moveElement(o.col, i.col);\n        t.onDraggedColumn(l);\n      }\n    }\n\n    this.resetMouseState();\n  };\n\n  _MouseHandler.prototype._hitTest = function (e) {\n    var t = this._g;\n    t._rcBounds = null;\n    return t.hitTest(e);\n  };\n\n  _MouseHandler.prototype._showResizeMarker = function (e) {\n    var t,\n        i = this._g,\n        o = i._ptScrl,\n        n = this._szArgs.panel.cellType,\n        r = CellType,\n        l = this._dvMarker,\n        s = i.cells.hostElement;\n    l.parentElement != s && s.appendChild(l);\n\n    if (this._szRowCol instanceof Column) {\n      t = {\n        left: this._szRowCol.pos + e - 1,\n        top: -1e3,\n        right: \"\",\n        bottom: 0,\n        width: 3,\n        height: \"\"\n      };\n      n != r.TopLeft && n != r.RowHeader || (t.left -= i._eTL.offsetWidth + o.x);\n      n == r.Cell && this._szRowCol.index < i.frozenColumns && (t.left -= o.x);\n      i.rightToLeft && (t.left = s.clientWidth - t.left - t.width);\n    } else {\n      t = {\n        left: -1e3,\n        top: this._szRowCol.pos + e - 1,\n        right: 0,\n        bottom: \"\",\n        width: \"\",\n        height: 3\n      };\n      n != r.TopLeft && n != r.ColumnHeader || (t.top -= i._eTL.offsetHeight + o.y);\n      n == r.Cell && this._szRowCol.index < i.frozenRows && (t.top -= o.y);\n    }\n\n    setCss(l, t);\n  };\n\n  _MouseHandler.prototype._showDragMarker = function (e) {\n    var t = this._dvMarker;\n\n    if (e && e.panel) {\n      if (!e.range.equals(this._rngTarget)) {\n        this._rngTarget = e.range;\n        var i = e.panel.hostElement;\n        t.parentElement != i && i.appendChild(t);\n        var o = this._g,\n            n = o._ptScrl,\n            r = CellType,\n            l = {\n          left: 0,\n          top: 0,\n          width: 6,\n          height: 6,\n          right: \"\",\n          bottom: \"\"\n        };\n\n        switch (e.cellType) {\n          case r.ColumnHeader:\n            var s = o._getColumnGroup(e.row, e.col);\n\n            if (s) {\n              var a = s._rng,\n                  c = e.panel.rows,\n                  u = e.panel.columns;\n\n              if (s.isEmpty && null === s.binding) {\n                var d = c[a.bottomRow],\n                    h = u[a.leftCol],\n                    p = o.rightToLeft,\n                    f = p ? t.parentElement.clientWidth - e.point.x : e.point.x,\n                    g = Math.max(h.renderWidth / 5, _MouseHandler._SZ_MAX_COLGRP_EDGE),\n                    _ = h.pos + g,\n                    m = h.pos + h.renderWidth - g,\n                    C = this._htDown && e.col > this._htDown.col;\n\n                if (!C && f > _ || C && f < m) {\n                  l.top = d.pos - l.height / 2 + d.renderHeight;\n                  l.left = p ? t.parentElement.clientWidth - h.pos - h.renderWidth : h.pos;\n                  l.width = h.renderWidth;\n                  this._chldColGrpMarker = !0;\n                  break;\n                }\n              }\n\n              this._chldColGrpMarker = !1;\n              l.top = 0;\n              l.height = 0;\n\n              for (var w = 0; w < a.topRow; w++) l.top += c[w].renderHeight;\n\n              for (w = a.topRow; w <= a.bottomRow; w++) l.height += c[w].renderHeight;\n\n              l.left = 0;\n\n              if (this._htDown && e.col > this._htDown.col) {\n                var v = u[a.rightCol];\n                l.left = v.pos - l.width / 2 + v.renderWidth;\n              } else {\n                var y = u[a.leftCol];\n                l.left = y.pos - l.width / 2;\n              }\n\n              o.rightToLeft && (l.left = t.parentElement.clientWidth - l.left - l.width);\n              break;\n            }\n\n          case r.TopLeft:\n          case r.ColumnHeader:\n            var b = e.panel.columns[e.col];\n            l.left = b.pos - l.width / 2;\n            l.height = e.panel.height;\n            this._htDown && e.col > this._htDown.col && (l.left += b.renderWidth);\n            e.cellType == r.ColumnHeader && e.col < o.frozenColumns && (l.left -= n.x);\n            o.rightToLeft && (l.left = t.parentElement.clientWidth - l.left - l.width);\n            break;\n\n          case r.RowHeader:\n            var R = e.getRow();\n            l.top = R.pos - l.height / 2;\n            l.width = e.panel.width;\n            e.row > this._htDown.row && (l.top += R.renderHeight);\n            e.row < o.frozenRows && (l.top -= n.y);\n        }\n\n        setCss(t, l);\n      }\n    } else {\n      removeChild(t);\n      this._rngTarget = null;\n    }\n  };\n\n  _MouseHandler.prototype._finishResizing = function (e) {\n    var t = this._g,\n        i = t.selection,\n        o = this._szArgs,\n        n = this._eMouse,\n        r = n && (n.ctrlKey || n.metaKey),\n        l = CellType;\n\n    if (o && !o.cancel) {\n      if (o.col > -1) {\n        var s = o.col,\n            a = mouseToPage(e).x,\n            c = Math.round(Math.max(_MouseHandler._SZ_MIN, this._szStart + (a - this._htDown.point.x) * (this._g.rightToLeft ? -1 : 1)));\n        o.panel.columns[s].width = Math.round(c);\n        t.onResizedColumn(o);\n        if (r && this._htDown.cellType == l.ColumnHeader && i.containsColumn(s)) for (var u = i.leftCol; u <= i.rightCol; u++) if (t.columns[u].allowResizing && u != s) {\n          o = new CellRangeEventArgs(t.cells, new CellRange(-1, u));\n\n          if (t.onResizingColumn(o)) {\n            t.columns[u].size = t.columns[s].size;\n            t.onResizedColumn(o);\n          }\n        }\n        e.preventDefault();\n      }\n\n      if (o.row > -1) {\n        var d = o.row,\n            h = mouseToPage(e).y;\n        c = Math.round(Math.max(_MouseHandler._SZ_MIN, this._szStart + (h - this._htDown.point.y)));\n        o.getRow().height = Math.round(c);\n        t.onResizedRow(o);\n        if (r && this._htDown.cellType == l.RowHeader && i.containsRow(d)) for (var p = i.topRow; p <= i.bottomRow; p++) if (t.rows[p].allowResizing && p != d) {\n          o = new CellRangeEventArgs(t.cells, new CellRange(p, -1));\n\n          if (t.onResizingRow(o)) {\n            t.rows[p].size = t.rows[d].size;\n            t.onResizedRow(o);\n          }\n        }\n        t.rows[d].resizedManually = !0;\n        e.preventDefault();\n      }\n    }\n  };\n\n  _MouseHandler.prototype._handleSelection = function (e, t) {\n    var i = this._g,\n        o = i._selHdl.selection,\n        n = new CellRange(e.row, e.col),\n        r = CellType,\n        l = SelectionMode,\n        s = null,\n        a = e.col >= this._anchorCol;\n    if (n.isValid) if (null == this._lbSelState) {\n      e.cellType != r.ColumnHeader && i._clearAnchorCell();\n\n      switch (e.cellType) {\n        case r.RowHeader:\n          n.col = 0;\n          n.col2 = i.columns.length - 1;\n          break;\n\n        case r.ColumnHeader:\n          switch (i.selectionMode) {\n            case l.Row:\n            case l.Cell:\n              n.row = n.row2 = o.row;\n              t = !1;\n              break;\n\n            default:\n              n.row = 0;\n              n.row2 = i.rows.length - 1;\n\n              if (null != (s = i._getColumnGroup(e.row, e.col))) {\n                if (i.anchorCursor) {\n                  s._rng.col <= this._anchorCol && this._anchorCol <= s._rng.col2 && (this._anchorCol = s._rng.col2);\n\n                  i._setAnchorCell(0, this._anchorCol);\n                } else s._rng.col < this._anchorCol && this._anchorCol <= s._rng.col2 && (this._anchorCol = s._rng.col);\n\n                if (a) {\n                  n.col = s._rng.col2;\n                  n.col2 = s._rng.col;\n                } else {\n                  n.col = s._rng.col;\n                  n.col2 = s._rng.col2;\n                  o.col2 < n.col2 && (o.col2 = n.col2);\n                }\n              }\n\n          }\n\n      }\n\n      if (t) {\n        if (e.cellType == r.ColumnHeader) {\n          i.anchorCursor ? null == i._getAnchorCell() && i.selectionMode != SelectionMode.Row && i.selectionMode != SelectionMode.Cell && i._setAnchorCell(o.row, o.col) : i._clearAnchorCell();\n          n.row2 = o.row2;\n          !a && o.col > o.col2 ? n.col2 = o.col : n.col2 = o.col2;\n          null != s && a && n.col2 > s._rng.col && (n.col2 = s._rng.col);\n        } else if (i.anchorCursor) {\n          n.row = o.row;\n          n.col = o.col;\n        } else {\n          n.row2 = o.row2;\n          n.col2 = o.col2;\n        }\n\n        if (!n.isValid) {\n          var c = this._htDown;\n          c && (n = new CellRange(c.row, c.col));\n        }\n      }\n\n      if (i.selectionMode == SelectionMode.MultiRange) {\n        var u = i._mouseHdl._eMouse,\n            d = u && (u.ctrlKey || u.metaKey),\n            h = i._selHdl,\n            p = h.selection,\n            f = h.extendedSelection,\n            g = e.panel != i.cells;\n        closest(u.target, \".wj-elem-collapse\") && (d = !1);\n\n        if (d) {\n          if (!t && h._deselectRange(n)) h.selection.isValid && (n = null);else if (p.isValid && (g || !p.intersects(n))) {\n            (g ? this._splitRange(p) : [p.clone()]).forEach(function (e) {\n              for (var t = !1, i = 0; i < f.length && !t; i++) f[i].equals(e) && (t = !0);\n\n              t || f.push(e);\n            });\n          }\n        } else f.clear();\n      }\n\n      if (n) {\n        i.select(n, !1);\n\n        switch (e.cellType) {\n          case r.RowHeader:\n            i.scrollIntoView(e.row, -1);\n            break;\n\n          case r.ColumnHeader:\n            i.scrollIntoView(-1, e.col);\n            break;\n\n          default:\n            i.scrollIntoView(e.row, e.col);\n        }\n      } else {\n        var _ = new CellRangeEventArgs(i.cells, new CellRange(e.row, e.col));\n\n        i.onSelectionChanging(_);\n        i.onSelectionChanged(_);\n        i.invalidate();\n      }\n    } else {\n      var m = this._htDown.row,\n          C = e.row,\n          w = this._lbSel;\n\n      if (m > C) {\n        C = m;\n        m = e.row;\n      }\n\n      var v = this._lbSelStateRows || {};\n      if (this._lbSel) for (var y = w.row; y <= w.row2; y++) (y < m || y > C) && (i.rows[y].isSelected = v[y]);\n\n      for (y = m; y <= C; y++) {\n        v.hasOwnProperty(y) || (v[y] = i.rows[y].isSelected);\n        i.rows[y].isSelected = !this._lbSelState;\n      }\n\n      this._lbSel = new CellRange(m, 0, C, 0);\n      i.scrollIntoView(e.row, e.col);\n    }\n  };\n\n  _MouseHandler.prototype._splitRange = function (e) {\n    var t = this._g,\n        i = t.columns.length,\n        o = t.rows.length,\n        n = [];\n    if (e.columnSpan == i) for (var r = e.topRow; r <= e.bottomRow; r++) n.push(new CellRange(r, 0, r, i - 1));else if (e.rowSpan == o) for (var l = e.leftCol; l <= e.rightCol; l++) n.push(new CellRange(0, l, o - 1, l));else n.push(e.clone());\n    return n;\n  };\n\n  _MouseHandler._SZ_MIN = 0;\n  _MouseHandler._SZ_MAX_COLGRP_EDGE = 50;\n  return _MouseHandler;\n}();\n\nexport { _MouseHandler };\n\n_registerModule(\"wijmo.grid\", selfModule);","map":{"version":3,"names":["_a","__extends","extendStatics","e","t","Object","setPrototypeOf","__proto__","Array","i","hasOwnProperty","__","constructor","prototype","create","isInt","asInt","_addCultureInfo","tryCast","format","Size","CancelEventArgs","asType","asBoolean","isFunction","Key","_getModule","asArray","assert","copy","isArray","isNumber","isString","toHeaderCase","NotifyCollectionChangedEventArgs","ObservableArray","Point","mouseToPage","closest","Control","SortDescription","isSafari","isIE","isIE9","closestClass","addClass","removeClass","setCss","getActiveElement","removeChild","createElement","setAttribute","_startDrag","clamp","hasClass","Event","EventArgs","_MaskProvider","asString","asCollectionView","toPlainText","_Map","asFunction","culture","Globalize","escapeHtml","isBoolean","toggleClass","contains","setChecked","setAriaLabel","disableAutoComplete","evalTemplate","DataType","isiOS","setSelectionRange","isUndefined","asNumber","asEnum","getType","_deprecated","Aggregate","Binding","CollectionViewGroup","changeType","isFirefox","DateTime","Rect","CollectionView","NotifyCollectionChangedAction","getAggregate","isDate","showPopup","hidePopup","Clipboard","Tooltip","isPrimitive","enable","setText","getTypes","hasItems","getElementRect","supportsFocusOptions","isIE10","isMobile","_registerModule","mInput","selfModule","_safariVer","_getSafariVer","match","navigator","userAgent","version","parts","map","parseInt","full","major","minor","DataMapEditor","AutoComplete","DropDownList","RadioButtons","DataMap","_keyPath","_displayPath","_sortByVal","_editable","_serK","mapChanged","value","_cv","collectionChanged","addHandler","onMapChanged","defineProperty","get","set","enumerable","configurable","_map","size","empty","getDataItem","sourceCollection","o","serializeKeys","forEach","has","getDisplayValue","getKeyValue","_indexOf","getDisplayValues","items","getKeyValues","_search","raise","n","r","l","toString","s","toLowerCase","a","c","length","u","d","filter","CellRange","setRange","_row","_col","_row2","_col2","clone","Math","abs","min","max","topRow","bottomRow","leftCol","rightCol","containsRow","containsColumn","intersects","intersectsRow","intersectsColumn","getRenderSize","isValid","rows","height","renderSize","columns","width","equals","combine","CellType","None","Cell","ColumnHeader","RowHeader","TopLeft","ColumnFooter","BottomLeft","GridPanel","_offsetY","_rng","_g","FlexGrid","_ct","_rows","RowCollection","_cols","ColumnCollection","_e","HTMLElement","_vrb","_getViewRange","getTotalSize","getCellData","_toIndex","_getBindingColumn","GroupRow","dataItem","childItemsPath","binding","_binding","getValue","_ubv","_hash","header","aggregate","collectionView","firstVisibleIndex","getGroupHeader","h","dataMap","cellType","setCellData","getIsRequired","p","isContentHtml","f","isEditable","displayMemberPath","selectedValuePath","commitEmptyEdits","g","_","dataType","m","String","Number","isNaN","C","Date","mask","replace","w","v","y","b","R","currentEditItem","trackChanges","E","_extend","setValue","x","Change","indexOf","onCollectionChanged","_trackItemChanged","invalidate","getCellBoundingRect","pos","rightToLeft","left","hostElement","clientWidth","right","_root","offsetWidth","getBoundingClientRect","top","frozen","scrollPosition","getCellElement","children","_INDEX_KEY","row","col","rng","getSelectedState","selectionMode","_selHdl","selection","SelectionMode","SelectedState","getMergedRange","_getAnchorCell","anchorCursor","showMarquee","Active","Cursor","ListBox","Selected","isSelected","MultiRange","extendedSelection","Row","RowRange","_getAdjustedSelection","showSelectedHeaders","HeadersVisibility","Column","row2","_getOffsetY","_updateContent","_ptScrl","style","_vtRows","_vtCols","col2","_activeCell","_reorderCells","_vru","_recycle","HeadersFocusability","All","includes","headersFocusability","_renderColHdrRow","_updateCells","_renderRow","_scanAndRemoveExtraCells","childElementCount","lastElementChild","_removeExtraCells","_clearCells","cellFactory","disposeCell","relocateForScrollToBeginning","_createRange","insertBefore","extractContents","document","className","appendChild","rowHeaderPath","_docRange","createRange","setStart","setEnd","columnHeaders","ariaLabel","_getRowHeaderPath","_renderRowHdrCell","path","_renderColHdrCell","headersVisibility","grid","_HTML_CELL","_lazyRender","textContent","position","overflow","opacity","pointerEvents","colHdrAriaAttributes","panel","level","isCollapsed","_renderCell","isSingleCell","activeEditor","querySelector","checked","canEditCell","updateCell","getAttribute","innerHTML","_szClientSB","getItemAt","_clipToScreen","cells","offsetTop","bottom","innerHeight","_getFrozenPos","CellRangeEventArgs","call","_p","_data","getRow","getColumn","_hasColumnGroups","_getColumnGroup","FormatItemEventArgs","_cell","CellEditEndingEventArgs","apply","arguments","_stayInEditMode","_refresh","SelMove","Next","Prev","NextPage","PrevPage","Home","End","NextCell","PrevCell","NextEditableCell","PrevEditableCell","_SelectionHandler","_sel","_xSel","_mode","_setSelectionMode","select","range","isRangeValid","_showSelection","getControl","finishEditing","cancel","onSelectionChanging","_setFlag","RowColFlags","refreshCells","_getCvIndex","moveCurrentToPosition","onSelectionChanged","moveSelection","_adjustReferenceCell","_szClient","_getNextColumnCell","_getNextRowCell","moveHeaderCells","activePanelType","from","activePanel","getElementsByClassName","_gpCells","find","classList","add","_hideMarquee","focus","some","nextElementSibling","previousElementSibling","remove","scrollIntoView","setTimeout","parentElement","_updateMarquee","S","H","M","getNextCell","clear","_adjustSelection","HTMLInputElement","_expandSelection","expandSelectionOnCopyPaste","_expandSelectedRows","_expandSelectionRange","_deselectRange","removeAt","selectedRows","index","push","sort","_selectRows","Visible","AllowResizing","AllowDragging","AllowMerging","AllowSorting","AutoGenerated","Collapsed","ParentCollapsed","ReadOnly","HtmlContent","WordWrap","MultiLine","HasTemplate","RowDefault","ColumnDefault","RowCol","_type","_align","_inpType","_mask","_maxLen","_required","_fmt","_ddCssClass","_cssClass","_cssClassAll","_szMin","_szMax","_sz","_pos","_idx","_idxVis","_idxData","gridChanged","onPropertyChanged","_bindingSort","sortMemberPath","removeHandler","_mapEditor","dataMapEditor","_getFlag","_NewRowTemplate","_list","_dirty","_update","isVisible","defaultSize","minSize","maxSize","onGridChanged","_setList","_f","_hdr","_name","_agg","_quickSize","_descById","_tpl","_ctr","_szStar","_parseStarSize","_getQuickAutoSize","wordWrap","multiLine","_edt","control","editor","dispose","_CustomEditor","currentSortIndex","sortDescriptions","ascending","_getBindingSort","property","isRequired","getAlignment","align","Boolean","parseFloat","resizedManually","_level","isReadOnly","_setCollapsed","groupHeaderFormat","showGroups","groupDescription","propertyName","name","CntAll","count","getCellRange","onGroupCollapsedChanging","deferUpdate","onGroupCollapsedChanged","RowColCollection","_frozen","_lastFrozen","_firstVisible","_vlen","_szDef","_szTot","_szCustom","isFrozen","canMoveElement","allowDragging","moveElement","insert","reset","splice","concat","beginUpdate","_setDefaultSize","isUpdating","visible","_updateStarSizes","renderWidth","round","_maxLevel","_ariaLabel","refresh","describedById","join","trim","allowSorting","currentSort","_ColumnGroupHandler","_updatingCollection","_initialized","_grid","_initializeColumnGroups","_colGroups","createColumnGroups","_createColumnGroups","hasColumnGroups","getGroupDefinitions","_groupDefs","getColumnGroup","canMoveColumnGroup","_containsGroup","parentGroup","_isCollapseTo","moveColumnGroup","isEmpty","_getCollection","_deferCollectionUpdate","handleCollectionChange","_buildColumnGroups","handlePropertyChange","_curr_header","ColumnGroupCollection","_setOwner","_setChangeHandler","_parse","_removeChangeHandler","_assertColumnGroups","autoGenerateColumns","_beginBuild","_addColumnGroup","_getMaxLevel","_expandRange","cssClassAll","_checkIfCollapsed","ColumnGroup","_beginCollectionUpdate","_endCollectionUpdate","_lvl","_collapsed","_copy","_ownerList","owner","_collTo","_updateCollapsedState","onColumnGroupCollapsedChanging","onColumnGroupCollapsedChanged","_changeHdl","_setOwnerList","_getCollapseToIndices","_shiftRange","_getCollapseToBindings","collapseTo","_getColByIdx","_findColByProp","_owner","ariaLabels","toggleDropDown","toggleGroup","SingleColumn","MultiColumn","AllowPinning","ColumnRange","Both","ClipStringOptions","Default","CSV","QuoteAll","SkipMerged","Unformatted","InvisibleRows","InvisibleColumns","InvisibleCells","_activePanelType","_cssPage","_cellPadLeft","_cellPadHorz","_cellPadVert","_anchorCell","_autoGenCols","_autoClipboard","_xOnCopyPaste","_autoScroll","_autoSearch","_caseSensitive","_readOnly","_indent","_autoSizeMode","AutoSizeMode","_autoHeights","_hdrVis","_hdrFoc","_alSorting","_alPinning","_alAddNew","_alDelete","_alResizing","Columns","_alDragging","_alMerging","_ssHdr","_shSort","_shGroups","_shMarquee","_shPlcHld","_altStep","_shErr","_shDropDown","_valEdt","_gHdrFmt","_childItemsPath","_sortRowIndex","_editColIndex","_deferResizing","_pSel","_pOutline","_stickyHdr","_anchorCursor","_copyHeaders","_bigChecks","_skipMerged","_commitEmptyEdits","_fzClone","_vt","_refreshOnEdit","_isISChanging","_isScrollingByWheel","_touchEdit","itemsSourceChanging","itemsSourceChanged","scrollPositionChanged","selectionChanging","selectionChanged","loadingRows","loadedRows","updatingLayout","updatedLayout","resizingColumn","resizedColumn","autoSizingColumn","autoSizedColumn","starSizedColumns","draggingColumn","draggingColumnOver","draggedColumn","pinningColumn","pinnedColumn","resizingRow","resizedRow","autoSizingRow","autoSizedRow","draggingRow","draggingRowOver","draggedRow","groupCollapsedChanging","groupCollapsedChanged","columnGroupCollapsedChanging","columnGroupCollapsedChanged","sortingColumn","sortedColumn","beginningEdit","prepareCellForEdit","cellEditEnding","cellEditEnded","rowEditStarting","rowEditStarted","rowEditEnding","rowEditEnded","rowAdded","deletingRow","deletedRow","copying","copied","pasting","pasted","pastingCell","pastedCell","formatItem","updatingView","updatedView","_mappedColumns","borderRadius","getTemplate","applyTemplate","_eSz","_eCt","_fCt","_eTL","_eBL","_eCHdr","_eRHdr","_eCFtr","_eTLCt","_eBLCt","_eCHdrCt","_eCFtrCt","_eRHdrCt","_eMarquee","_eFocus","minWidth","minHeight","maxWidth","maxHeight","webkitOverflowScrolling","display","firstChild","visibility","outline","firstElementChild","addEventListener","elementFromPoint","clientX","clientY","createEvent","initEvent","dispatchEvent","tabIndex","_getDefaultRowHeight","_hdrRows","_hdrCols","_ftrRows","_gpTL","_gpCHdr","_gpRHdr","_gpBL","_gpCFtr","_cf","CellFactory","_keyHdl","_KeyboardHandler","_mouseHdl","_MouseHandler","_edtHdl","_EditHandler","_createSelHdl","_addHdl","_AddNewHandler","_grpHdl","_mrgMgr","MergeManager","_bndSortConverter","_sortConverter","bind","_errorTip","showDelay","cssClass","initialize","_updateScrollPosition","_forceScrollUpdate","activeCell","requestAnimationFrame","_setFocusNoScroll","frozenColumns","target","_setFocus","_activePanel","_handleResize","_rcBounds","isTouching","startEditing","_updateStickyHeaders","_getSerializableProperties","getColumnGroups","serializeColumns","JSON","stringify","parse","columnGroups","updateNewRowTemplate","_setAria","isDisabled","_updateTabIndex","_imeHdl","imeEnabled","containsFocus","_ImeHandler","hasHandlers","itemFormatter","newRowAtTop","_bindGrid","alternatingRowStep","_itemValidator","itemValidator","_items","onItemsSourceChanging","currentChanged","sortConverter","_getCollectionView","_lastCount","_cvCurrentChanged","_cvCollectionChanged","onItemsSourceChanged","_rowHdrPath","_getRtlMode","scrollWidth","scrollLeft","scrollTop","_heightBrowser","viewRange","_itemFormatter","_allowEdit","hitTest","HitTestInfo","getClipString","columnSpan","rowSpan","skipMerged","setClipString","itemsSource","_updateColumnTypes","_updateDefaultSizes","clearTimeout","_toInv","_szCtl","offsetHeight","_updateLayout","refreshRange","autoSizeColumn","autoSizeColumns","topLeftCells","bottomLeftCells","columnFooters","rowHeaders","_WJS_MEASURE","_getCanvasContext","autoSizeMode","Headers","_getDesiredWidth","Cells","_getWidestRow","autoSizeRow","autoSizeRows","_getDesiredRowHeight","collapseGroupsToLevel","selectAll","selectedRanges","_maxOffsetY","_getCssPage","scrollHeight","clientHeight","innerWidth","pageXOffset","pageYOffset","scrollTo","documentElement","editRange","_kaTab","KeyAction","_kaEnter","_WJS_WSPRE","toggleDropDownList","_tglDropDown","_toggleListBox","_lbx","_defTypeWidth","onScrollPositionChanged","onLoadingRows","onLoadedRows","_autoRowHeights","onUpdatingLayout","onUpdatedLayout","onResizingColumn","onResizedColumn","onAutoSizingColumn","onAutoSizedColumn","onStarSizedColumns","onDraggingColumn","onDraggingColumnOver","onDraggedColumn","onPinningColumn","onPinnedColumn","onResizingRow","onResizedRow","onAutoSizingRow","onAutoSizedRow","onDraggingRow","onDraggingRowOver","onDraggedRow","onSortingColumn","onSortedColumn","onBeginningEdit","_beginningEdit","onPrepareCellForEdit","onCellEditEnding","stayInEditMode","onCellEditEnded","onRowEditStarting","_rowEditStarting","onRowEditStarted","onRowEditEnding","_rowEditEnding","onRowEditEnded","_rowEditEnded","onRowAdded","onDeletingRow","onDeletedRow","onCopying","onCopied","onPasting","onPasted","onPastingCell","onPastedCell","onFormatItem","onUpdatingView","onUpdatedView","_getTabIndex","_orgTabIndex","_setTabOrder","_updateImeFocus","_toAutoHeights","_autoSizeRows","_REFRESH_INTERVAL","_getShowErrors","showErrors","_hasValidation","_getHasValidation","_getError","getError","errorTip","_correctFocusOfActiveCell","_WJC_COLLAPSE","preventScroll","_fixScroll","_clearAnchorCell","_setAnchorCell","body","getContext","getComputedStyle","font","fontSize","fontFamily","split","_getRowsPerItem","measureText","_getDesiredHeight","ct","spr","spc","data","_getSortRowIndex","_getDeleteColumnIndex","_getEditColumnIndex","_htDown","sortByDisplayValues","preserveSelectedState","_getMap","preserveOutlineState","maxGroupLevel","_path","_bindColumns","_bindRows","_syncSelection","window","Map","action","Add","item","Remove","_findRow","currentItem","editableCollectionView","currentAddItem","_getRowIndex","currentPosition","_updating","dataIndex","_preWidth","_heightReal","_getMaxSupportedCssHeight","paddingTop","paddingBottom","paddingLeft","paddingRight","frozenRows","zIndex","_updateScrollHandler","_WJS_STICKY","_getClipToScreen","_scrollHandlerAttached","_scroll","removeEventListener","_MIN_VIRT_ROWS","_afClip","cancelAnimationFrame","_afSticky","_tips","_toErrorTips","hide","element","setTooltip","_useFrozenDiv","_updateFrozenCells","type","selectionStart","selectionEnd","transform","querySelectorAll","cellTemplate","onclick","cloneNode","getTooltip","_getMarqueeRect","offsetLeft","_getColumnTypes","_getMapEditor","isDroppedDown","_getBindingColumns","_isTransposed","groups","_addNode","_addGroup","_addBoundRow","_addGroupRow","isBottomLevel","getPrototypeOf","getOwnPropertyNames","getOwnPropertyDescriptor","_canMoveColumnGroup","_moveColumnGroup","_isInputElement","contentEditable","tagName","_isNativeCheckbox","disabled","readOnly","_WJC_CHECKBOX","_wantsInput","_maxCssHeight","_rtlMode","getEmptyRequiredCell","_WJS_UPDATING","controlTemplate","_updateImeFocusAsyncBnd","_updateImeFocusAsync","_cmpstartBnd","_compositionstart","_keypressBnd","_keypress","_cssHidden","_tbx","_maskProvider","_cellEditEnded","_cellEditEnding","preventDefault","gotFocus","HTMLTextAreaElement","lineHeight","textAlign","placeholder","blur","_valueChanged","_enableIme","defaultPrevented","ctrlKey","altKey","metaKey","keyCode","stopPropagation","self","_toFocus","_resetTabIndex","_nrt","_top","_keydownBnd","_keydown","_committing","_pasting","_attach","canAddNew","allowAddNew","_pastingData","_pastedData","_detach","Escape","_handleEditStarting","addNew","commitNew","cancelNew","isAddingNew","newItemCreator","moveCurrentTo","ColumnHeaders","RowHeaders","AllHeaders","console","error","allowMerging","_mergeCell","_edge","Element","_target","MouseEvent","_pt","controlRect","borderLeftWidth","borderTopWidth","_SZEDGE","F","T","softInput","_MASK_PROVIDER","renderHeight","childNodes","I","G","P","A","z","D","L","visibleIndex","O","allowResizing","_getResizeCol","Rows","_getResizeRow","j","N","k","B","V","K","treeIndent","W","q","U","hasChildren","_isEditingCell","J","Y","X","_getTreeBtn","outerHTML","_getGlyph","_renderTemplate","Z","inputType","$","_getEditString","Q","required","ee","maxLength","te","showPlaceholders","ie","oe","_WJC_RADIOMAP","ne","re","le","se","cursor","ae","showSort","_getSortGlyph","allowPinning","_addPinButton","showDropDown","ce","_getDropDownBtn","ue","de","he","pe","fe","ge","me","Ce","_setCellError","we","_fmtItemArgs","getEditorValue","_applyMask","numberFormat","substr","_WJC_DROPDOWN","_WJC_PIN","_tplDdBtn","_getButton","_tplCtx","text","_parseNumericFormat","spec","scale","formatNumber","_ddBtn","_LB_PAGE_SIZE","_edItem","_edtCanceled","_mapSearch","_fullEdit","_evtInput","_evtChange","_cstEdtValue","_validating","_composing","_commitRowEdits","lostFocus","button","_szRowCol","_getCustomEditor","getSelection","rangeCount","getRangeAt","activeElement","removeAllRanges","addRange","editItem","search","HTMLSpanElement","HTMLLabelElement","_updateRowHeaderCell","_updateEditorCell","test","Space","_removeListBox","_focus","onLostFocus","validateEdits","_getValidationError","_lbx_SelectedValue","_edtValue","_setCustomEditorValue","_sameCols","_sameRows","slice","_getRowClipString","_skipMergedCell","_getCellClipString","toJSON","endUpdate","_parseClipString","_expandClipRows","_deferPaste","InputNumber","InputDate","InputTime","_clamp","commitEdit","isTabOrNewLineChar","_parseClipCell","unquotedStringHasChar","_hasPendingUpdates","_updateCell","validationMessage","_getRequiredMsg","invalidInput","invInputHandler","_getBadInputMsg","_containsFocus","_msgRequired","_msgBadInput","pattern","F2","F4","indeterminate","Enter","wrap","setProperty","imeMode","Tab","Up","Down","Left","Right","PageUp","PageDown","_keydownListBox","selectedIndex","code","charCode","fromCharCode","_findString","caseSensitiveSearch","_createListBox","showSelection","dropDownCssClass","selectedValue","_findDuplicateValues","findIndex","isEqualValue","_findKeyValue","selectedIndexChanged","_OWNR_KEY","getTime","_ctl","_prop","checkedItems","_isDropDown","DropDown","_isComboBox","ComboBox","_isAutoComplete","_isInputDateTime","InputDateTime","_isInputMask","InputMask","_updateFocusBnd","_updateFocus","_cmpstart","_mousedownBnd","_mousedown","_connect","_hideEditor","_disconnect","_prepareCellForEdit","_oldText","_setDropdown","_ddDate","showFilterInput","_toSearch","_rxHighlight","_findNext","_showEditor","key","_msk","_activateEditor","_checkColumn","stopImmediatePropagation","_imeEditor","shiftKey","_cssVisible","_initImeEditInput","setCustomValidity","color","compEndEh_1","gotF","_setSelectionRange","border","MoveDown","MoveAcross","Cycle","CycleOut","CycleEditable","char","click","_getKeyCode","autoClipboard","copyHeaders","paste","_startEditing","_moveSel","_performKeyAction","keyActionTab","keyActionEnter","cancelEdit","resetMouseState","Delete","Back","_deleteSel","initEditor_1","gotF_1","autoSearch","_SEARCH_DELAY","allowDelete","canRemove","isEditingItem","_deleteRange","_AR_ALLCELLS","_WJC_DRAGSRC","_WJC_FLEXGRID","ColumnsAllCells","RowsAllCells","BothAllCells","_dvMarker","_hasRadioMap","mouseMove","mouseUp","_isDown","_mousemove","_mouseup","_hover","_dblclick","_click","deltaY","deltaMode","_dragstart","_dragover","_dragleave","_drop","_dragend","_dragSrc","_showDragMarker","_eMouse","_lbSelState","_lbSelStateRows","_lbSel","_szArgs","_anchorCol","_selDown","_ignoreClick","edgeBottom","_getResizeRowHt","edgeRight","_getResizeColHt","_mouseSelect","_handleResizing","buttons","timeStamp","HTMLHtmlElement","_finishResizing","point","bigCheckboxes","_handleClick","refreshOnEdit","_clickPin","_clickSort","canSort","_szStart","edgeFarRight","edgeLeft","edgeFarBottom","edgeTop","_asResizable","_handleSelection","_SZ_MIN","deferResizing","_showResizeMarker","_htDrag","_chldColGrpMarker","dataTransfer","_hitTest","dropEffect","autoScroll","_DRAG_SCROLL_EDGE","_DRAG_SCROLL_STEP","pageX","pageY","_rngTarget","_SZ_MAX_COLGRP_EDGE","_splitRange"],"sources":["C:/Users/Andrew P/Documents/code-practice/angular/data-grid-walkthrough/node_modules/@grapecity/wijmo.grid/es5-esm.js"],"sourcesContent":["/*!\n    *\n    * Wijmo Library 5.20231.888\n    * http://wijmo.com/\n    *\n    * Copyright(c) GrapeCity, Inc.  All rights reserved.\n    *\n    * Licensed under the GrapeCity Commercial License.\n    * sales@wijmo.com\n    * wijmo.com/products/wijmo-5/license/\n    *\n    */\n\nvar _a,__extends=this&&this.__extends||function(){var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)};return function(e,t){extendStatics(e,t);function __(){this.constructor=e}e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}();import{isInt,asInt,_addCultureInfo,tryCast,format,Size,CancelEventArgs,asType,asBoolean,isFunction,Key,_getModule,asArray,assert,copy,isArray,isNumber,isString,toHeaderCase,NotifyCollectionChangedEventArgs,ObservableArray,Point,mouseToPage,closest,Control,SortDescription,isSafari,isIE,isIE9,closestClass,addClass,removeClass,setCss,getActiveElement,removeChild,createElement,setAttribute,_startDrag,clamp,hasClass,Event,EventArgs,_MaskProvider,asString,asCollectionView,toPlainText,_Map,asFunction,culture,Globalize,escapeHtml,isBoolean,toggleClass,contains,setChecked,setAriaLabel,disableAutoComplete,evalTemplate,DataType,isiOS,setSelectionRange,isUndefined,asNumber,asEnum,getType,_deprecated,Aggregate,Binding,CollectionViewGroup,changeType,isFirefox,DateTime,Rect,CollectionView,NotifyCollectionChangedAction,getAggregate,isDate,showPopup,hidePopup,Clipboard,Tooltip,isPrimitive,enable,setText,getTypes,hasItems,getElementRect,supportsFocusOptions,isIE10,isMobile,_registerModule}from\"@grapecity/wijmo\";import*as mInput from\"@grapecity/wijmo.input\";import*as selfModule from\"@grapecity/wijmo.grid\";var _safariVer=null;export function _getSafariVer(){return _safariVer}if(isSafari()){var match=navigator.userAgent.match(/version\\/([\\d\\.]+)/i);if(null!=match){var version=match[1],parts=(match=version.match(/(\\d+)/g)).map((function(e){return parseInt(e)}));_safariVer={full:version,major:parts[0],minor:parts[1]}}}export var DataMapEditor;!function(e){e[e.AutoComplete=0]=\"AutoComplete\";e[e.DropDownList=1]=\"DropDownList\";e[e.RadioButtons=2]=\"RadioButtons\"}(DataMapEditor||(DataMapEditor={}));var DataMap=function(){function DataMap(e,t,i){this._keyPath=\"\";this._displayPath=\"\";this._sortByVal=!0;this._editable=!1;this._serK=!0;this.mapChanged=new Event;if(isArray(e)&&!t&&!i){e=e.map((function(e){return{value:e}}));t=i=\"value\"}this._cv=asCollectionView(e);this._keyPath=asString(t,!1);this._displayPath=asString(i,!1);this._cv.collectionChanged.addHandler(this.onMapChanged,this)}Object.defineProperty(DataMap.prototype,\"sortByDisplayValues\",{get:function(){return this._sortByVal},set:function(e){this._sortByVal=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(DataMap.prototype,\"serializeKeys\",{get:function(){return this._serK},set:function(e){if((e=asBoolean(e))!==this._serK){var t=this._map,i=t&&t.size;this._map=null;this._serK=e;i&&this.onMapChanged(EventArgs.empty)}},enumerable:!0,configurable:!0});Object.defineProperty(DataMap.prototype,\"collectionView\",{get:function(){return this._cv},enumerable:!0,configurable:!0});Object.defineProperty(DataMap.prototype,\"selectedValuePath\",{get:function(){return this._keyPath},enumerable:!0,configurable:!0});Object.defineProperty(DataMap.prototype,\"displayMemberPath\",{get:function(){return this._displayPath},enumerable:!0,configurable:!0});DataMap.prototype.getDataItem=function(e){var t=this;if(!this._map){var i=this._cv.sourceCollection,o=new _Map(this.serializeKeys);isArray(i)&&this._keyPath&&i.forEach((function(e){var i=e[t._keyPath];o.has(i)||o.set(i,e)}));this._map=o}return this._map.get(e)};DataMap.prototype.getDisplayValue=function(e){var t=this._displayPath,i=this.getDataItem(e);return t&&i?i[t]:e};DataMap.prototype.getKeyValue=function(e,t){var i=this._displayPath,o=this._indexOf(e,i,t,!0);o<0&&(o=this._indexOf(e,i,t,!1));return o>-1?this._cv.sourceCollection[o][this._keyPath]:null};DataMap.prototype.getDisplayValues=function(e){var t=this;return this._cv&&this._displayPath?this._cv.items.map((function(e){return e[t._displayPath]})):[]};DataMap.prototype.getKeyValues=function(){var e=this;return this._cv&&this._keyPath?this._cv.items.map((function(t){return t[e._keyPath]})):[]};Object.defineProperty(DataMap.prototype,\"isEditable\",{get:function(){return this._editable},set:function(e){this._editable=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(DataMap.prototype,\"search\",{get:function(){return this._search},set:function(e){this._search=asFunction(e)},enumerable:!0,configurable:!0});DataMap.prototype.onMapChanged=function(e){this._map=null;this.mapChanged.raise(this,e)};DataMap.prototype._indexOf=function(e,t,i,o){var n=-1,r=-1;if(this._cv&&t){var l=null!=e?e.toString():\"\";l&&i&&(e=toPlainText(l));for(var s=o?l:l.toLowerCase(),a=this._cv.sourceCollection,c=0;c<a.length;c++){var u=a[c],d=u[t];null!=d&&null!=d||(d=\"\");i&&isString(d)&&(d=toPlainText(d));d==e?n=c:o||d.length!=s.length||d.toLowerCase()!=s?null!=d&&d.toString()==l&&(n=c):n=c;if(n==c){if(!this._cv.filter||this._cv.filter(u))return n;r<0&&(r=n)}}}return r};return DataMap}();export{DataMap};var CellRange=function(){function CellRange(e,t,i,o){void 0===e&&(e=-1);void 0===t&&(t=-1);void 0===i&&(i=e);void 0===o&&(o=t);this.setRange(e,t,i,o)}CellRange.prototype.setRange=function(e,t,i,o){void 0===e&&(e=-1);void 0===t&&(t=-1);void 0===i&&(i=e);void 0===o&&(o=t);this._row=asInt(e);this._col=asInt(t);this._row2=asInt(i);this._col2=asInt(o)};Object.defineProperty(CellRange.prototype,\"row\",{get:function(){return this._row},set:function(e){this._row=asInt(e)},enumerable:!0,configurable:!0});Object.defineProperty(CellRange.prototype,\"col\",{get:function(){return this._col},set:function(e){this._col=asInt(e)},enumerable:!0,configurable:!0});Object.defineProperty(CellRange.prototype,\"row2\",{get:function(){return this._row2},set:function(e){this._row2=asInt(e)},enumerable:!0,configurable:!0});Object.defineProperty(CellRange.prototype,\"col2\",{get:function(){return this._col2},set:function(e){this._col2=asInt(e)},enumerable:!0,configurable:!0});CellRange.prototype.clone=function(){return new CellRange(this._row,this._col,this._row2,this._col2)};CellRange.prototype.copy=function(e){this.setRange(e._row,e._col,e._row2,e._col2)};Object.defineProperty(CellRange.prototype,\"rowSpan\",{get:function(){return Math.abs(this._row2-this._row)+1},enumerable:!0,configurable:!0});Object.defineProperty(CellRange.prototype,\"columnSpan\",{get:function(){return Math.abs(this._col2-this._col)+1},enumerable:!0,configurable:!0});Object.defineProperty(CellRange.prototype,\"topRow\",{get:function(){return Math.min(this._row,this._row2)},enumerable:!0,configurable:!0});Object.defineProperty(CellRange.prototype,\"bottomRow\",{get:function(){return Math.max(this._row,this._row2)},enumerable:!0,configurable:!0});Object.defineProperty(CellRange.prototype,\"leftCol\",{get:function(){return Math.min(this._col,this._col2)},enumerable:!0,configurable:!0});Object.defineProperty(CellRange.prototype,\"rightCol\",{get:function(){return Math.max(this._col,this._col2)},enumerable:!0,configurable:!0});Object.defineProperty(CellRange.prototype,\"isValid\",{get:function(){return this._row>-1&&this._col>-1&&this._row2>-1&&this._col2>-1},enumerable:!0,configurable:!0});Object.defineProperty(CellRange.prototype,\"isSingleCell\",{get:function(){return this._row==this._row2&&this._col==this._col2},enumerable:!0,configurable:!0});CellRange.prototype.contains=function(e,t){var i=tryCast(e,CellRange);if(i)return i.topRow>=this.topRow&&i.bottomRow<=this.bottomRow&&i.leftCol>=this.leftCol&&i.rightCol<=this.rightCol;if(isInt(e)&&isInt(t))return e>=this.topRow&&e<=this.bottomRow&&t>=this.leftCol&&t<=this.rightCol;throw\"contains expects a CellRange or row/column indices.\"};CellRange.prototype.containsRow=function(e){return asInt(e)>=this.topRow&&e<=this.bottomRow};CellRange.prototype.containsColumn=function(e){return asInt(e)>=this.leftCol&&e<=this.rightCol};CellRange.prototype.intersects=function(e){return this.intersectsRow(e)&&this.intersectsColumn(e)};CellRange.prototype.intersectsRow=function(e){return e&&!(this.bottomRow<e.topRow||this.topRow>e.bottomRow)};CellRange.prototype.intersectsColumn=function(e){return e&&!(this.rightCol<e.leftCol||this.leftCol>e.rightCol)};CellRange.prototype.getRenderSize=function(e){var t=new Size(0,0);if(this.isValid){for(var i=this.topRow;i<=this.bottomRow;i++)e.rows[i]&&(t.height+=e.rows[i].renderSize);for(var o=this.leftCol;o<=this.rightCol;o++)e.columns[o]&&(t.width+=e.columns[o].renderSize)}return t};CellRange.prototype.equals=function(e){return e instanceof CellRange&&this._row==e._row&&this._col==e._col&&this._row2==e._row2&&this._col2==e._col2};CellRange.prototype.combine=function(e){return e?new CellRange(Math.min(this.topRow,e.topRow),Math.min(this.leftCol,e.leftCol),Math.max(this.bottomRow,e.bottomRow),Math.max(this.rightCol,e.rightCol)):this};CellRange.prototype.toString=function(){return format(\"({row}, {col})-({row2}, {col2})\",this)};return CellRange}();export{CellRange};export var CellType;!function(e){e[e.None=0]=\"None\";e[e.Cell=1]=\"Cell\";e[e.ColumnHeader=2]=\"ColumnHeader\";e[e.RowHeader=3]=\"RowHeader\";e[e.TopLeft=4]=\"TopLeft\";e[e.ColumnFooter=5]=\"ColumnFooter\";e[e.BottomLeft=6]=\"BottomLeft\"}(CellType||(CellType={}));var GridPanel=function(){function GridPanel(e,t,i,o,n){this._offsetY=0;this._rng=new CellRange;this._g=asType(e,FlexGrid);this._ct=asInt(t);this._rows=asType(i,RowCollection);this._cols=asType(o,ColumnCollection);this._e=asType(n,HTMLElement);this._vrb=new CellRange}Object.defineProperty(GridPanel.prototype,\"grid\",{get:function(){return this._g},enumerable:!0,configurable:!0});Object.defineProperty(GridPanel.prototype,\"cellType\",{get:function(){return this._ct},enumerable:!0,configurable:!0});Object.defineProperty(GridPanel.prototype,\"viewRange\",{get:function(){return this._getViewRange()},enumerable:!0,configurable:!0});Object.defineProperty(GridPanel.prototype,\"width\",{get:function(){return this._cols.getTotalSize()},enumerable:!0,configurable:!0});Object.defineProperty(GridPanel.prototype,\"height\",{get:function(){return this._rows.getTotalSize()},enumerable:!0,configurable:!0});Object.defineProperty(GridPanel.prototype,\"rows\",{get:function(){return this._rows},enumerable:!0,configurable:!0});Object.defineProperty(GridPanel.prototype,\"columns\",{get:function(){return this._cols},enumerable:!0,configurable:!0});GridPanel.prototype.getCellData=function(e,t,i){var o,n=this._g,r=this._rows[asNumber(e,!1,!0)],l=null;if(!r)return null;t=this._toIndex(t);o=this._cols[asNumber(t,!1,!0)];var s=n?n._getBindingColumn(this,e,o):o,a=null;r instanceof GroupRow&&r.dataItem instanceof CollectionViewGroup&&!n.childItemsPath&&(a=r.dataItem);s.binding&&r.dataItem&&!a?l=s._binding.getValue(r.dataItem):r._ubv&&(l=r._ubv[o._hash]);if(null==l){var c=CellType;switch(this._ct){case c.TopLeft:case c.ColumnHeader:e!=this._rows.length-1&&s==o||(l=s.header);break;case c.ColumnFooter:if(r instanceof GroupRow&&s.aggregate!=Aggregate.None){var u=this._g.collectionView;if(u){var d=tryCast(u,CollectionView);l=d?d.getAggregate(s.aggregate,s.binding):getAggregate(s.aggregate,u.items,s.binding)}}break;case c.Cell:r instanceof GroupRow&&(t==this._cols.firstVisibleIndex?l=r.getGroupHeader():a&&s.aggregate!=Aggregate.None&&(l=a.getAggregate(s.aggregate,s.binding,this._g.collectionView)))}}if(i){var h=s.dataMap||r.dataMap;this.cellType==CellType.Cell&&h&&(l=h.getDisplayValue(l));l=null!=l?Globalize.format(l,s.format||r.format):\"\"}return l};GridPanel.prototype.setCellData=function(e,t,i,o,n,r){void 0===o&&(o=!0);void 0===n&&(n=!0);void 0===r&&(r=!1);var l=this._g,s=this._rows[asNumber(e,!1,!0)],a=this._cols[asNumber(this._toIndex(t),!1,!0)],c=DataType;if(!s)return!1;var u=l?l._getBindingColumn(this,e,a):a,d=u.dataMap||s.dataMap;if(this._ct==CellType.Cell){var h=u.getIsRequired(s),p=u.isContentHtml||s.isContentHtml;if(!r&&d&&null!=i){var f=d.getKeyValue(i,p);if(null==f&&null==d.getDisplayValue(null)){if(d.getDisplayValue(i)!=i);else if(!d.isEditable||d.displayMemberPath!=d.selectedValuePath){if(\"\"!=i||h||!l.commitEmptyEdits)return!1;i=null}}else i=f}var g=c.Object,_=u.dataType||s.dataType,m=this.getCellData(e,t,!1);g=_||getType(m);if(null==i||\"\"===i&&o&&!d){if(h||!l.commitEmptyEdits&&(null==m||\"\"===m))return!1;g!=c.String&&(i=null);o=!1}if(\"NaN\"==i&&Number.isNaN(m)&&!l.commitEmptyEdits)return!1;if(o){var C=u.format||s.format;C||g!=c.Date||(C=\"d\");u.mask&&isString(i)&&g!=c.String&&(i=i.replace(/_/g,\"\"));i=changeType(i,g,C,m);if(g!=c.Object&&getType(i)!=g)return!1}}if(s.dataItem&&u.binding){var w=u._binding,v=s.dataItem,y=w.getValue(v);if(i!==y&&(d&&!d.serializeKeys||!DateTime.equals(i,y))){var b=l.collectionView,R=b instanceof CollectionView&&v!=b.currentEditItem&&b.trackChanges,E=null;R&&(E=b._extend({},v));w.setValue(v,i);if(R){var x=new NotifyCollectionChangedEventArgs(NotifyCollectionChangedAction.Change,v,b.items.indexOf(v));b.onCollectionChanged(x);b._trackItemChanged(v,E)}}}else{s._ubv||(s._ubv={});s._ubv[a._hash]=i}n&&l&&l.invalidate();return!0};GridPanel.prototype.getCellBoundingRect=function(e,t,i){var o=this._g,n=this.rows[e],r=this.columns[this._toIndex(t)],l=new Rect(r.pos,n.pos,r.renderSize,n.renderSize);if(o.rightToLeft){l.left=this.hostElement.clientWidth-l.right;isIE()||(l.left-=o._root.offsetWidth-o._root.clientWidth)}if(!i){var s=this.hostElement.getBoundingClientRect();l.left+=s.left;l.top+=s.top-this._offsetY}e<this.rows.frozen&&(l.top-=o.scrollPosition.y);t<this.columns.frozen&&(l.left-=o.scrollPosition.x*(o.rightToLeft?-1:1));return l};GridPanel.prototype.getCellElement=function(e,t){var i=this.hostElement.children,o=Math.min(e+2,i.length);t=this._toIndex(t);for(var n=0;n<o;n++)for(var r=i[n].children,l=Math.min(t+2,r.length),s=0;s<l;s++){var a=r[s],c=a[GridPanel._INDEX_KEY];if(c&&(c.row==e&&c.col==t||c.rng&&c.rng.contains(e,t)))return a}return null};GridPanel.prototype.getSelectedState=function(e,t,i){var o=this._g,n=o.selectionMode,r=o._selHdl.selection,l=SelectionMode,s=SelectedState;if(n==l.None)return s.None;t=this._toIndex(t);switch(this._ct){case CellType.Cell:i||(i=o.getMergedRange(this,e,t));var a=o._getAnchorCell();if(i){if(i.contains(r.row,r.col)){if(!o.anchorCursor||null==a)return o.showMarquee?s.Active:s.Cursor;if(e==a.y&&t==a.x||i.row==a.y&&i.col==a.x)return o.showMarquee?s.Active:s.Cursor}if(i.intersects(r)&&o.anchorCursor&&null!=a&&(e==a.y&&t==a.x||i.row==a.y&&i.col==a.x))return o.showMarquee?s.Active:s.Cursor;if(i.intersects(r)&&n!=l.ListBox)return s.Selected;for(var c=i.leftCol;c<=i.rightCol;c++)if(o.columns[c]&&o.columns[c].isSelected)return s.Selected;for(var u=i.topRow;u<=i.bottomRow;u++)if(o.rows[u].isSelected)return s.Selected}if(o.anchorCursor&&null!=a){if(e==a.y&&t==a.x)return o.showMarquee?s.Active:s.Cursor}else if(r.row==e&&r.col==t)return o.showMarquee?s.Active:s.Cursor;if(o.rows[e].isSelected||o.columns[t].isSelected)return s.Selected;if(n==l.MultiRange)for(var d=o._selHdl.extendedSelection,h=0;h<d.length;h++)if(d[h].contains(e,t)||i&&i.intersects(d[h]))return s.Selected;if(i)switch(n){case l.Row:case l.RowRange:if(i.containsRow(r.row))return s.Selected}return n==l.ListBox?s.None:(r=this._getAdjustedSelection(r)).containsRow(e)&&r.containsColumn(t)?s.Selected:s.None;case CellType.ColumnHeader:if(o.showSelectedHeaders&HeadersVisibility.Column&&(o.columns[t].isSelected||r.containsColumn(t)||r.intersectsColumn(i))){i&&(e=i.bottomRow);if(e==this.rows.length-1)return s.Selected}break;case CellType.RowHeader:if(o.showSelectedHeaders&HeadersVisibility.Row&&(o.rows[e].isSelected||r.containsRow(e)||r.intersectsRow(i))){i&&(t=i.rightCol);if(t==this.columns.length-1)return s.Selected}}return s.None};Object.defineProperty(GridPanel.prototype,\"hostElement\",{get:function(){return this._e},enumerable:!0,configurable:!0});GridPanel.prototype._toIndex=function(e){if(isString(e)&&(e=this._cols.indexOf(e))<0)throw\"Invalid column name or binding.\";return e};GridPanel.prototype._getAdjustedSelection=function(e){var t=this._g,i=this._rng,o=SelectionMode;switch(t.selectionMode){case o.Cell:i.setRange(e.row,e.col,e.row,e.col);break;case o.Row:i.setRange(e.row,0,e.row,t.columns.length-1);break;case o.RowRange:case o.ListBox:i.setRange(e.row,0,e.row2,t.columns.length-1);break;default:i.copy(e)}return i};GridPanel.prototype._getOffsetY=function(){return this._offsetY};GridPanel.prototype._updateContent=function(e,t,i){var o=this._g,n=this._e,r=this._rows,l=this._cols,s=this._ct;if(s==CellType.ColumnHeader||s==CellType.ColumnFooter||s==CellType.RowHeader){var a=o._ptScrl,c=n.style;s==CellType.RowHeader?c.top=a.y+\"px\":o.rightToLeft?c.right=a.x+\"px\":c.left=a.x+\"px\"}if(this._offsetY!=i){e=!1;this._offsetY=i}var u=this._getViewRange(),d=u;if(d.isValid){var h=r.length<=o._vtRows?r.length:0,p=l.length<=o._vtCols?l.length:0;d=new CellRange(Math.max(u.row-h,r.frozen),Math.max(u.col-p,l.frozen),Math.min(u.row2+h,r.length-1),Math.min(u.col2+p,l.length-1))}if(e&&!t&&this._vrb.contains(u)&&!r.frozen&&!l.frozen)return this._activeCell;e&&d.equals(this._vrb)||(t=!1);e&&!t&&this._ct!=CellType.TopLeft&&this._reorderCells(d,this._vrb);this._activeCell=null;this._vru=u;this._vrb=d;this._recycle=e;var f=0;this._ct!=CellType.Cell||[HeadersFocusability.All,HeadersFocusability.Column].includes(this._g.headersFocusability)||(f=this._renderColHdrRow(d,t));this._updateCells(t,f);return this._activeCell};GridPanel.prototype._updateCells=function(e,t){this._e;for(var i=this._rows,o=0;o<i.frozen&&o<i.length;o++)t=this._renderRow(o,this._vrb,e,t);for(o=this._vrb.topRow;o<=this._vrb.bottomRow&&o>-1;o++)t=this._renderRow(o,this._vrb,e,t);this._scanAndRemoveExtraCells(t)};GridPanel.prototype._scanAndRemoveExtraCells=function(e){for(var t=this._e;t.childElementCount>e;){var i=t.lastElementChild;removeChild(i);this._removeExtraCells(i,0)}};GridPanel.prototype._clearCells=function(){for(var e=this.hostElement,t=this._g.cellFactory,i=e.childElementCount-1;i>=0;i--){var o=e.children[i];removeChild(o);for(var n=o.childElementCount-1;n>=0;n--)t.disposeCell(o.children[n])}};GridPanel.prototype._reorderCells=function(e,t){var i=this;if(this._g._reorderCells&&t.isValid&&e.isValid&&e.intersects(t)){var relocateForScrollToBeginning=function(e,t,o,n,r,l){assert(o<0,\"Scroll delta must be a negative number\");var s,a,c=-o,u=t+(n-r+1),d=e.childElementCount-u;if(d<c&&d>0){s=d;a=c-d}else{s=c;a=0}if(s>0){var h=i._createRange(e,u,u+s);h&&e.insertBefore(h.extractContents(),e.children[t])}if(a>0)for(var p=e.children[t],f=0;f<a;f++){var g=document.createElement(\"div\");g.className=l;e.insertBefore(g,p)}};if(e.row!=t.row){var o=this._e;if(0!=(a=e.row-t.row)){var n=this._ct==CellType.Cell?1:0,r=o.childElementCount;n+=this.rows.frozen;if(a>0){var l=n,s=Math.min(n+a,r);(d=this._createRange(o,l,s))&&o.appendChild(d.extractContents())}else relocateForScrollToBeginning(o,n,a,e.row2,t.row,\"wj-row\")}}if(e.col!=t.col){var a;o=this._e;if(0!=(a=e.col-t.col)){n=this._ct==CellType.Cell&&this._g.rowHeaderPath?1:0;n+=this.columns.frozen;for(var c=0;c<o.children.length;c++){var u=o.children[c];r=u.children.length;if(hasClass(u,\"wj-row\"))if(a>0){var d;l=n,s=Math.min(n+a,r);(d=this._createRange(u,l,s))&&u.appendChild(d.extractContents())}else relocateForScrollToBeginning(u,n,a,e.col2,t.col,\"wj-cell\")}}}}};GridPanel.prototype._createRange=function(e,t,i){if(i>t&&i<=e.children.length&&t>-1){this._docRange||(this._docRange=document.createRange());var o=this._docRange;o.setStart(e,t);o.setEnd(e,i);return o}return null};GridPanel.prototype._renderColHdrRow=function(e,t){if(t)return 1;var i=this._e.children[0];i||(i=createElement('<div class=\"wj-row\" role=\"row\"></div>',this._e));var o=this._g,n=o?o.columnHeaders.rows.ariaLabel:null;setAttribute(i,\"aria-label\",n);setAttribute(i,\"aria-selected\",null);var r=0,l=this._g._getRowHeaderPath();l&&(r=this._renderRowHdrCell(i,-1,l.path));for(var s=0;s<this.columns.frozen&&s<this.columns.length;s++)r=this._renderColHdrCell(i,s,e,t,r);for(s=e.leftCol;s<=e.rightCol&&s>-1;s++)r=this._renderColHdrCell(i,s,e,t,r);[HeadersVisibility.None,HeadersVisibility.Row].includes(o.headersVisibility)&&setAttribute(i.closest(\".wj-row\"),\"aria-hidden\",\"true\");this._removeExtraCells(i,r);return 1};GridPanel.prototype._renderColHdrCell=function(e,t,i,o,n){var r=this.grid,l=this.columns[t];if(l.renderSize<=0)return n;if(o)return n+1;var s=e.children[n];s||(s=createElement(GridPanel._HTML_CELL,e));if(s&&this._recycle&&r._lazyRender){var a=s[GridPanel._INDEX_KEY];if(a&&-1==a.row&&a.col==t&&t>=this.columns.frozen)return n+1}s.textContent=this.columns[t].header;setCss(s,{position:\"fixed\",left:l.pos,top:-32e3,width:l.renderSize,height:.1,overflow:\"hidden\",opacity:\"0\",pointerEvents:\"none\"});colHdrAriaAttributes(s,l,this,r);s[GridPanel._INDEX_KEY]={row:-1,col:t,panel:this};return n+1};GridPanel.prototype._renderRowHdrCell=function(e,t,i){var o=e.children[0];o||(o=createElement(GridPanel._HTML_CELL,e));o.setAttribute(\"role\",t<0?\"columnheader\":\"rowheader\");o.textContent=i?i.toString():\"\";setCss(o,{position:\"fixed\",left:-32e3,top:-32e3,width:.1,height:.1,overflow:\"hidden\",opacity:\"0\"});o[GridPanel._INDEX_KEY]={row:t,col:-1,panel:this};return 1};GridPanel.prototype._renderRow=function(e,t,i,o){var n=this._g,r=this.rows[e];if(r.renderSize<=0)return o;var l=this._e.children[o];l||(l=createElement('<div class=\"wj-row\"></div>',this._e));if(this._ct==CellType.Cell){l.setAttribute(\"role\",\"row\");var s=SelectionMode,a=r.isSelected;switch(n.selectionMode){case s.Row:case s.RowRange:a=a||this._g._selHdl.selection.containsRow(e)}setAttribute(l,\"aria-selected\",!!a||null);setAttribute(l,\"aria-level\",r instanceof GroupRow?r.level+1:null);setAttribute(l,\"aria-expanded\",r instanceof GroupRow?!r.isCollapsed:null);this.rows.ariaLabel&&setAttribute(l,\"aria-label\",this.rows.ariaLabel)}var c=0;if(this._ct==CellType.Cell){var u=this._g._getRowHeaderPath();u&&(c=this._renderRowHdrCell(l,e,u.getValue(r.dataItem)))}for(var d=0;d<this.columns.frozen&&d<this.columns.length;d++)c=this._renderCell(l,e,d,t,i,c);for(d=t.leftCol;d<=t.rightCol&&d>-1;d++)c=this._renderCell(l,e,d,t,i,c);this._removeExtraCells(l,c);return o+1};GridPanel.prototype._renderCell=function(e,t,i,o,n,r){var l=this._g,s=this._ct==CellType.Cell?l.getMergedRange(this,t,i,!1):l.getMergedRange(this,t,i);if(s){for(var a=Math.max(o.row,s.row);a<t;a++)if(this.rows[a].renderSize)return r;for(a=Math.max(o.col,s.col);a<i;a++)if(this.columns[a].renderSize)return r;if(t>=s.row&&t<=s.row2&&i>s.col&&i<=s.col2&&this._ct===CellType.Cell&&s.isSingleCell)return r;var c=this.columns.frozen;if(c&&s.col<c&&s.col2>=c&&i>s.col)return r}var u=this.columns[i];if((!u||u.renderSize<=0)&&(!s||s.getRenderSize(this).width<=0))return r;var d=e.children[r];if(d&&!n&&this._recycle&&l._lazyRender&&!l.activeEditor){var h=d[GridPanel._INDEX_KEY];h&&h.row==t&&h.col==i&&h.rng==s&&t>=this.rows.frozen&&i>=this.columns.frozen&&(n=!0)}var p=SelectedState,f=this.getSelectedState(t,i,s),g=f==p.Cursor||f==p.Active;if(d&&n){toggleClass(d,\"wj-state-active\",g);toggleClass(d,\"wj-state-selected\",f==p.Cursor);toggleClass(d,\"wj-state-multi-selected\",f==p.Selected);var _=d.querySelector(\".wj-column-selector\");_?g||f!=p.None?setAttribute(d,\"aria-selected\",!!_.checked):setAttribute(d,\"aria-selected\",null):setAttribute(d,\"aria-selected\",!(!g&&f==p.None)||null);g&&(this._activeCell=d);return r+1}d||(d=createElement(GridPanel._HTML_CELL,e));g&&(this._activeCell=d);if(this._ct==CellType.Cell){setAttribute(d,\"role\",\"gridcell\");setAttribute(d,\"aria-selected\",!(f==p.None&&!g)||null);var m=!l.canEditCell(t,i)||null;setAttribute(d,\"aria-readonly\",m);setAttribute(d,\"aria-required\",m?null:u.getIsRequired())}l.cellFactory.updateCell(this,t,i,d,s);d[GridPanel._INDEX_KEY]={row:t,col:i,rng:s,panel:this};return r+1};GridPanel.prototype._removeExtraCells=function(e,t){for(var i=this._g.cellFactory;e.childElementCount>t;){var o=e.lastElementChild;removeChild(o);i.disposeCell(o)}for(var n=e.childElementCount-1;n>-1;--n){var r=[e.children[n],e.children[n-1]],l=r[1];if((o=r[0])&&l){var s=o.getAttribute(\"style\")===l.getAttribute(\"style\"),a=o.innerHTML===l.innerHTML;if(!s||!a)break;removeChild(o);i.disposeCell(o)}}};GridPanel.prototype._getViewRange=function(){var e=this._g,t=e._ptScrl,i=e._szClientSB,o=this._rows,n=this._cols,r=new CellRange(0,0,o.length-1,n.length-1);if(this._ct==CellType.Cell||this._ct==CellType.RowHeader){var l=-t.y+this._offsetY,s=i.height;if((d=Math.min(o.frozen,o.length-1))>0){l+=f=o[d-1].pos;s-=f}if(d>0&&o[d].pos>i.height)r.row=r.row2=-1;else{r.row=Math.min(o.length-1,Math.max(d,o.getItemAt(l)));r.row2=Math.max(r.row,o.getItemAt(l+s))}var a=e.hostElement;if(e._clipToScreen&&a){var c=a.getBoundingClientRect(),u=-c.top-e.cells._e.offsetTop;c.top<0&&(r.row=Math.max(r.row,o.getItemAt(u)-1));c.bottom>innerHeight&&(r.row2=Math.min(r.row2,o.getItemAt(u+innerHeight)+1))}}if(this._ct==CellType.Cell||this._ct==CellType.ColumnHeader){var d,h=-t.x,p=i.width;if((d=Math.min(n.frozen,n.length-1))>0){var f;h+=f=n[d-1].pos;p-=f}if(d>0&&n[d].pos>i.width)r.col=r.col2=-1;else{r.col=Math.min(n.length-1,Math.max(d,n.getItemAt(h)));r.col2=Math.max(r.col,n.getItemAt(h+p))}}o.length<=o.frozen&&(r.row=r.row2=-1);n.length<=n.frozen&&(r.col=r.col2=-1);return r};GridPanel.prototype._getFrozenPos=function(){var e=this._rows.frozen,t=this._cols.frozen,i=e>0?this._rows[e-1]:null,o=t>0?this._cols[t-1]:null,n=i?i.pos+i.renderSize:0,r=o?o.pos+o.renderSize:0;return new Point(r,n)};GridPanel._INDEX_KEY=\"wj-cell-index\";GridPanel._HTML_CELL='<div class=\"wj-cell\" tabindex=\"-1\"></div>';return GridPanel}();export{GridPanel};var CellRangeEventArgs=function(e){__extends(CellRangeEventArgs,e);function CellRangeEventArgs(t,i,o){var n=e.call(this)||this;n._p=asType(t,GridPanel,!0);n._rng=asType(i,CellRange,!0);n._data=o;return n}Object.defineProperty(CellRangeEventArgs.prototype,\"panel\",{get:function(){return this._p},enumerable:!0,configurable:!0});Object.defineProperty(CellRangeEventArgs.prototype,\"range\",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0});Object.defineProperty(CellRangeEventArgs.prototype,\"row\",{get:function(){return this._rng.row},enumerable:!0,configurable:!0});Object.defineProperty(CellRangeEventArgs.prototype,\"col\",{get:function(){return this._rng.col},enumerable:!0,configurable:!0});Object.defineProperty(CellRangeEventArgs.prototype,\"data\",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0});CellRangeEventArgs.prototype.getRow=function(){return this._p&&this.row>-1?this._p.rows[this.row]:null};CellRangeEventArgs.prototype.getColumn=function(e){var t=this._p,i=t&&this.col>-1?t.columns[this.col]:null;if(i&&e){var o=t.grid;i=t.cellType===CellType.ColumnHeader&&o._hasColumnGroups()?o._getColumnGroup(this.row,this.col):t.grid._getBindingColumn(t,this.row,i)}return i};return CellRangeEventArgs}(CancelEventArgs);export{CellRangeEventArgs};var FormatItemEventArgs=function(e){__extends(FormatItemEventArgs,e);function FormatItemEventArgs(t,i,o,n){void 0===n&&(n=!0);var r=e.call(this,t,i)||this;r._updateContent=!0;r._cell=asType(o,HTMLElement);return r}Object.defineProperty(FormatItemEventArgs.prototype,\"cell\",{get:function(){return this._cell},enumerable:!0,configurable:!0});Object.defineProperty(FormatItemEventArgs.prototype,\"updateContent\",{get:function(){return this._updateContent},enumerable:!0,configurable:!0});return FormatItemEventArgs}(CellRangeEventArgs);export{FormatItemEventArgs};var CellEditEndingEventArgs=function(e){__extends(CellEditEndingEventArgs,e);function CellEditEndingEventArgs(){var t=null!==e&&e.apply(this,arguments)||this;t._stayInEditMode=!1;t._refresh=!0;return t}Object.defineProperty(CellEditEndingEventArgs.prototype,\"stayInEditMode\",{get:function(){return this._stayInEditMode},set:function(e){this._stayInEditMode=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(CellEditEndingEventArgs.prototype,\"refresh\",{get:function(){return this._refresh},set:function(e){this._refresh=asBoolean(e)},enumerable:!0,configurable:!0});return CellEditEndingEventArgs}(CellRangeEventArgs);export{CellEditEndingEventArgs};export var SelectionMode;!function(e){e[e.None=0]=\"None\";e[e.Cell=1]=\"Cell\";e[e.CellRange=2]=\"CellRange\";e[e.Row=3]=\"Row\";e[e.RowRange=4]=\"RowRange\";e[e.ListBox=5]=\"ListBox\";e[e.MultiRange=6]=\"MultiRange\"}(SelectionMode||(SelectionMode={}));export var SelectedState;!function(e){e[e.None=0]=\"None\";e[e.Selected=1]=\"Selected\";e[e.Cursor=2]=\"Cursor\";e[e.Active=3]=\"Active\"}(SelectedState||(SelectedState={}));export var SelMove;!function(e){e[e.None=0]=\"None\";e[e.Next=1]=\"Next\";e[e.Prev=2]=\"Prev\";e[e.NextPage=3]=\"NextPage\";e[e.PrevPage=4]=\"PrevPage\";e[e.Home=5]=\"Home\";e[e.End=6]=\"End\";e[e.NextCell=7]=\"NextCell\";e[e.PrevCell=8]=\"PrevCell\";e[e.NextEditableCell=9]=\"NextEditableCell\";e[e.PrevEditableCell=10]=\"PrevEditableCell\"}(SelMove||(SelMove={}));var _SelectionHandler=function(){function _SelectionHandler(e){this._sel=new CellRange(0,0);this._xSel=new ObservableArray;this._mode=SelectionMode.CellRange;this._g=e;this._e=new CellRangeEventArgs(e.cells,new CellRange(0,0));this._xSel.collectionChanged.addHandler((function(){e.invalidate()}))}Object.defineProperty(_SelectionHandler.prototype,\"selectionMode\",{get:function(){return this._mode},set:function(e){e!=this._mode&&this._setSelectionMode(e)},enumerable:!0,configurable:!0});Object.defineProperty(_SelectionHandler.prototype,\"selection\",{get:function(){return this._sel},set:function(e){this.select(e)},enumerable:!0,configurable:!0});Object.defineProperty(_SelectionHandler.prototype,\"extendedSelection\",{get:function(){return this._xSel},enumerable:!0,configurable:!0});_SelectionHandler.prototype.select=function(e,t,i){void 0===t&&(t=!0);void 0===i&&(i=!1);var o=this._g,n=this._e.range,r=this._sel,l=n,s=!1,a=SelectionMode;if(isNumber(e)&&isString(t)){var c=o.columns.indexOf(t);if(c<0)throw\"Invalid column name or binding.\";n.setRange(e,c);t=!0}else if(isNumber(e)&&isNumber(t)){n.setRange(e,t);t=!0}else e instanceof CellRange?n.copy(e):assert(!1,\"CellRange expected\");switch(o.selectionMode){case a.Cell:l.row2=l.row;l.col2=l.col;break;case a.Row:l.row2=l.row;break;case a.ListBox:s=!0}var u=l.equals(r);if(u&&s)for(var d=0;d<o.rows.length;d++)if(o.rows[d].isSelected!==l.containsRow(d)){u=!1;break}if(u){t&&o.isRangeValid(l)&&this._showSelection();return!0}var h=Control.getControl(closest(getActiveElement(),\".wj-flexgrid\"));if(h&&h.activeEditor&&!h.finishEditing())return!1;var p=this._e;p._rng=l;p.cancel=!1;if(!o.onSelectionChanging(p)&&!i)return!1;s&&o.rows.forEach((function(e,t){e._setFlag(RowColFlags.Selected,l.containsRow(t),!0)}));l.row=Math.min(l.row,o.rows.length-1);l.row2=Math.min(l.row2,o.rows.length-1);this._sel.copy(l);o.refreshCells(!1,!0,!0);t&&this._showSelection();var f=o.collectionView;if(f){var g=o._getCvIndex(l.row);f.moveCurrentToPosition(g)}o.onSelectionChanged(p);return!0};_SelectionHandler.prototype.moveSelection=function(e,t,i){var o=this._g,n=this._sel,r=i&&o.anchorCursor?new CellRange(n.row2,n.col2):new CellRange(n.row,n.col);this._adjustReferenceCell(r,e,t);var l=r.row,s=r.col,a=o.columns,c=Math.max(0,o._szClient.height-o.columnHeaders.height),u=SelMove;switch(t){case u.NextCell:case u.NextEditableCell:if((s=this._getNextColumnCell(l,s,t))==r.col&&(l=this._getNextRowCell(l,s,t))>r.row){s=this._getNextColumnCell(l,0,t);s=this._getNextColumnCell(l,s,t==u.NextCell?u.PrevCell:u.PrevEditableCell)}o.select(l,s);break;case u.PrevCell:case u.PrevEditableCell:if((s=this._getNextColumnCell(l,r.col,t))==r.col&&(l=this._getNextRowCell(l,s,t))<r.row){s=this._getNextColumnCell(l,a.length-1,t);s=this._getNextColumnCell(l,s,t==u.PrevCell?u.NextCell:u.NextEditableCell)}o.select(l,s);break;default:if(!this.moveHeaderCells(e,t,l,s)){l=this._getNextRowCell(l,s,e,c);s=this._getNextColumnCell(l,s,t,c);i?o.selection=o.anchorCursor?new CellRange(n.row,n.col,l,s):new CellRange(l,s,n.row2,n.col2):o.select(l,s);break}}};_SelectionHandler.prototype.moveHeaderCells=function(e,t,i,o){var n=this._g,r=[HeadersFocusability.Column,HeadersFocusability.All].includes(n.headersFocusability),l=[HeadersFocusability.Row,HeadersFocusability.All].includes(n.headersFocusability),s=n.activePanelType===CellType.ColumnHeader,a=n.activePanelType===CellType.RowHeader,c=n.activePanelType===CellType.TopLeft,u=n.activePanelType===CellType.Cell,d=2===e?\"up\":1===e?\"down\":2===t?\"left\":1===t?\"right\":void 0,h=Array.from(n.activePanel.hostElement.getElementsByClassName(\"wj-focus-header-cell\"))[0];if(u&&r&&0===i&&\"up\"===d){n.activePanelType=CellType.ColumnHeader;var p=Array.from(n.activePanel.hostElement.getElementsByClassName(\"wj-row\")),f=Array.from(n._gpCells.hostElement.getElementsByClassName(\"wj-row\"))[0],g=p[p.length-1];(Array.from(f.getElementsByClassName(\"wj-cell\")).find((function(e){return e[\"wj-cell-index\"].col===o}))||Array.from(f.getElementsByClassName(\"wj-cell\"))[0]).setAttribute(\"tabindex\",\"-1\");(m=Array.from(g.getElementsByClassName(\"wj-cell\")).find((function(e){return e[\"wj-cell-index\"].col===o}))).classList.add(\"wj-focus-header-cell\");m.setAttribute(\"tabindex\",\"0\");n._hideMarquee();m.focus();return!0}if(u&&l&&0===o&&\"left\"===d){n.activePanelType=CellType.RowHeader;var _=(p=Array.from(n.activePanel.hostElement.getElementsByClassName(\"wj-row\"))).find((function(e){return Array.from(e.getElementsByClassName(\"wj-cell\")).some((function(e){return e[\"wj-cell-index\"].row===i}))}));if(!_)return!0;var m,C=Array.from(_.getElementsByClassName(\"wj-cell\"));(m=C[C.length-1]).classList.add(\"wj-focus-header-cell\");m.setAttribute(\"tabindex\",\"0\");n._hideMarquee();m.focus();return!0}if(s&&h){var w=h.nextElementSibling,v=h.previousElementSibling;if(h&&\"right\"===d&&w){h.classList.remove(\"wj-focus-header-cell\");h.setAttribute(\"tabindex\",\"-1\");n.scrollIntoView(0,h[\"wj-cell-index\"].col+1);setTimeout((function(){w.classList.add(\"wj-focus-header-cell\");w.setAttribute(\"tabindex\",\"0\");n._hideMarquee();w.focus()}),10)}else if(h&&\"left\"===d){h.classList.remove(\"wj-focus-header-cell\");h.setAttribute(\"tabindex\",\"-1\");if(v){n.scrollIntoView(0,h[\"wj-cell-index\"].col-1);setTimeout((function(){v.classList.add(\"wj-focus-header-cell\");v.setAttribute(\"tabindex\",\"0\");n._hideMarquee();v.focus()}),10)}else{n.activePanelType=CellType.TopLeft;var y=Array.from(n.activePanel.hostElement.getElementsByClassName(\"wj-cell\"))[0];y&&setTimeout((function(){y.classList.add(\"wj-focus-header-cell\");y.setAttribute(\"tabindex\",\"0\");n._hideMarquee();y.focus()}),10)}}else if(h&&\"down\"===d){var b=Array.from(h.parentElement.children).indexOf(h);n.activePanelType=CellType.Cell;n.focus();n.select(0,b);n._updateMarquee()}return!0}if(a&&h){b=Array.from(h.parentElement.children).indexOf(h);var R=h[\"wj-cell-index\"].row,E=h.parentElement.nextElementSibling&&Array.from(h.parentElement.nextElementSibling.children)[b],x=h.parentElement.previousElementSibling&&Array.from(h.parentElement.previousElementSibling.children)[b];if(\"up\"===d){h.classList.remove(\"wj-focus-header-cell\");h.setAttribute(\"tabindex\",\"-1\");if(x){n.scrollIntoView(R-1,0);setTimeout((function(){x.classList.add(\"wj-focus-header-cell\");x.setAttribute(\"tabindex\",\"0\");x.focus()}),10)}else{n.activePanelType=CellType.TopLeft;var S=Array.from(n.activePanel.hostElement.getElementsByClassName(\"wj-cell\"))[0];S&&setTimeout((function(){S.classList.add(\"wj-focus-header-cell\");S.setAttribute(\"tabindex\",\"0\");n._hideMarquee();S.focus()}),10)}}else if(\"down\"===d&&E){h.classList.remove(\"wj-focus-header-cell\");h.setAttribute(\"tabindex\",\"-1\");n.scrollIntoView(R+1,0);setTimeout((function(){E.classList.add(\"wj-focus-header-cell\");E.setAttribute(\"tabindex\",\"0\");E.focus()}),10)}else if(h&&\"right\"===d){n.activePanelType=CellType.Cell;h.classList.remove(\"wj-focus-header-cell\");h.setAttribute(\"tabindex\",\"-1\");n.focus();n.select(R,0)}return!0}if(c&&h){if(\"down\"===d&&l){n.activePanelType=CellType.RowHeader;h.classList.remove(\"wj-focus-header-cell\");h.setAttribute(\"tabindex\",\"-1\");var H=Array.from(n.activePanel.hostElement.getElementsByClassName(\"wj-cell\"))[0];H&&setTimeout((function(){H.classList.add(\"wj-focus-header-cell\");H.setAttribute(\"tabindex\",\"0\");H.focus()}),10)}if(\"right\"===d&&r){n.activePanelType=CellType.ColumnHeader;h.classList.remove(\"wj-focus-header-cell\");h.setAttribute(\"tabindex\",\"-1\");var M=Array.from(n.activePanel.hostElement.getElementsByClassName(\"wj-cell\"))[0];M&&setTimeout((function(){M.classList.add(\"wj-focus-header-cell\");M.setAttribute(\"tabindex\",\"0\");M.focus()}),10)}return!0}return!1};_SelectionHandler.prototype._getNextColumnCell=function(e,t,i,o){void 0===o&&(o=0);return this._g.columns.getNextCell(t,i,o)};_SelectionHandler.prototype._getNextRowCell=function(e,t,i,o){void 0===o&&(o=0);return this._g.rows.getNextCell(e,i,o)};_SelectionHandler.prototype._setSelectionMode=function(e){var t=this._g,i=t.rows;this._mode=e;this._xSel.clear();if(i.length){this._adjustSelection(this._sel,e,!0);t.invalidate()}};_SelectionHandler.prototype._adjustSelection=function(e,t,i){void 0===i&&(i=!1);var o=this._g.rows,n=SelectionMode,r=this._g.hostElement.querySelector(\"input.wj-column-selector\")instanceof HTMLInputElement;if(!r)for(var l=0;l<o.length;l++)o[l]._setFlag(RowColFlags.Selected,!1,!0);var s=e.clone();switch(t){case n.None:s=new CellRange;break;case n.Cell:s=new CellRange(e.row,e.col);break;case n.ListBox:if(r)return;for(l=0;l<o.length;l++)o[l]._setFlag(RowColFlags.Selected,s.containsRow(l),!0)}this.select(s,!1,i)};_SelectionHandler.prototype._expandSelection=function(){var e=this._g,t=e.selectionMode;if(e.expandSelectionOnCopyPaste&&t){var i=this.selection,o=SelectionMode;switch(t){case o.Cell:case o.Row:break;case o.ListBox:this._expandSelectedRows();break;case o.RowRange:i=new CellRange(i.topRow,0,i.bottomRow,e.columns.length-1);default:var n=this._expandSelectionRange(i);n&&this.select(n,!1)}}};_SelectionHandler.prototype._deselectRange=function(e){var t=this.selection,i=this.extendedSelection;if(t.contains(e)){var o=i.length;this._sel=o?i[o-1]:new CellRange;o&&i.removeAt(o-1);return!0}for(var n=0;n<i.length;n++)if(i[n].contains(e)){i.removeAt(n);return!0}return!1};_SelectionHandler.prototype._expandSelectedRows=function(){assert(this.selectionMode==SelectionMode.ListBox,\"ListBox mode expected\");for(var e=this._g,t=e.selectedRows.map((function(e){return e.index})),i=[],o=0;o<t.length;o++)for(var n=new CellRange(t[o],0,t[o],e.columns.length-1),r=this._expandSelectionRange(n)||n,l=r.topRow;l<=r.bottomRow;l++)-1===i.indexOf(l)&&i.push(l);i.sort();this._selectRows(i)};_SelectionHandler.prototype._expandSelectionRange=function(e){var t=this._g,i=t.cells,o=t.getMergedRange(i,e.topRow,e.leftCol,!1),n=t.getMergedRange(i,e.bottomRow,e.leftCol,!1),r=t.getMergedRange(i,e.topRow,e.rightCol,!1),l=t.getMergedRange(i,e.bottomRow,e.rightCol,!1);if(o||n||r||l){o=o||new CellRange(e.topRow,e.leftCol);n=n||new CellRange(e.bottomRow,e.leftCol);r=r||new CellRange(e.topRow,e.rightCol);l=l||new CellRange(e.bottomRow,e.rightCol);return new CellRange(Math.min(o.topRow,n.topRow,r.topRow,l.topRow),Math.min(o.leftCol,n.leftCol,r.leftCol,l.leftCol),Math.max(o.bottomRow,n.bottomRow,r.bottomRow,l.bottomRow),Math.max(o.rightCol,n.rightCol,r.rightCol,l.rightCol))}return null};_SelectionHandler.prototype._selectRows=function(e){assert(this.selectionMode==SelectionMode.ListBox,\"ListBox mode expected\");for(var t=this._g,i=0,o=!0;i<t.rows.length;i++){var n=t.rows[i],r=e&&e.indexOf(n.index)>-1;if(r&&o){o=!1;this.select(i,this.selection.col)}n.isSelected=r}};_SelectionHandler.prototype._showSelection=function(){var e=this._g,t=this._sel;e.anchorCursor?e.scrollIntoView(t.row2,t.col2):e.scrollIntoView(t.row,t.col)};_SelectionHandler.prototype._adjustReferenceCell=function(e,t,i){var o=this._g,n=o.getMergedRange(o.cells,e.row,e.col);if(n&&!n.isSingleCell){var r=SelMove;switch(t){case r.Next:case r.NextCell:case r.NextEditableCell:e.row=n.bottomRow;break;case r.Prev:case r.PrevCell:case r.PrevEditableCell:e.row=n.topRow}switch(i){case r.Next:case r.NextCell:case r.NextEditableCell:e.col=n.rightCol;break;case r.Prev:case r.PrevCell:case r.PrevEditableCell:e.col=n.leftCol}}};return _SelectionHandler}();export{_SelectionHandler};export var RowColFlags;!function(e){e[e.Visible=1]=\"Visible\";e[e.AllowResizing=2]=\"AllowResizing\";e[e.AllowDragging=4]=\"AllowDragging\";e[e.AllowMerging=8]=\"AllowMerging\";e[e.AllowSorting=16]=\"AllowSorting\";e[e.AutoGenerated=32]=\"AutoGenerated\";e[e.Collapsed=64]=\"Collapsed\";e[e.ParentCollapsed=128]=\"ParentCollapsed\";e[e.Selected=256]=\"Selected\";e[e.ReadOnly=512]=\"ReadOnly\";e[e.HtmlContent=1024]=\"HtmlContent\";e[e.WordWrap=2048]=\"WordWrap\";e[e.MultiLine=4096]=\"MultiLine\";e[e.HasTemplate=8192]=\"HasTemplate\";e[e.RowDefault=3]=\"RowDefault\";e[e.ColumnDefault=23]=\"ColumnDefault\"}(RowColFlags||(RowColFlags={}));var RowCol=function(){function RowCol(){this._type=null;this._align=null;this._inpType=null;this._mask=null;this._maxLen=null;this._required=null;this._fmt=null;this._map=null;this._ddCssClass=null;this._cssClass=null;this._cssClassAll=null;this._szMin=null;this._szMax=null;this._sz=null;this._pos=0;this._idx=-1;this._idxVis=-1;this._idxData=-1;this.gridChanged=new Event}Object.defineProperty(RowCol.prototype,\"binding\",{get:function(){return this._binding?this._binding.path:null},set:function(e){if(e!=this.binding){var t=asString(e);this._binding=t?new Binding(t):null;if(!this._type&&this.grid&&this._binding){var i=this.grid.collectionView;if(i&&i.sourceCollection&&i.sourceCollection.length){var o=i.sourceCollection[0];this._type=getType(this._binding.getValue(o))}}this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"sortMemberPath\",{get:function(){return this._bindingSort?this._bindingSort.path:null},set:function(e){if(e!=this.sortMemberPath){var t=asString(e);this._bindingSort=t?new Binding(t):null;this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"dataType\",{get:function(){return this._type},set:function(e){e=asEnum(e,DataType,!0);if(this._type!=e){this._type=e;this.grid&&this.grid.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"inputType\",{get:function(){return this._inpType},set:function(e){this._inpType=asString(e,!0)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"mask\",{get:function(){return this._mask},set:function(e){this._mask=asString(e,!0)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"maxLength\",{get:function(){return this._maxLen},set:function(e){this._maxLen=asNumber(e,!0,!0)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"align\",{get:function(){return this._align},set:function(e){if(this._align!=e){this._align=e;this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"format\",{get:function(){return this._fmt},set:function(e){if(this._fmt!=e){this._fmt=e;this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"dataMap\",{get:function(){return this._map},set:function(e){if(this._map!=e){this._map&&this._map.mapChanged.removeHandler(this.onPropertyChanged,this);isArray(e)&&(e=new DataMap(e,null,null));this._map=asType(e,DataMap,!0);this._map&&this._map.mapChanged.addHandler(this.onPropertyChanged,this);this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"dataMapEditor\",{get:function(){return null!=this._mapEditor?this._mapEditor:DataMapEditor.DropDownList},set:function(e){if(e!=this._mapEditor){this._mapEditor=asEnum(e,DataMapEditor);this.grid&&this.grid.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"showDropDown\",{get:function(){return this.dataMapEditor==DataMapEditor.DropDownList},set:function(e){_deprecated(\"showDropDown\",\"dataMapEditor\");this.dataMapEditor=e?DataMapEditor.DropDownList:DataMapEditor.AutoComplete},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"dropDownCssClass\",{get:function(){return this._ddCssClass},set:function(e){this._ddCssClass=asString(e)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"visible\",{get:function(){return this._getFlag(RowColFlags.Visible)},set:function(e){this._setFlag(RowColFlags.Visible,e)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"isVisible\",{get:function(){return!!this._getFlag(RowColFlags.Visible)&&(!this._getFlag(RowColFlags.ParentCollapsed)||this instanceof _NewRowTemplate)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"pos\",{get:function(){this._list&&this._list._dirty&&this._list._update();return this._pos},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"index\",{get:function(){this._list&&this._list._dirty&&this._list._update();return this._idx},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"visibleIndex\",{get:function(){this._list&&this._list._dirty&&this._list._update();return this.isVisible?this._idxVis:-1},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"size\",{get:function(){return this._sz},set:function(e){if(e!=this._sz){this._sz=asNumber(e,!0);this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"renderSize\",{get:function(){var e=0,t=this._list;if(this.isVisible){(null==(e=this._sz)||e<0)&&(e=t?t.defaultSize:0);t&&null!=t.minSize&&e<t.minSize&&(e=t.minSize);t&&null!=t.maxSize&&e>t.maxSize&&(e=t.maxSize);null!=this._szMin&&e<this._szMin&&(e=this._szMin);null!=this._szMax&&e>this._szMax&&(e=this._szMax)}return e},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"allowResizing\",{get:function(){return this._getFlag(RowColFlags.AllowResizing)},set:function(e){this._setFlag(RowColFlags.AllowResizing,e)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"allowDragging\",{get:function(){return this._getFlag(RowColFlags.AllowDragging)},set:function(e){this._setFlag(RowColFlags.AllowDragging,e)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"allowMerging\",{get:function(){return this._getFlag(RowColFlags.AllowMerging)},set:function(e){this._setFlag(RowColFlags.AllowMerging,e)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"isSelected\",{get:function(){return this._getFlag(RowColFlags.Selected)},set:function(e){if(!!e!=this.isSelected){var t=this.grid;if(t){var i=new CellRangeEventArgs(t?t.cells:null,t.selection);if(t.onSelectionChanging(i)&&this._setFlag(RowColFlags.Selected,e,!0)){t.refreshCells(!1,!0,!0);t.onSelectionChanged(i)}}else this._setFlag(RowColFlags.Selected,e)}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"isReadOnly\",{get:function(){return this._getFlag(RowColFlags.ReadOnly)},set:function(e){this._setFlag(RowColFlags.ReadOnly,e)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"isRequired\",{get:function(){return this._required},set:function(e){this._required=asBoolean(e,!0)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"isContentHtml\",{get:function(){return this._getFlag(RowColFlags.HtmlContent)},set:function(e){if(this.isContentHtml!=e){this._setFlag(RowColFlags.HtmlContent,e);this.grid&&this.grid.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"wordWrap\",{get:function(){return this._getFlag(RowColFlags.WordWrap)},set:function(e){this._setFlag(RowColFlags.WordWrap,e)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"multiLine\",{get:function(){return this._getFlag(RowColFlags.MultiLine)},set:function(e){this._setFlag(RowColFlags.MultiLine,e)},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"cssClass\",{get:function(){return this._cssClass},set:function(e){if(e!=this._cssClass){this._cssClass=asString(e);this.grid&&this.grid.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"cssClassAll\",{get:function(){return this._cssClassAll},set:function(e){if(e!=this._cssClassAll){this._cssClassAll=asString(e);this.grid&&this.grid.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"grid\",{get:function(){return this._list?this._list._g:null},enumerable:!0,configurable:!0});Object.defineProperty(RowCol.prototype,\"collectionView\",{get:function(){return this.grid?this.grid.collectionView:null},enumerable:!0,configurable:!0});RowCol.prototype.onPropertyChanged=function(){if(this._list){this._list._dirty=!0;this.grid.invalidate()}};RowCol.prototype.onGridChanged=function(e){this.gridChanged.raise(this,e)};RowCol.prototype._setList=function(e){if(e!=this._list){this._list=e;this.onGridChanged()}};RowCol.prototype._getFlag=function(e){return 0!=(this._f&e)};RowCol.prototype._setFlag=function(e,t,i){if(!!t!=this._getFlag(e)){this._f=t?this._f|e:this._f&~e;i||this.onPropertyChanged();return!0}return!1};return RowCol}();export{RowCol};var Column=function(e){__extends(Column,e);function Column(t){var i=e.call(this)||this;i._hdr=null;i._name=null;i._agg=null;i._quickSize=null;i._descById=null;i._tpl=null;i._f=RowColFlags.ColumnDefault;i._hash=Column._ctr.toString(36);Column._ctr++;copy(i,t);return i}Object.defineProperty(Column.prototype,\"name\",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"width\",{get:function(){return null!=this._szStar?this._szStar:this.size},set:function(e){if(null!=Column._parseStarSize(e)){this._szStar=e;this.onPropertyChanged()}else{this._szStar=null;this.size=asNumber(e,!0)}},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"minWidth\",{get:function(){return this._szMin},set:function(e){if(e!=this._szMin){this._szMin=asNumber(e,!0,!0);this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"maxWidth\",{get:function(){return this._szMax},set:function(e){if(e!=this._szMax){this._szMax=asNumber(e,!0,!0);this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"quickAutoSize\",{get:function(){return this._quickSize},set:function(e){this._quickSize=asBoolean(e,!0)},enumerable:!0,configurable:!0});Column.prototype._getQuickAutoSize=function(){return!!this.grid._getQuickAutoSize()&&(isBoolean(this._quickSize)?this._quickSize:!(this.isContentHtml||this.wordWrap||this.multiLine||this._getFlag(RowColFlags.HasTemplate)))};Object.defineProperty(Column.prototype,\"renderWidth\",{get:function(){return this.renderSize},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"header\",{get:function(){return this._hdr?this._hdr:this.binding},set:function(e){if(this._hdr!=e){this._hdr=e;this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"cellTemplate\",{get:function(){return this._tpl},set:function(e){if(e!=this._tpl){assert(null==e||isString(e)||isFunction(e),\"cellTemplate should be a string or an ICellTemplateFunction.\");this._tpl=e;this._setFlag(RowColFlags.HasTemplate,null!=e&&\"\"!=e);this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"editor\",{get:function(){var e=this._edt;return e?e.control:null},set:function(e){if(e!=this.editor){if(this._edt){this._edt.dispose();this._edt=null}if(null!=e){e=asType(e,Control);this._edt=new _CustomEditor(this,e)}}},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"allowSorting\",{get:function(){return this._getFlag(RowColFlags.AllowSorting)},set:function(e){this._setFlag(RowColFlags.AllowSorting,e)},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"currentSort\",{get:function(){var e=this.currentSortIndex;if(e>-1){return this.grid.collectionView.sortDescriptions[e].ascending?\"+\":\"-\"}return null},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"currentSortIndex\",{get:function(){var e=this.grid?this.grid.collectionView:null,t=e?e.sortDescriptions:null,i=t&&t.length?this._getBindingSort():null;if(i)for(var o=0;o<t.length;o++)if(t[o].property==i)return o;return-1},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"aggregate\",{get:function(){return null!=this._agg?this._agg:Aggregate.None},set:function(e){if((e=asEnum(e,Aggregate))!=this._agg){this._agg=e;this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(Column.prototype,\"describedById\",{get:function(){return this._descById},set:function(e){if(e!=this._descById){this._descById=asString(e);this.grid&&this.grid.invalidate()}},enumerable:!0,configurable:!0});Column.prototype.getIsRequired=function(e){return null!=this._required?this._required:e&&null!=e.isRequired?e.isRequired:this.dataType==DataType.String?null!=this.dataMap||null!=this._mask&&this._mask.length>0:!e||e.dataType!=DataType.String||(null!=e.dataMap||null!=e.mask&&e.mask.length>0)};Column.prototype.getAlignment=function(e){if(null!=this._align)return this._align;if(e&&null!=e.align)return e.align;if(!this._map)switch(this.dataType){case DataType.Boolean:return\"center\";case DataType.Number:return\"right\"}if(e&&!e.dataMap)switch(e.dataType){case DataType.Boolean:return\"center\";case DataType.Number:return\"right\"}return\"\"};Column.prototype._getBindingSort=function(){return this.sortMemberPath?this.sortMemberPath:this.binding?this.binding:null};Column._parseStarSize=function(e){if(isString(e)){var t=e.length;if(t>0&&\"*\"==e[t-1]){var i=1==t?1:parseFloat(e);if(i>0&&!isNaN(i))return i}}return null};Column._ctr=0;return Column}(RowCol);export{Column};var Row=function(e){__extends(Row,e);function Row(t){var i=e.call(this)||this;i.resizedManually=!1;i._f=RowColFlags.ColumnDefault;i._data=t||null;return i}Object.defineProperty(Row.prototype,\"dataItem\",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0});Object.defineProperty(Row.prototype,\"dataIndex\",{get:function(){this._list&&this._list._dirty&&this._list._update();return this._idxData},enumerable:!0,configurable:!0});Object.defineProperty(Row.prototype,\"height\",{get:function(){return this.size},set:function(e){this.size=e},enumerable:!0,configurable:!0});Object.defineProperty(Row.prototype,\"renderHeight\",{get:function(){return this.renderSize},enumerable:!0,configurable:!0});return Row}(RowCol);export{Row};var GroupRow=function(e){__extends(GroupRow,e);function GroupRow(t){var i=e.call(this,t)||this;i._level=-1;i.level=t instanceof CollectionViewGroup?t.level:-1;i.isReadOnly=!0;return i}Object.defineProperty(GroupRow.prototype,\"level\",{get:function(){return this._level},set:function(e){asInt(e);if(e!=this._level){this._level=e;this.onPropertyChanged()}},enumerable:!0,configurable:!0});Object.defineProperty(GroupRow.prototype,\"hasChildren\",{get:function(){if(null!=this.grid&&null!=this._list){this._list._update();var e=this.index<this._list.length-1?this._list[this.index+1]:null,t=tryCast(e,GroupRow),i=tryCast(e,_NewRowTemplate);return null!=e&&null==i&&(null==t||t.level>this.level)}return!0},enumerable:!0,configurable:!0});Object.defineProperty(GroupRow.prototype,\"isCollapsed\",{get:function(){return this._getFlag(RowColFlags.Collapsed)},set:function(e){!!e!=this.isCollapsed&&null!=this._list&&this._setCollapsed(asBoolean(e))},enumerable:!0,configurable:!0});GroupRow.prototype.getGroupHeader=function(){var e=this.grid,t=e.groupHeaderFormat||culture.FlexGrid.groupHeaderFormat,i=this.dataItem;if(i instanceof CollectionViewGroup&&t&&e.showGroups&&!e.childItemsPath){var o=i.groupDescription.propertyName,n=i.name,r=e.getColumn(o),l=this.isContentHtml;if(r){l=l||r.isContentHtml;r.header&&(o=r.header);var s=r.dataMap;s&&(n=s.getDisplayValue(n));r.dataType==getType(n)&&(n=Globalize.format(n,r.format))}else o=toHeaderCase(o);var a=i.getAggregate(Aggregate.CntAll,null,e.collectionView);return format(t,{name:escapeHtml(o),value:l?n:escapeHtml(n),level:i.level,count:a})}return\"\"};GroupRow.prototype._setCollapsed=function(e){var t=this,i=this.grid,o=i.rows,n=this.getCellRange(),r=new CellRangeEventArgs(i.cells,new CellRange(this.index,-1));if(i.onGroupCollapsedChanging(r)){i.deferUpdate((function(){o.deferUpdate((function(){t._setFlag(RowColFlags.Collapsed,e,!0);for(var i=n.topRow+1;i<=n.bottomRow&&i>-1&&i<o.length;i++){o[i]._setFlag(RowColFlags.ParentCollapsed,e,!0);var r=o[i];r instanceof GroupRow&&r.isCollapsed&&(i=r.getCellRange().bottomRow)}}))}));i.onGroupCollapsedChanged(r)}};GroupRow.prototype.getCellRange=function(){for(var e=this._list,t=this.index,i=e.length-1,o=t+1;o<=i;o++){var n=e[o];if(n instanceof GroupRow&&n.level<=this.level){i=o-1;break}}return new CellRange(t,0,i,this.grid.columns.length-1)};return GroupRow}(Row);export{GroupRow};var RowColCollection=function(e){__extends(RowColCollection,e);function RowColCollection(t,i){var o=e.call(this)||this;o._frozen=0;o._lastFrozen=-1;o._firstVisible=-1;o._vlen=0;o._szDef=28;o._szTot=0;o._szCustom=!1;o._dirty=!1;o._g=asType(t,FlexGrid);o._szDef=asNumber(i,!1,!0);return o}Object.defineProperty(RowColCollection.prototype,\"grid\",{get:function(){return this._g},enumerable:!0,configurable:!0});Object.defineProperty(RowColCollection.prototype,\"defaultSize\",{get:function(){return this._szDef},set:function(e){this._szCustom=!0;if(this._szDef!=e){this._szDef=asNumber(e,!1,!0);this._dirty=!0;this._g.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(RowColCollection.prototype,\"frozen\",{get:function(){return this._frozen},set:function(e){if(e!=this._frozen){this._frozen=asNumber(e,!1,!0);this._dirty=!0;this._g.invalidate()}},enumerable:!0,configurable:!0});RowColCollection.prototype.isFrozen=function(e){return e<this.frozen};Object.defineProperty(RowColCollection.prototype,\"minSize\",{get:function(){return this._szMin},set:function(e){if(e!=this._szMin){this._szMin=asNumber(e,!0,!0);this._dirty=!0;this._g.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(RowColCollection.prototype,\"maxSize\",{get:function(){return this._szMax},set:function(e){if(e!=this._szMax){this._szMax=asNumber(e,!0,!0);this._dirty=!0;this._g.invalidate()}},enumerable:!0,configurable:!0});RowColCollection.prototype.getTotalSize=function(){this._dirty&&this._update();return this._szTot};Object.defineProperty(RowColCollection.prototype,\"visibleLength\",{get:function(){this._dirty&&this._update();return this._vlen},enumerable:!0,configurable:!0});RowColCollection.prototype.getItemAt=function(e){this._dirty&&this._update();if(e<=0&&this.length>0&&this[0].renderSize)return 0;for(var t,i,o=this.length,n=0,r=o-1;n<=r;)if((i=this[t=n+r>>>1])._pos>=e&&t>0)r=t-1;else{if(!(i._pos+i.renderSize<=e&&t<o-1)){for(;t>0&&!this[t].renderSize;)t--;for(;t<o-1&&!this[t].renderSize;)t++;return t}n=t+1}return r};RowColCollection.prototype.getNextCell=function(e,t,i){void 0===i&&(i=0);var o,n=SelMove;switch(t){case n.Next:case n.NextCell:for(o=e+1;o<this.length;o++)if(this[o].renderSize>0)return o;break;case n.NextEditableCell:for(o=e+1;o<this.length;o++)if(this[o].renderSize>0&&!this[o].isReadOnly)return o;break;case n.Prev:case n.PrevCell:for(o=e-1;o>=0;o--)if(this[o].renderSize>0)return o;break;case n.PrevEditableCell:for(o=e-1;o>=0;o--)if(this[o].renderSize>0&&!this[o].isReadOnly)return o;break;case n.End:for(o=this.length-1;o>=0;o--)if(this[o].renderSize>0)return o;break;case n.Home:for(o=0;o<this.length;o++)if(this[o].renderSize>0)return o;break;case n.NextPage:return(o=this.getItemAt(this[e].pos+this[e].renderSize+i))<0?this.getNextCell(e,SelMove.End,i):o==e&&o<this.length-1&&this[o+1].renderSize?o+1:o;case n.PrevPage:return(o=this.getItemAt(this[e].pos-i))<0?this.getNextCell(e,SelMove.Home,i):o==e&&o>0&&this[o-1].renderSize?o-1:o}return e};RowColCollection.prototype.canMoveElement=function(e,t,i){void 0===i&&(i=!0);if(t==e)return!1;if(e<0||e>=this.length||t>=this.length)return!1;if(i){t<0&&(t=this.length-1);for(var o=Math.min(e,t),n=Math.max(e,t),r=o;r<=n;r++)if(!this[r].allowDragging)return!1}return!(this[t]instanceof _NewRowTemplate)};RowColCollection.prototype.moveElement=function(e,t,i){void 0===i&&(i=!0);if(this.canMoveElement(e,t,i)){var o=this[e];this.removeAt(e);t<0&&(t=this.length);this.insert(t,o);if(i){var n=this.frozen;e<n&&t>=n?this.frozen--:e>=n&&t<n&&this.frozen++}return!0}return!1};RowColCollection.prototype.onCollectionChanged=function(t){void 0===t&&(t=NotifyCollectionChangedEventArgs.reset);this._dirty=!0;this._g.invalidate();e.prototype.onCollectionChanged.call(this,t)};RowColCollection.prototype.push=function(t){t._setList(this);return e.prototype.push.call(this,t)};RowColCollection.prototype.splice=function(t,i){for(var o=this,n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];for(var l=t;l<t+i&&l<this.length;l++){var s=this[l];s instanceof RowCol&&s._setList(null)}n.forEach((function(e){return e._setList(o)}));return e.prototype.splice.apply(this,[t,i].concat(n))};RowColCollection.prototype.beginUpdate=function(){this._update();e.prototype.beginUpdate.call(this)};RowColCollection.prototype._setDefaultSize=function(e){if(!this._szCustom){this.defaultSize=e;this._szCustom=!1}};RowColCollection.prototype._update=function(){if(this._dirty&&!this.isUpdating){this._dirty=!1;this._lastFrozen=-1;this._firstVisible=-1;for(var e=0,t=0,i=void 0,o=void 0,n=0;n<this.length;n++){(o=this[n])._idx=n;o._idxVis=e;o._pos=t;o._setList(this);if((i=o.renderSize)>0){t+=i;e++;n<this._frozen&&(this._lastFrozen=n)}this._firstVisible<0&&o.visible&&(this._firstVisible=n)}this._vlen=e;this._szTot=t;return!0}return!1};return RowColCollection}(ObservableArray);export{RowColCollection};var ColumnCollection=function(e){__extends(ColumnCollection,e);function ColumnCollection(){return null!==e&&e.apply(this,arguments)||this}ColumnCollection.prototype.getColumn=function(e){var t=isNumber(e)?e:this.indexOf(e);return t>-1?this[t]:null};ColumnCollection.prototype.indexOf=function(t){if(t instanceof Column)return e.prototype.indexOf.call(this,t);for(var i=0;i<this.length;i++)if(this[i].name==t)return i;for(i=0;i<this.length;i++)if(this[i].binding==t)return i;return-1};Object.defineProperty(ColumnCollection.prototype,\"describedById\",{get:function(){return this._descById},set:function(e){if(e!=this._descById){this._descById=asString(e);this._g&&this._g.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(ColumnCollection.prototype,\"firstVisibleIndex\",{get:function(){this._dirty&&this._update();return this._firstVisible},enumerable:!0,configurable:!0});ColumnCollection.prototype._updateStarSizes=function(e){var t,i=!1,o=0;e-=.5;for(var n=0;n<this.length;n++){if((l=this[n]).isVisible)if(l._szStar){o+=Column._parseStarSize(l._szStar);t=l}else e-=l.renderWidth}if(t){var r=e;for(n=0;n<this.length;n++){var l;if((l=this[n]).isVisible&&l._szStar){var s=l._sz;l==t&&r>0?s=r:r-=s=Math.max(0,Math.round(Column._parseStarSize(l._szStar)/o*e));if(s!=l._sz){l._sz=s;i=!0}}}if(i){this._dirty=!0;this._update()}return i}return!1};return ColumnCollection}(RowColCollection);export{ColumnCollection};var RowCollection=function(e){__extends(RowCollection,e);function RowCollection(){var t=null!==e&&e.apply(this,arguments)||this;t._maxLevel=-1;return t}Object.defineProperty(RowCollection.prototype,\"ariaLabel\",{get:function(){return this._ariaLabel},set:function(e){if(e!=this.ariaLabel){this._ariaLabel=asString(e);this._g&&this._g.refresh()}},enumerable:!0,configurable:!0});Object.defineProperty(RowCollection.prototype,\"maxGroupLevel\",{get:function(){this._dirty&&this._update();return this._maxLevel},enumerable:!0,configurable:!0});RowCollection.prototype._update=function(){var t=this;if(e.prototype._update.call(this)){var i=this.grid?this.grid.collectionView:null,o=i?i.items:null,n=0;this._maxLevel=-1;this.forEach((function(e){e instanceof GroupRow&&e.level>t._maxLevel&&(t._maxLevel=e.level);var i=e.dataItem;i&&o?i===o[n]?e._idxData=n:i===o[n+1]?e._idxData=++n:i!==o[e._idxData]&&(e._idxData=-1):e._idxData=-1}));return!0}return!1};return RowCollection}(RowColCollection);export{RowCollection};export var colHdrAriaAttributes=function(e,t,i,o){setAttribute(e,\"role\",\"columnheader\");if(t.describedById||i.columns.describedById){var n=[t.describedById,i.columns.describedById].join(\" \").trim();setAttribute(e,\"aria-describedby\",n||null)}if(o.allowSorting){var r=\"none\";switch(o._getBindingColumn(i,0,t).currentSort){case\"+\":r=\"ascending\";break;case\"-\":r=\"descending\"}setAttribute(e,\"aria-sort\",r)}if(!o.isReadOnly){setAttribute(e,\"aria-readonly\",t.isReadOnly);setAttribute(e,\"aria-required\",t.isReadOnly?null:t.getIsRequired())}var l=e.closest(\".wj-row\");setAttribute(l,\"role\",\"row\")};var _ColumnGroupHandler=function(){function _ColumnGroupHandler(e){this._updatingCollection=0;this._initialized=!1;this._grid=e;this._initializeColumnGroups();this._initialized=!0}Object.defineProperty(_ColumnGroupHandler.prototype,\"columnGroups\",{get:function(){return this._colGroups},enumerable:!0,configurable:!0});_ColumnGroupHandler.prototype.createColumnGroups=function(e){this._initialized=!1;this._createColumnGroups(e);this._initialized=!0};_ColumnGroupHandler.prototype.hasColumnGroups=function(){return null!=this._colGroups&&this._colGroups.length>0};_ColumnGroupHandler.prototype.getGroupDefinitions=function(){return this._groupDefs};_ColumnGroupHandler.prototype.getColumnGroup=function(e,t){return this._getColumnGroup(e,t)};_ColumnGroupHandler.prototype.canMoveColumnGroup=function(e,t,i,o){if(e==i&&t==o)return!1;var n=this._grid,r=n.columnHeaders.rows,l=n.columns;if(e<0||e>=r.length||t<0||t>=l.length||i<0||i>=r.length||o<0||o>=l.length)return!1;var s=this._getColumnGroup(e,t),a=this._getColumnGroup(i,o);if(!s||!a||s==a)return!1;if(s.level<a.level&&s._containsGroup(a))return!1;var c=s.parentGroup,u=a.parentGroup;return!c||c===u||!c._isCollapseTo(s)};_ColumnGroupHandler.prototype.moveColumnGroup=function(e,t,i,o,n){if(this.canMoveColumnGroup(e,t,i,o)){var r=this._getColumnGroup(e,t),l=this._getColumnGroup(i,o);if(!r||!l||r==l)return!1;if(n&&!l.isEmpty)return!1;var s=this._getCollection(r),a=n?l.columns:this._getCollection(l);if(!s||!a)return!1;var c=n?0:a.indexOf(l);if(c<0)return!1;!n&&s!=a&&o>t&&c++;this._deferCollectionUpdate((function(){if(!s.remove(r))return!1;a.insert(c,r)}));return!0}return!1};_ColumnGroupHandler.prototype.handleCollectionChange=function(){if(this._initialized&&!this._updatingCollection){this._initialized=!1;this._buildColumnGroups();this._initialized=!0}};_ColumnGroupHandler.prototype.handlePropertyChange=function(e){if(e&&this._initialized){var t=this._grid,i=e._rng,o=e.header;if(o!=e._curr_header)for(var n=i.topRow;n<=i.bottomRow;n++)for(var r=i.leftCol;r<=i.rightCol;r++){t.columnHeaders.setCellData(n,r,o);e._curr_header=o}e.columns.length>0&&t.invalidate()}};_ColumnGroupHandler.prototype._initializeColumnGroups=function(){var e=this._grid,t=new ColumnGroupCollection;this._groupDefs=t;this._colGroups=t;this._colGroups._setOwner(e);this._colGroups._setChangeHandler(this)};_ColumnGroupHandler.prototype._createColumnGroups=function(e){this._grid;this._groupDefs=asArray(e);this._colGroups&&this._colGroups._setOwner(null);this._colGroups=ColumnGroupCollection._parse(e);this._buildColumnGroups()};_ColumnGroupHandler.prototype._buildColumnGroups=function(){var e=this,t=this._grid;this._colGroups._removeChangeHandler();this._assertColumnGroups(this._colGroups);t.autoGenerateColumns=!1;t.columns.clear();this._colGroups._setOwner(t);this._colGroups.forEach((function(e){e._beginBuild()}));var i=0;this._colGroups.forEach((function(t){e._addColumnGroup(t);i=Math.max(i,t._getMaxLevel())}));this._colGroups.forEach((function(e){e._expandRange(i)}));var o=t.columnHeaders.rows;o.clear();for(var n=0;n<=i;n++){var r=new Row;o.splice(n,0,r);n<i&&(r.cssClassAll=\"wj-colgroup\")}for(n=0;n<o.length;n++)for(var l=0;l<t.columns.length;l++){var s=this._getColumnGroup(n,l);if(s){var a=s.header||toHeaderCase(s.binding);t.columnHeaders.setCellData(n,l,a);s._curr_header=s.header}}this._colGroups._setChangeHandler(this);this._colGroups.forEach((function(e){e._checkIfCollapsed()}))};_ColumnGroupHandler.prototype._getColumnGroup=function(e,t){var i=this._grid;if(e<i.columnHeaders.rows.length&&t<i.columns.length)for(var o=this._colGroups;o;){for(var n=o,r=0;r<o.length;r++){var l=o[r],s=l._rng;if(s.containsColumn(t)){if(s.containsRow(e)||0==l.columns.length)return l;o=l.columns;break}}if(o==n)break}return null};_ColumnGroupHandler.prototype._getCollection=function(e){var t=e.parentGroup;return t?t.columns:this._colGroups};_ColumnGroupHandler.prototype._assertColumnGroups=function(e){var t=this;assert(e instanceof ColumnGroupCollection,\"column groups contain items of invalid collection type\");e.forEach((function(e){assert(e instanceof ColumnGroup,\"column groups contain items of invalid type\");t._assertColumnGroups(e.columns)}))};_ColumnGroupHandler.prototype._addColumnGroup=function(e){var t=this,i=this._grid;e._rng.col=i.columns.length;0==e.columns.length?i.columns.push(e):e.columns.forEach((function(e){t._addColumnGroup(e)}));e._rng.col2=i.columns.length-1};_ColumnGroupHandler.prototype._beginCollectionUpdate=function(){this._updatingCollection++};_ColumnGroupHandler.prototype._endCollectionUpdate=function(){this._updatingCollection--;this._updatingCollection<=0&&this.handleCollectionChange()};_ColumnGroupHandler.prototype._deferCollectionUpdate=function(e){try{this._beginCollectionUpdate();e()}finally{this._endCollectionUpdate()}};return _ColumnGroupHandler}();export{_ColumnGroupHandler};var ColumnGroup=function(e){__extends(ColumnGroup,e);function ColumnGroup(t,i){var o=e.call(this)||this;o._rng=new CellRange(0,-1);o._lvl=0;o._collapsed=!1;o._cols=new ColumnGroupCollection;copy(o,t);var n=i&&i.columns;n&&n.indexOf(o)<0&&n.push(o);return o}ColumnGroup.prototype._copy=function(e,t){if(\"columns\"==e){var i=asArray(t);this._cols=ColumnGroupCollection._parse(i);return!0}return!1};Object.defineProperty(ColumnGroup.prototype,\"columns\",{get:function(){return this._cols},enumerable:!0,configurable:!0});Object.defineProperty(ColumnGroup.prototype,\"columnGroups\",{get:function(){return this._cols},enumerable:!0,configurable:!0});Object.defineProperty(ColumnGroup.prototype,\"isEmpty\",{get:function(){return 0===this._cols.length},enumerable:!0,configurable:!0});Object.defineProperty(ColumnGroup.prototype,\"parentGroup\",{get:function(){var e=this._ownerList,t=e&&e.owner;return t instanceof ColumnGroup?t:null},enumerable:!0,configurable:!0});Object.defineProperty(ColumnGroup.prototype,\"level\",{get:function(){for(var e=this,t=0;e.parentGroup;){e=e.parentGroup;t++}return t},enumerable:!0,configurable:!0});Object.defineProperty(ColumnGroup.prototype,\"collapseTo\",{get:function(){return this._collTo},set:function(e){assert(isArray(e)||isString(e),\"collapseTo should be an array or a string.\");if(this._collTo!=e){this._collTo=e;this._updateCollapsedState()}},enumerable:!0,configurable:!0});Object.defineProperty(ColumnGroup.prototype,\"isCollapsed\",{get:function(){return this._collapsed},set:function(e){var t=this.grid,i=null;if(e!=this._collapsed)if(t){i=new CellRangeEventArgs(t.columnHeaders,this._rng,this);t.onColumnGroupCollapsedChanging(i)?this._collapsed=asBoolean(e):i=null}else this._collapsed=asBoolean(e);this._updateCollapsedState();t&&i&&t.onColumnGroupCollapsedChanged(i)},enumerable:!0,configurable:!0});Object.defineProperty(ColumnGroup.prototype,\"grid\",{get:function(){var e=this._ownerList,t=e&&e.owner;return t instanceof ColumnGroup?t.grid:t instanceof FlexGrid?t:null},enumerable:!0,configurable:!0});ColumnGroup.prototype._beginBuild=function(){this._lvl=0;for(var e=this.parentGroup;e;e=e.parentGroup)this._lvl++;this._rng=new CellRange(0,-1);this._rng.row=this._rng.row2=this._lvl;this._cols.forEach((function(e){e._beginBuild()}))};ColumnGroup.prototype._setChangeHandler=function(e){this._changeHdl=e;this._cols._setChangeHandler(e)};ColumnGroup.prototype._removeChangeHandler=function(){this._changeHdl=null;this._cols._removeChangeHandler()};ColumnGroup.prototype._setOwnerList=function(e){e!=this._ownerList&&(this._ownerList=e)};ColumnGroup.prototype._checkIfCollapsed=function(){var e=this.grid;(e?e.columns:null)&&(this._collapsed?this._updateCollapsedState():this._cols.forEach((function(e){e._checkIfCollapsed()})))};ColumnGroup.prototype._updateCollapsedState=function(){var e=this.grid,t=e?e.columns:null,i=this._rng,o=this._collapsed;if(t){this._cols.forEach((function(e){if(e instanceof ColumnGroup){e._collapsed=o;e._updateCollapsedState()}}));for(var n=this._getCollapseToIndices(),r=i.leftCol;r<=i.rightCol;r++){var l=!o||n.indexOf(r)>-1;t[r]._setFlag(RowColFlags.ParentCollapsed,!l)}}};ColumnGroup.prototype._getMaxLevel=function(){var e=this._lvl;this.columns.forEach((function(t){e=Math.max(e,t._getMaxLevel())}));return e};ColumnGroup.prototype._expandRange=function(e){var t=e-this._getMaxLevel();if(t>0){this._rng.row2+=t;this._cols.forEach((function(e){e._shiftRange(t)}))}for(var i=this.grid.columns,o=this._rng,n=o.col;n<=o.col2;n++){i[n]._rng.row2=e}};ColumnGroup.prototype._shiftRange=function(e){this._rng.row+=e;this._rng.row2+=e;this._cols.forEach((function(t){t._shiftRange(e)}))};ColumnGroup.prototype._containsGroup=function(e){for(var t=0;t<this._cols.length;t++){var i=this._cols[t];if(i==e||i._containsGroup(e))return!0}return!1};ColumnGroup.prototype._isCollapseTo=function(e){var t=this.grid,i=t?t.columns:null;if(!e||!i)return!1;var o=this._getCollapseToBindings();if(o&&o.length)for(var n=0;n<o.length;n++)switch(o[n]){case\"$first\":case\"$last\":continue;default:if(e===i.getColumn(o[n]))return!0}return!1};ColumnGroup.prototype._getCollapseToBindings=function(){var e=this.collapseTo;return isString(e)?[e]:e};ColumnGroup.prototype._getCollapseToIndices=function(){var e=this.grid,t=this._rng,i=this._getCollapseToBindings();if(i&&i.length){for(var o=[],n=e.columns,r=0;r<i.length;r++)switch(i[r]){case\"$first\":o.push(t.leftCol);break;case\"$last\":o.push(t.rightCol);break;default:var l=n.getColumn(i[r]),s=n.indexOf(l);l&&t.containsColumn(s)&&o.push(s)}if(o.length)return o}return[t.rightCol]};ColumnGroup.prototype.onPropertyChanged=function(){var t=this._changeHdl;t&&t.handlePropertyChange(this);e.prototype.onPropertyChanged.call(this)};return ColumnGroup}(Column);export{ColumnGroup};var ColumnGroupCollection=function(e){__extends(ColumnGroupCollection,e);function ColumnGroupCollection(){return null!==e&&e.apply(this,arguments)||this}ColumnGroupCollection.prototype.getColumn=function(e){return isNumber(e)?this._getColByIdx(e):this._findColByProp(\"name\",e)||this._findColByProp(\"binding\",e)};Object.defineProperty(ColumnGroupCollection.prototype,\"owner\",{get:function(){return this._owner},enumerable:!0,configurable:!0});ColumnGroupCollection.prototype.push=function(t){t._setOwnerList(this);return e.prototype.push.call(this,t)};ColumnGroupCollection.prototype.splice=function(t,i){for(var o=this,n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];for(var l=t;l<t+i&&l<this.length;l++){var s=this[l];s instanceof ColumnGroup&&s._setOwnerList(null)}n.forEach((function(e){return e._setOwnerList(o)}));return e.prototype.splice.apply(this,[t,i].concat(n))};ColumnGroupCollection._parse=function(e){var t=null;if(e)if(e instanceof ColumnGroupCollection)t=e;else{t=new ColumnGroupCollection;e.forEach((function(e){var i=e instanceof ColumnGroup?e:new ColumnGroup(e);t.indexOf(i)<0&&t.push(i)}))}else t=new ColumnGroupCollection;return t};ColumnGroupCollection.prototype._setChangeHandler=function(e){this._changeHdl=e;this.forEach((function(t){return t._setChangeHandler(e)}))};ColumnGroupCollection.prototype._removeChangeHandler=function(){this._changeHdl=null;this.forEach((function(e){return e._removeChangeHandler()}))};ColumnGroupCollection.prototype._setOwner=function(e){this._owner=e;this.forEach((function(e){return e.columns._setOwner(e)}))};ColumnGroupCollection.prototype._getColByIdx=function(e){return e>-1&&e<this.length?this[e]:null};ColumnGroupCollection.prototype._findColByProp=function(e,t){for(var i=0;i<this.length;i++){var o=this[i];if(o[e]===t)return o;if(null!==(o=o.columns._findColByProp(e,t)))return o}return null};ColumnGroupCollection.prototype.onCollectionChanged=function(t){void 0===t&&(t=NotifyCollectionChangedEventArgs.reset);var i=this._changeHdl;i&&i.handleCollectionChange();e.prototype.onCollectionChanged.call(this,t)};return ColumnGroupCollection}(ObservableArray);export{ColumnGroupCollection};_addCultureInfo(\"FlexGrid\",{groupHeaderFormat:\"{name}: <b>{value}</b> ({count:n0} items)\",ariaLabels:{toggleDropDown:\"Toggle Dropdown\",toggleGroup:\"Toggle Group\"}});export var AllowSorting;!function(e){e[e.None=0]=\"None\";e[e.SingleColumn=1]=\"SingleColumn\";e[e.MultiColumn=2]=\"MultiColumn\"}(AllowSorting||(AllowSorting={}));export var AllowPinning;!function(e){e[e.None=0]=\"None\";e[e.SingleColumn=1]=\"SingleColumn\";e[e.ColumnRange=2]=\"ColumnRange\";e[e.Both=3]=\"Both\"}(AllowPinning||(AllowPinning={}));export var HeadersVisibility;!function(e){e[e.None=0]=\"None\";e[e.Column=1]=\"Column\";e[e.Row=2]=\"Row\";e[e.All=3]=\"All\"}(HeadersVisibility||(HeadersVisibility={}));export var ClipStringOptions;!function(e){e[e.Default=0]=\"Default\";e[e.CSV=1]=\"CSV\";e[e.QuoteAll=2]=\"QuoteAll\";e[e.SkipMerged=4]=\"SkipMerged\";e[e.Unformatted=8]=\"Unformatted\";e[e.InvisibleRows=16]=\"InvisibleRows\";e[e.InvisibleColumns=32]=\"InvisibleColumns\";e[e.InvisibleCells=48]=\"InvisibleCells\"}(ClipStringOptions||(ClipStringOptions={}));export var HeadersFocusability;!function(e){e[e.None=0]=\"None\";e[e.Column=1]=\"Column\";e[e.Row=2]=\"Row\";e[e.All=3]=\"All\"}(HeadersFocusability||(HeadersFocusability={}));var FlexGrid=function(e){__extends(FlexGrid,e);function FlexGrid(t,i){var o=e.call(this,t,null,!0)||this;o._activeCell=null;o._activePanelType=CellType.Cell;o._szClient=new Size(0,0);o._szClientSB=new Size(0,0);o._offsetY=0;o._cssPage=0;o._ptScrl=new Point(0,0);o._cellPadLeft=3;o._cellPadHorz=3;o._cellPadVert=0;o._clipToScreen=!1;o._anchorCell=null;o._autoGenCols=!0;o._autoClipboard=!0;o._xOnCopyPaste=!0;o._autoScroll=!0;o._autoSearch=!1;o._caseSensitive=!1;o._readOnly=!1;o._indent=14;o._autoSizeMode=AutoSizeMode.Both;o._autoHeights=!1;o._quickSize=null;o._hdrVis=HeadersVisibility.All;o._hdrFoc=HeadersFocusability.None;o._alSorting=AllowSorting.SingleColumn;o._alPinning=AllowPinning.None;o._alAddNew=!1;o._alDelete=!1;o._alResizing=AllowResizing.Columns;o._alDragging=AllowDragging.Columns;o._alMerging=AllowMerging.None;o._ssHdr=HeadersVisibility.None;o._shSort=!0;o._shGroups=!0;o._shMarquee=!1;o._shPlcHld=!1;o._altStep=1;o._shErr=!0;o._shDropDown=!0;o._valEdt=!0;o._gHdrFmt=null;o._childItemsPath=null;o._sortRowIndex=null;o._editColIndex=null;o._deferResizing=!1;o._pSel=!0;o._pOutline=!0;o._stickyHdr=!1;o._anchorCursor=!1;o._copyHeaders=HeadersVisibility.None;o._bigChecks=!1;o._skipMerged=!1;o._commitEmptyEdits=!0;o._fzClone=null;o._vt=0;o._vtRows=0;o._vtCols=0;o._lazyRender=!0;o._refreshOnEdit=!0;o._reorderCells=!0;o._isISChanging=!1;o._isScrollingByWheel=!1;o._touchEdit=!1;o.itemsSourceChanging=new Event;o.itemsSourceChanged=new Event;o.scrollPositionChanged=new Event;o.selectionChanging=new Event;o.selectionChanged=new Event;o.loadingRows=new Event;o.loadedRows=new Event;o.updatingLayout=new Event;o.updatedLayout=new Event;o.resizingColumn=new Event;o.resizedColumn=new Event;o.autoSizingColumn=new Event;o.autoSizedColumn=new Event;o.starSizedColumns=new Event;o.draggingColumn=new Event;o.draggingColumnOver=new Event;o.draggedColumn=new Event;o.pinningColumn=new Event;o.pinnedColumn=new Event;o.resizingRow=new Event;o.resizedRow=new Event;o.autoSizingRow=new Event;o.autoSizedRow=new Event;o.draggingRow=new Event;o.draggingRowOver=new Event;o.draggedRow=new Event;o.groupCollapsedChanging=new Event;o.groupCollapsedChanged=new Event;o.columnGroupCollapsedChanging=new Event;o.columnGroupCollapsedChanged=new Event;o.sortingColumn=new Event;o.sortedColumn=new Event;o.beginningEdit=new Event;o.prepareCellForEdit=new Event;o.cellEditEnding=new Event;o.cellEditEnded=new Event;o.rowEditStarting=new Event;o.rowEditStarted=new Event;o.rowEditEnding=new Event;o.rowEditEnded=new Event;o.rowAdded=new Event;o.deletingRow=new Event;o.deletedRow=new Event;o.copying=new Event;o.copied=new Event;o.pasting=new Event;o.pasted=new Event;o.pastingCell=new Event;o.pastedCell=new Event;o.formatItem=new Event((function(){o._clearCells()}));o.updatingView=new Event;o.updatedView=new Event;o._mappedColumns=null;var n=o.hostElement;isIE()&&(n.style.borderRadius=\"0\");var r=o.getTemplate();o.applyTemplate(\"wj-control wj-content wj-flexgrid\",r,{_root:\"root\",_eSz:\"sz\",_eCt:\"cells\",_fCt:\"fcells\",_eTL:\"tl\",_eBL:\"bl\",_eCHdr:\"ch\",_eRHdr:\"rh\",_eCFtr:\"cf\",_eTLCt:\"tlcells\",_eBLCt:\"blcells\",_eCHdrCt:\"chcells\",_eCFtrCt:\"cfcells\",_eRHdrCt:\"rhcells\",_eMarquee:\"marquee\",_eFocus:\"focus\"});setCss(o._root.parentElement,{position:\"relative\",left:\"0\",top:\"0\",width:\"100%\",height:\"100%\",overflow:\"hidden\",minWidth:\"inherit\",minHeight:\"inherit\",maxWidth:\"inherit\",maxHeight:\"inherit\"});setCss(o._root,{position:\"absolute\",left:\"0\",top:\"0\",width:\"100%\",height:\"100%\",minWidth:\"inherit\",minHeight:\"inherit\",maxWidth:\"inherit\",maxHeight:\"inherit\",overflow:\"auto\",webkitOverflowScrolling:\"touch\"});setCss(o._eCt,{position:\"absolute\"});setCss(o._eMarquee,{display:\"none\"});setCss(o._eMarquee.firstChild,{width:\"100%\",height:\"100%\"});setCss(o._fCt,{position:\"absolute\",left:\"0\",top:\"0\",overflow:\"hidden\",pointerEvents:\"none\"});setCss(o._eFocus,{position:\"fixed\",left:\"-32000px\"});setCss(o._eSz,{position:\"relative\",visibility:\"hidden\"});[o._eRHdr,o._eCFtr,o._eCHdr,o._eBL,o._eTL].forEach((function(e){setAttribute(e,\"aria-hidden\",!0);setCss(e,{position:\"absolute\",overflow:\"hidden\",outline:\"none\"});setCss(e.firstElementChild,{position:\"relative\"})}));[o._eFocus,o._eMarquee,o._fCt,o._eSz].forEach((function(e){setAttribute(e,\"aria-hidden\",!0)}));if(isIE9()||isIE10()){var l=o._eMarquee;[\"click\",\"dblclick\",\"mousedown\",\"mouseup\"].forEach((function(e){o.addEventListener(l,e,(function(t){var i=l.style.display;l.style.display=\"none\";var o=document.elementFromPoint(t.clientX,t.clientY);l.style.display=i;var n=document.createEvent(\"Event\");n.initEvent(e,!0,!0);for(var r in t)try{n[r]=t[r]}catch(e){}o.dispatchEvent(n)}))}))}n.tabIndex=-1;o.deferUpdate((function(){var e=o._getDefaultRowHeight();o._rows=new RowCollection(o,e);o._cols=new ColumnCollection(o,4*e);o._hdrRows=new RowCollection(o,e);o._hdrCols=new ColumnCollection(o,Math.round(1.25*e));o._ftrRows=new RowCollection(o,e);var t=CellType;o._gpTL=new GridPanel(o,t.TopLeft,o._hdrRows,o._hdrCols,o._eTLCt);o._gpCHdr=new GridPanel(o,t.ColumnHeader,o._hdrRows,o._cols,o._eCHdrCt);o._gpRHdr=new GridPanel(o,t.RowHeader,o._rows,o._hdrCols,o._eRHdrCt);o._gpCells=new GridPanel(o,t.Cell,o._rows,o._cols,o._eCt);o._gpBL=new GridPanel(o,t.BottomLeft,o._ftrRows,o._hdrCols,o._eBLCt);o._gpCFtr=new GridPanel(o,t.ColumnFooter,o._ftrRows,o._cols,o._eCFtrCt);o.activePanel=o._gpCells;o._hdrRows.push(new Row);o._hdrCols.push(new Column({align:\"center\"}));o._cf=new CellFactory;o._keyHdl=new _KeyboardHandler(o);o._mouseHdl=new _MouseHandler(o);o._edtHdl=new _EditHandler(o);o._selHdl=o._createSelHdl();o._addHdl=new _AddNewHandler(o);o._grpHdl=new _ColumnGroupHandler(o);o._mrgMgr=new MergeManager;o._bndSortConverter=o._sortConverter.bind(o);o._errorTip=new Tooltip({isContentHtml:!1,showDelay:0,cssClass:\"wj-error-tip\"});o.selectionMode=SelectionMode.CellRange;o._root.tabIndex=-1;o.initialize(i)}));o.addEventListener(o._root,\"scroll\",(function(e){if(o._updateScrollPosition()||o._forceScrollUpdate){var t=o.activeEditor,i=o.activeCell,n=i?i.className:null;o._forceScrollUpdate||o.finishEditing();o._forceScrollUpdate=!1;requestAnimationFrame((function(){o._updateContent(!0)}));var r=o.activeEditor,l=o.activeCell;if(r&&l&&t&&n){r.value=t.value;l.className=n;o._setFocusNoScroll(r)}else r&&!l&&o.finishEditing(!0);o.frozenColumns&&setTimeout((function(){var e=o.columnHeaders.hostElement.style,t=parseInt(e.left),i=o._ptScrl.x;Math.abs(t-i)>1&&o.invalidate()}))}}));o.addEventListener(n,\"focus\",(function(e){if(n.tabIndex>-1){var t=e.target;t instanceof HTMLElement&&t.tabIndex<0&&o._setFocus(!0)}}),!0);return o}Object.defineProperty(FlexGrid.prototype,\"activePanel\",{get:function(){return this._activePanel},set:function(e){this._activePanel=e},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"activePanelType\",{get:function(){return this._activePanelType},set:function(e){if(this._activePanelType!==e){Array.from(this.hostElement.getElementsByClassName(\"wj-focus-header-cell\")).forEach((function(e){e.classList.remove(\"wj-focus-header-cell\");e.setAttribute(\"tabindex\",\"-1\")}));this._activePanelType=e;e!==CellType.Cell?e!==CellType.ColumnHeader?e!==CellType.RowHeader?e!==CellType.TopLeft||(this.activePanel=this._gpTL):this.activePanel=this._gpRHdr:this.activePanel=this._gpCHdr:this.activePanel=this._gpCells}},enumerable:!0,configurable:!0});FlexGrid.prototype._handleResize=function(){var t=this;this._rcBounds=null;this.activeEditor&&this.isTouching||this._touchEdit?setTimeout((function(){if(!t.activeEditor){t._touchEdit=!0;t.startEditing(!0)}}),50):e.prototype._handleResize.call(this);this._touchEdit=!1};Object.defineProperty(FlexGrid.prototype,\"headersVisibility\",{get:function(){return this._hdrVis},set:function(e){if((e=asEnum(e,HeadersVisibility))!=this._hdrVis){this._hdrVis=e;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"headersFocusability\",{get:function(){return this._hdrFoc},set:function(e){if((e=asEnum(e,HeadersFocusability))!=this._hdrFoc){this._hdrFoc=e;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"stickyHeaders\",{get:function(){return this._stickyHdr},set:function(e){if(e!=this._stickyHdr){this._stickyHdr=asBoolean(e);this._updateStickyHeaders();this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"preserveSelectedState\",{get:function(){return this._pSel},set:function(e){this._pSel=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"preserveOutlineState\",{get:function(){return this._pOutline},set:function(e){this._pOutline=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"anchorCursor\",{get:function(){return this._anchorCursor},set:function(e){this._anchorCursor=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"copyHeaders\",{get:function(){return this._copyHeaders},set:function(e){this._copyHeaders=asEnum(e,HeadersVisibility)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"lazyRender\",{get:function(){return this._lazyRender},set:function(e){this._lazyRender=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"refreshOnEdit\",{get:function(){return this._refreshOnEdit},set:function(e){this._refreshOnEdit=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"virtualizationThreshold\",{get:function(){return this._vt},set:function(e){this._vt=e;if(isNumber(e))this._vtRows=this._vtCols=asNumber(e);else if(e)if(isArray(e)&&2==e.length){this._vtRows=asNumber(e[0]);this._vtCols=asNumber(e[1])}else assert(!1,\"virtualizationThreshold should be a number or an array with two numbers.\");else this._vtRows=this._vtCols=0},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"autoGenerateColumns\",{get:function(){return this._autoGenCols},set:function(e){this._autoGenCols=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"autoClipboard\",{get:function(){return this._autoClipboard},set:function(e){this._autoClipboard=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"expandSelectionOnCopyPaste\",{get:function(){return this._xOnCopyPaste},set:function(e){this._xOnCopyPaste=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"autoScroll\",{get:function(){return this._autoScroll},set:function(e){this._autoScroll=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"autoSearch\",{get:function(){return this._autoSearch},set:function(e){this._autoSearch=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"caseSensitiveSearch\",{get:function(){return this._caseSensitive},set:function(e){this._caseSensitive=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"columnLayout\",{get:function(){var e,t=this._hasColumnGroups(),i=t?ColumnGroup:Column,o=t?\"columnGroups\":\"columns\",n=FlexGrid._getSerializableProperties(i),r=t?[\"collapseTo\"]:[],l=[\"size\"],s=new i,a=t?this.getColumnGroups():this.columns,serializeColumns=function(e){var i=[];e.forEach((function(e){var o={};n.forEach((function(t){var i=e[t];(function(e,t){return t!=s[e]&&l.indexOf(e)<0&&(isPrimitive(t)||r.indexOf(e)>-1)})(t,i)&&(o[t]=i)}));if(t){var a=e.columns;a.length&&(o.columns=serializeColumns(a))}i.push(o)}));return i},c=serializeColumns(a);return JSON.stringify(((e={})[o]=c,e))},set:function(e){var t=this,i=JSON.parse(asString(e));assert(i,\"Invalid columnLayout data.\");this.columns.deferUpdate((function(){t.columns.clear();t._hasColumnGroups()&&(t.columnGroups=new ColumnGroupCollection);t.initialize(i)}))},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"columnGroups\",{get:function(){return this._grpHdl.getGroupDefinitions()},set:function(e){this.columns.clear();this._grpHdl.createColumnGroups(asArray(e))},enumerable:!0,configurable:!0});FlexGrid.prototype.getColumnGroups=function(){return this._grpHdl.columnGroups};Object.defineProperty(FlexGrid.prototype,\"isReadOnly\",{get:function(){return this._readOnly},set:function(e){if(e!=this._readOnly){this._readOnly=asBoolean(e);this.finishEditing();this.invalidate(!0);this._addHdl.updateNewRowTemplate();toggleClass(this.hostElement,\"wj-state-readonly\",this.isReadOnly);this._setAria(\"readonly\",this.isReadOnly?\"true\":null)}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"bigCheckboxes\",{get:function(){return this._bigChecks},set:function(e){this._bigChecks=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"skipMerged\",{get:function(){return this._skipMerged},set:function(e){this._skipMerged=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"isDisabled\",{get:function(){return this._e&&null!=this._e.getAttribute(\"disabled\")},set:function(e){if((e=asBoolean(e,!0))!=this.isDisabled){var t=this._e;if(t){enable(t,!e);this._updateTabIndex();this.invalidate()}}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"imeEnabled\",{get:function(){return null!=this._imeHdl},set:function(e){if(asBoolean(e)!=this.imeEnabled&&this.finishEditing()){var t=this.containsFocus();if(this._imeHdl){this._imeHdl.dispose();this._imeHdl=null}e&&(this._imeHdl=new _ImeHandler(this));t&&this.focus()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"allowResizing\",{get:function(){return this._alResizing},set:function(e){this._alResizing=asEnum(e,AllowResizing)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"deferResizing\",{get:function(){return this._deferResizing},set:function(e){this._deferResizing=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"autoSizeMode\",{get:function(){return this._autoSizeMode},set:function(e){this._autoSizeMode=asEnum(e,AutoSizeMode)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"autoRowHeights\",{get:function(){return this._autoHeights},set:function(e){this._autoHeights=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"quickAutoSize\",{get:function(){return this._quickSize},set:function(e){this._quickSize=asBoolean(e,!0)},enumerable:!0,configurable:!0});FlexGrid.prototype._getQuickAutoSize=function(){return isBoolean(this._quickSize)?this._quickSize:!this.formatItem.hasHandlers&&null==this.itemFormatter};Object.defineProperty(FlexGrid.prototype,\"allowSorting\",{get:function(){return this._alSorting},set:function(e){isBoolean(e)&&(e=e?AllowSorting.SingleColumn:AllowSorting.None);this._alSorting=asEnum(e,AllowSorting)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"allowPinning\",{get:function(){return this._alPinning},set:function(e){if(e!=this._alPinning){isBoolean(e)&&(e=e?AllowPinning.SingleColumn:AllowPinning.None);this._alPinning=asEnum(e,AllowPinning);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"allowAddNew\",{get:function(){return this._alAddNew},set:function(e){if(e!=this._alAddNew){this._alAddNew=asBoolean(e);this._addHdl.updateNewRowTemplate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"newRowAtTop\",{get:function(){return this._addHdl.newRowAtTop},set:function(e){this._addHdl.newRowAtTop=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"allowDelete\",{get:function(){return this._alDelete},set:function(e){e!=this._alDelete&&(this._alDelete=asBoolean(e))},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"allowMerging\",{get:function(){return this._alMerging},set:function(e){if((e=asEnum(e,AllowMerging))!=this._alMerging){this._alMerging=e;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"showSelectedHeaders\",{get:function(){return this._ssHdr},set:function(e){if((e=asEnum(e,HeadersVisibility))!=this._ssHdr){this._ssHdr=e;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"showMarquee\",{get:function(){return this._shMarquee},set:function(e){if(e!=this._shMarquee){this._shMarquee=asBoolean(e);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"showPlaceholders\",{get:function(){return this._shPlcHld},set:function(e){this._shPlcHld=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"showSort\",{get:function(){return this._shSort},set:function(e){if(e!=this._shSort){this._shSort=asBoolean(e);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"showGroups\",{get:function(){return this._shGroups},set:function(e){if(e!=this._shGroups){this._shGroups=asBoolean(e);this._bindGrid(!1)}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"alternatingRowStep\",{get:function(){return this._altStep},set:function(e){if(e!=this._altStep){this._altStep=asInt(e,!1,!0);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"showAlternatingRows\",{get:function(){return this._altStep>0},set:function(e){_deprecated(\"showAlternatingRows\",\"alternatingRowStep\");this.alternatingRowStep=e?1:0},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"showErrors\",{get:function(){return this._shErr},set:function(e){if(e!=this._shErr){this._clearCells();this._shErr=asBoolean(e)}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"errorTip\",{get:function(){return this._errorTip},set:function(e){if(e!=this._errorTip){this._clearCells();this._errorTip=asType(e,Tooltip,!0)}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"itemValidator\",{get:function(){return this._itemValidator},set:function(e){if(e!=this.itemValidator){this._itemValidator=asFunction(e);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"validateEdits\",{get:function(){return this._valEdt},set:function(e){this._valEdt=asBoolean(e)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"groupHeaderFormat\",{get:function(){return this._gHdrFmt},set:function(e){if(e!=this._gHdrFmt){this._gHdrFmt=asString(e);this._bindGrid(!1)}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"allowDragging\",{get:function(){return this._alDragging},set:function(e){if((e=asEnum(e,AllowDragging))!=this._alDragging){this._alDragging=e;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"ariaLabel\",{get:function(){return this._ariaLabel},set:function(e){this._ariaLabel=e},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"itemsSource\",{get:function(){return this._items},set:function(e){var t=this;if(e!=this._items){var i=new CancelEventArgs;if(this.onItemsSourceChanging(i)){if(this._cv){(o=this._cv).currentChanged.removeHandler(null,this);o.collectionChanged.removeHandler(null,this);o instanceof CollectionView&&o.sortConverter==this._bndSortConverter&&(o.sortConverter=null);this._cv=null}this._items=e;this._cv=this._getCollectionView(e);this._lastCount=0;if(this._cv){var o;(o=this._cv).currentChanged.addHandler((function(e,i){return t._cvCurrentChanged(e,i)}),this);o.collectionChanged.addHandler((function(e,i){return t._cvCollectionChanged(e,i)}),this);o instanceof CollectionView&&!o.sortConverter&&(o.sortConverter=this._bndSortConverter)}this._isISChanging=!0;this._bindGrid(!0);this._isISChanging=!1;this.onItemsSourceChanged(i)}}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"collectionView\",{get:function(){return this._cv},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"editableCollectionView\",{get:function(){return tryCast(this._cv,\"IEditableCollectionView\")},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"childItemsPath\",{get:function(){return this._childItemsPath},set:function(e){if(e!=this._childItemsPath){assert(null==e||isArray(e)||isString(e),\"childItemsPath should be an array or a string.\");this._childItemsPath=e;this._bindGrid(!0)}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"rowHeaderPath\",{get:function(){return this._rowHdrPath?this._rowHdrPath.path:null},set:function(e){if(e!=this.rowHeaderPath){e=asString(e);this._rowHdrPath=e?new Binding(e):null;this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"cells\",{get:function(){return this._gpCells},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"columnHeaders\",{get:function(){return this._gpCHdr},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"columnFooters\",{get:function(){return this._gpCFtr},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"rowHeaders\",{get:function(){return this._gpRHdr},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"topLeftCells\",{get:function(){return this._gpTL},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"bottomLeftCells\",{get:function(){return this._gpBL},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"rows\",{get:function(){return this._rows},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"columns\",{get:function(){return this._cols},enumerable:!0,configurable:!0});FlexGrid.prototype.getColumn=function(e,t){if(this._hasColumnGroups()&&t){var i=this.getColumnGroups();return null!==i?i.getColumn(e):null}return this.columns.getColumn(e)};Object.defineProperty(FlexGrid.prototype,\"frozenRows\",{get:function(){return this.rows.frozen},set:function(e){this.rows.frozen=e},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"frozenColumns\",{get:function(){return this.columns.frozen},set:function(e){this.columns.frozen=e},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"cloneFrozenCells\",{get:function(){return this._fzClone},set:function(e){if(e!=this._fzClone){setText(this._fCt,null);this._fzClone=asBoolean(e,!0);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"sortRowIndex\",{get:function(){return this._sortRowIndex},set:function(e){if(e!=this._sortRowIndex){this._sortRowIndex=asNumber(e,!0);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"editColumnIndex\",{get:function(){return this._editColIndex},set:function(e){if(e!=this._editColIndex){this._editColIndex=asNumber(e,!0);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"scrollPosition\",{get:function(){return this._ptScrl.clone()},set:function(e){var t=this._root,i=-e.x;if(this.rightToLeft)switch(FlexGrid._getRtlMode()){case\"rev\":i=t.scrollWidth-t.clientWidth+e.x;break;case\"neg\":i=e.x;break;default:i=-e.x}t.scrollLeft=i;t.scrollTop=-e.y;this._updateScrollPosition()&&(this._forceScrollUpdate=!0)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"commitEmptyEdits\",{get:function(){return this._commitEmptyEdits},set:function(e){if(e!=this._commitEmptyEdits){this._commitEmptyEdits=asBoolean(e);this.invalidate()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"clientSize\",{get:function(){return this._szClient},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"controlRect\",{get:function(){this._rcBounds||(this._rcBounds=getElementRect(this._root));return this._rcBounds},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"scrollSize\",{get:function(){return new Size(this._gpCells.width,this._heightBrowser)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"viewRange\",{get:function(){return this._gpCells.viewRange},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"cellFactory\",{get:function(){return this._cf},set:function(e){if(e!=this._cf){this._clearCells();this._cf=asType(e,CellFactory,!1)}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"itemFormatter\",{get:function(){return this._itemFormatter},set:function(e){if(e!=this._itemFormatter){this._clearCells();this._itemFormatter=asFunction(e)}},enumerable:!0,configurable:!0});FlexGrid.prototype.canEditCell=function(e,t){return this._edtHdl._allowEdit(e,t)};FlexGrid.prototype.getCellData=function(e,t,i){return this.cells.getCellData(e,t,i)};FlexGrid.prototype.getCellBoundingRect=function(e,t,i){return this.cells.getCellBoundingRect(e,t,i)};FlexGrid.prototype.setCellData=function(e,t,i,o,n){void 0===o&&(o=!0);void 0===n&&(n=!0);return this.cells.setCellData(e,t,i,o,n)};FlexGrid.prototype.hitTest=function(e,t){isNumber(e)&&isNumber(t)&&(e=new Point(e,t));isBoolean(t)&&t&&(this._rcBounds=null);return new HitTestInfo(this,e)};FlexGrid.prototype.getClipString=function(e,t,i,o){var n;n=null==t||isBoolean(t)?t?ClipStringOptions.CSV:ClipStringOptions.Default:t;assert(isNumber(n),\"Unexpected value for ClipStringOptions parameter.\");var r=this.selection,l=this.getMergedRange(this.cells,r.row,r.col,!1);(l&&(l.columnSpan>1||l.rowSpan>1)||this.skipMerged)&&(n|=ClipStringOptions.SkipMerged);return this._edtHdl.getClipString(e,n,i,o)};FlexGrid.prototype.setClipString=function(e,t){this._edtHdl.setClipString(e,t)};FlexGrid.prototype.focus=function(e){this.isDisabled||this._setFocus(e)};FlexGrid.prototype.dispose=function(){this.finishEditing(!0);this.itemsSource=null;e.prototype.dispose.call(this)};FlexGrid.prototype.refresh=function(t){void 0===t&&(t=!0);e.prototype.refresh.call(this,t);this.finishEditing();if(t){this._updateColumnTypes();this.scrollPosition=this._ptScrl;this._updateDefaultSizes();clearTimeout(this._toInv);this._toInv=null}this.refreshCells(t);var i=this._e;i&&(this._szCtl=new Size(i.offsetWidth,i.offsetHeight))};FlexGrid.prototype.refreshCells=function(e,t,i){this.isUpdating||(e?this._updateLayout():this._updateContent(t,i))};FlexGrid.prototype.refreshRange=function(e){for(var t=e.topRow;t<=e.bottomRow;t++)for(var i=e.leftCol;i<=e.rightCol;i++){var o=this.cells.getCellElement(t,i);if(o){var n=o[GridPanel._INDEX_KEY];this.cellFactory.updateCell(this.cells,t,i,o,n.rng)}}};FlexGrid.prototype.autoSizeColumn=function(e,t,i){void 0===t&&(t=!1);void 0===i&&(i=4);this.autoSizeColumns(e,e,t,i)};FlexGrid.prototype.autoSizeColumns=function(e,t,i,o){var n=this;void 0===i&&(i=!1);void 0===o&&(o=4);var r=0,l=i?this.topLeftCells:this.columnHeaders,s=i?this.bottomLeftCells:this.columnFooters,a=i?this.rowHeaders:this.cells,c=this.viewRange;e=null==e?0:asInt(e);t=null==t?a.columns.length-1:asInt(t);c.row=Math.max(0,c.row-1e3);c.row2=Math.min(c.row2+1e3,this.rows.length-1);this.finishEditing()&&this.columns.deferUpdate((function(){setCss(n._eCt,{width:n._gpCells.width});for(var i=createElement(\"<div \"+FlexGrid._WJS_MEASURE+'=\"true\"/>',a.hostElement,{visibility:\"hidden\"}),u=n._getCanvasContext(),d=e;d<=t&&d>-1&&d<a.columns.length;d++){var h=a.columns[d];if(h.isVisible){r=0;if(n.autoSizeMode&AutoSizeMode.Headers){for(var p=0;p<l.rows.length;p++)l.rows[p].isVisible&&(r=Math.max(n._getDesiredWidth(l,p,d,i),r));for(p=0;p<s.rows.length;p++)s.rows[p].isVisible&&(r=Math.max(n._getDesiredWidth(s,p,d,i),r))}if(n.autoSizeMode&AutoSizeMode.Cells&&c.row>-1&&c.row2>-1)if(h._getQuickAutoSize()){p=n._getWidestRow(a,c,d,u);r=Math.max(n._getDesiredWidth(a,p,d,i),r)}else for(p=c.row;p<=c.row2&&p<a.rows.length;p++)a.rows[p].isVisible&&(r=Math.max(n._getDesiredWidth(a,p,d,i),r));r>0&&(h.width=r+o+2)}}n.cellFactory.disposeCell(i);removeChild(i)}))};FlexGrid.prototype.autoSizeRow=function(e,t,i){void 0===t&&(t=!1);void 0===i&&(i=0);this.autoSizeRows(e,e,t,i)};FlexGrid.prototype.autoSizeRows=function(e,t,i,o){var n=this;void 0===i&&(i=!1);void 0===o&&(o=0);var r=0,l=1==i?this.topLeftCells:null==i?this.bottomLeftCells:this.rowHeaders,s=1==i?this.columnHeaders:null==i?this.columnFooters:this.cells;o=asNumber(o);e=null==e?0:asInt(e);if((t=null==t?s.rows.length-1:asInt(t))>=e&&this.finishEditing()){setCss(this._eCt,{width:this._gpCells.width});var a=createElement(\"<div \"+FlexGrid._WJS_MEASURE+'=\"true\"/>',s.hostElement,{visibility:\"hidden\"});this.rows.deferUpdate((function(){for(var i={},c=n._autoSizeMode,u=AutoSizeMode,d=e;d<=t&&d>-1&&d<s.rows.length;d++){if(s.rows[d].isVisible){r=0;c&u.Headers&&(r=n._getDesiredRowHeight(l,d,a,i));c&u.Cells&&(r=Math.max(n._getDesiredRowHeight(s,d,a,i),r));r>0&&(s.rows[d].height=r+o)}}}));this.cellFactory.disposeCell(a);removeChild(a)}};Object.defineProperty(FlexGrid.prototype,\"treeIndent\",{get:function(){return this._indent},set:function(e){if(e!=this._indent){this._indent=asNumber(e,!1,!0);this.columns.onCollectionChanged()}},enumerable:!0,configurable:!0});FlexGrid.prototype.collapseGroupsToLevel=function(e){var t=this;this.finishEditing()&&this.deferUpdate((function(){var i=t.rows;i.deferUpdate((function(){for(var t=0;t<i.length;t++){var o=i[t];o instanceof GroupRow&&(o.isCollapsed=o.level>=e)}}))}))};Object.defineProperty(FlexGrid.prototype,\"selectionMode\",{get:function(){return this._selHdl.selectionMode},set:function(e){if((e=asEnum(e,SelectionMode))!=this.selectionMode){this._selHdl.selectionMode=e;this._updateTabIndex()}},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"selection\",{get:function(){return this._selHdl.selection.clone()},set:function(e){this._selHdl.selection=e},enumerable:!0,configurable:!0});FlexGrid.prototype.select=function(e,t){void 0===t&&(t=!0);this.activePanelType=CellType.Cell;return this._selHdl.select(e,t)};FlexGrid.prototype.selectAll=function(){var e=this.rows.length,t=this.columns.length;return!(!e||!t)&&this.select(new CellRange(0,0,e-1,t-1),!1)};FlexGrid.prototype.getSelectedState=function(e,t){return this.cells.getSelectedState(e,t)};Object.defineProperty(FlexGrid.prototype,\"selectedRows\",{get:function(){var e=this,t=this.selectionMode,i=this.rows.filter((function(e){return e.isSelected}));if(0==i.length&&t!=SelectionMode.None){var o=[];this.selectedRanges.forEach((function(t){for(var i=t.topRow;i<=t.bottomRow&&i>-1&&i<e.rows.length;i++)o.indexOf(i)<0&&o.push(i)}));o.sort();i=o.map((function(t){return e.rows[t]}))}return i},set:function(e){var t=this;assert(this.selectionMode==SelectionMode.ListBox,\"This property can be set only in ListBox mode.\");e=asArray(e);this.deferUpdate((function(){for(var i=0,o=!0;i<t.rows.length;i++){var n=t.rows[i],r=e&&e.indexOf(n)>-1;if(r&&o){o=!1;t.select(i,t.selection.col)}n.isSelected=r}}))},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"selectedItems\",{get:function(){var e=[];this.selectedRows.forEach((function(t){var i=t?t.dataItem:null;i&&e.indexOf(i)<0&&e.push(i)}));return e},set:function(e){var t=this;assert(this.selectionMode==SelectionMode.ListBox,\"This property can be set only in ListBox mode.\");e=asArray(e);this.deferUpdate((function(){for(var i=0,o=!0;i<t.rows.length;i++){var n=t.rows[i],r=e&&e.indexOf(n.dataItem)>-1;if(r&&o){o=!1;t.select(i,t.selection.col)}n.isSelected=r}}))},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"selectedRanges\",{get:function(){var e=[this.selection];this._selHdl.extendedSelection.forEach((function(t){e.push(t)}));return e},set:function(e){if((e=asArray(e))&&e.length>0){this.select(e[0]);if(this.selectionMode==SelectionMode.MultiRange){var t=this._selHdl.extendedSelection;t.deferUpdate((function(){t.clear();for(var i=1;i<e.length;i++)t.push(e[i])}))}}},enumerable:!0,configurable:!0});FlexGrid.prototype.scrollIntoView=function(e,t,i){(null==this._maxOffsetY||this._rows._dirty||this._cols._dirty)&&this._updateLayout();var o=this.scrollPosition,n=this._szClient,r=n.width,l=n.height-this._gpCFtr.rows.getTotalSize(),s=this.cells._getFrozenPos();if((e=asInt(e))>-1&&e<this._rows.length&&e>=this._rows.frozen){var a=this._rows[e],c=this._getCssPage(a.pos);if(c!=this._cssPage){for(var u=this._maxOffsetY,d=Math.round(u*c);d>a.pos;c-=.1)d=Math.round(u*c);this._offsetY=d}var h=a.pos-this._offsetY,p=h+a.renderSize;p>l-o.y&&(o.y=Math.max(-h,l-p));h-s.y<-o.y&&(o.y=-(h-s.y));c!=this._cssPage&&(this._cssPage=this._getCssPage(-o.y))}isString(t)&&(t=this.columns.indexOf(t));if((t=asInt(t))>-1&&t<this._cols.length&&t>=this._cols.frozen){var f=this._cols[t],g=f.pos+f.renderSize;g>-o.x+r&&(o.x=Math.max(-f.pos,r-g));f.pos-s.x<-o.x&&(o.x=-(f.pos-s.x))}if(!o.equals(this._ptScrl)){this.scrollPosition=o;if(i){this._updateScrollPosition();this._forceScrollUpdate=!1;this.refresh()}return!0}if(this._activeCell&&e>-1&&t>-1){var _=this._root,m=_.scrollWidth==_.clientWidth,C=_.scrollHeight==_.clientHeight;if(m||C){var w=this._activeCell.getBoundingClientRect(),v=innerWidth,y=innerHeight,b=w.right<0||w.left>v,R=w.bottom<0||w.top>y;o.x=pageXOffset+(w.left<0?w.left:w.right>v?w.right-v:0);o.y=pageYOffset+(w.top<0?w.top:w.bottom>y?w.bottom-y:0);b&&m&&R&&C?scrollTo(o.x,o.y):b&&m?scrollTo(o.x,document.documentElement.scrollLeft):R&&C&&scrollTo(document.documentElement.scrollTop,o.y)}}return!1};FlexGrid.prototype.isRangeValid=function(e){return e&&e.isValid&&e.bottomRow<this.rows.length&&e.rightCol<this.columns.length};FlexGrid.prototype.startEditing=function(e,t,i,o,n){void 0===e&&(e=!0);return this._edtHdl.startEditing(e,t,i,o,n)};FlexGrid.prototype.finishEditing=function(e){return this._edtHdl.finishEditing(e)};Object.defineProperty(FlexGrid.prototype,\"activeCell\",{get:function(){return this._activeCell},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"activeEditor\",{get:function(){var e=this._edtHdl;return e?e.activeEditor:null},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"editRange\",{get:function(){var e=this._edtHdl.editRange;return e?e.clone():null},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"mergeManager\",{get:function(){return this._mrgMgr},set:function(e){if(e!=this._mrgMgr){this._mrgMgr=asType(e,MergeManager,!0);this.invalidate()}},enumerable:!0,configurable:!0});FlexGrid.prototype.getMergedRange=function(e,t,i,o){void 0===o&&(o=!0);return this._mrgMgr?this._mrgMgr.getMergedRange(e,t,i,o):null};Object.defineProperty(FlexGrid.prototype,\"keyActionTab\",{get:function(){return this._keyHdl._kaTab},set:function(e){this._keyHdl._kaTab=asEnum(e,KeyAction)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"keyActionEnter\",{get:function(){return this._keyHdl._kaEnter},set:function(e){this._keyHdl._kaEnter=asEnum(e,KeyAction)},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"preserveWhiteSpace\",{get:function(){return hasClass(this.hostElement,FlexGrid._WJS_WSPRE)},set:function(e){toggleClass(this.hostElement,FlexGrid._WJS_WSPRE,asBoolean(e))},enumerable:!0,configurable:!0});Object.defineProperty(FlexGrid.prototype,\"showDropDown\",{get:function(){return this._shDropDown},set:function(e){if(e!=this._shDropDown){this._shDropDown=asBoolean(e,!0);this.invalidate()}},enumerable:!0,configurable:!0});FlexGrid.prototype.toggleDropDownList=function(){if(!this._tglDropDown){this._tglDropDown=!0;this._edtHdl._toggleListBox(null);this._tglDropDown=!1}return null!=this._edtHdl._lbx};Object.defineProperty(FlexGrid,\"defaultTypeWidth\",{get:function(){return FlexGrid._defTypeWidth},enumerable:!0,configurable:!0});FlexGrid.prototype.onItemsSourceChanging=function(e){this.itemsSourceChanging.raise(this,e);return!e.cancel};FlexGrid.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)};FlexGrid.prototype.onScrollPositionChanged=function(e){this.scrollPositionChanged.raise(this,e)};FlexGrid.prototype.onSelectionChanging=function(e){this.selectionChanging.raise(this,e);return!e.cancel};FlexGrid.prototype.onSelectionChanged=function(e){this.selectionChanged.raise(this,e)};FlexGrid.prototype.onLoadingRows=function(e){this.loadingRows.raise(this,e);return!e.cancel};FlexGrid.prototype.onLoadedRows=function(e){this.loadedRows.raise(this,e);this._autoRowHeights()};FlexGrid.prototype.onUpdatingLayout=function(e){this.updatingLayout.raise(this,e);return!e.cancel};FlexGrid.prototype.onUpdatedLayout=function(e){this.updatedLayout.raise(this,e)};FlexGrid.prototype.onResizingColumn=function(e){this.resizingColumn.raise(this,e);return!e.cancel};FlexGrid.prototype.onResizedColumn=function(e){this.resizedColumn.raise(this,e);this._autoRowHeights()};FlexGrid.prototype.onAutoSizingColumn=function(e){this.autoSizingColumn.raise(this,e);return!e.cancel};FlexGrid.prototype.onAutoSizedColumn=function(e){this.autoSizedColumn.raise(this,e)};FlexGrid.prototype.onStarSizedColumns=function(e){this.starSizedColumns.raise(this,e);this._autoRowHeights()};FlexGrid.prototype.onDraggingColumn=function(e){this.draggingColumn.raise(this,e);return!e.cancel};FlexGrid.prototype.onDraggingColumnOver=function(e){this.draggingColumnOver.raise(this,e);return!e.cancel};FlexGrid.prototype.onDraggedColumn=function(e){this.draggedColumn.raise(this,e)};FlexGrid.prototype.onPinningColumn=function(e){this.pinningColumn.raise(this,e);return!e.cancel};FlexGrid.prototype.onPinnedColumn=function(e){this.pinnedColumn.raise(this,e)};FlexGrid.prototype.onResizingRow=function(e){this.resizingRow.raise(this,e);return!e.cancel};FlexGrid.prototype.onResizedRow=function(e){this.resizedRow.raise(this,e)};FlexGrid.prototype.onAutoSizingRow=function(e){this.autoSizingRow.raise(this,e);return!e.cancel};FlexGrid.prototype.onAutoSizedRow=function(e){this.autoSizedRow.raise(this,e)};FlexGrid.prototype.onDraggingRow=function(e){this.draggingRow.raise(this,e);return!e.cancel};FlexGrid.prototype.onDraggingRowOver=function(e){this.draggingRowOver.raise(this,e);return!e.cancel};FlexGrid.prototype.onDraggedRow=function(e){this.draggedRow.raise(this,e)};FlexGrid.prototype.onGroupCollapsedChanging=function(e){this.groupCollapsedChanging.raise(this,e);return!e.cancel};FlexGrid.prototype.onGroupCollapsedChanged=function(e){this.groupCollapsedChanged.raise(this,e)};FlexGrid.prototype.onColumnGroupCollapsedChanging=function(e){this.columnGroupCollapsedChanging.raise(this,e);return!e.cancel};FlexGrid.prototype.onColumnGroupCollapsedChanged=function(e){this.columnGroupCollapsedChanged.raise(this,e)};FlexGrid.prototype.onSortingColumn=function(e){this.sortingColumn.raise(this,e);return!e.cancel};FlexGrid.prototype.onSortedColumn=function(e){this.sortedColumn.raise(this,e)};FlexGrid.prototype.onBeginningEdit=function(e){this._addHdl._beginningEdit(this,e);e.cancel||this.beginningEdit.raise(this,e);return!e.cancel};FlexGrid.prototype.onPrepareCellForEdit=function(e){this.prepareCellForEdit.raise(this,e)};FlexGrid.prototype.onCellEditEnding=function(e){this.cellEditEnding.raise(this,e);return!e.cancel&&!e.stayInEditMode};FlexGrid.prototype.onCellEditEnded=function(e){this.cellEditEnded.raise(this,e);this._autoRowHeights()};FlexGrid.prototype.onRowEditStarting=function(e){this._addHdl._rowEditStarting(this,e);e.cancel||this.rowEditStarting.raise(this,e);return!e.cancel};FlexGrid.prototype.onRowEditStarted=function(e){this.rowEditStarted.raise(this,e)};FlexGrid.prototype.onRowEditEnding=function(e){this._addHdl._rowEditEnding(this,e);this.rowEditEnding.raise(this,e)};FlexGrid.prototype.onRowEditEnded=function(e){this.rowEditEnded.raise(this,e);this._addHdl._rowEditEnded(this,e);this._autoRowHeights()};FlexGrid.prototype.onRowAdded=function(e){this.rowAdded.raise(this,e);return!e.cancel};FlexGrid.prototype.onDeletingRow=function(e){this.deletingRow.raise(this,e);return!e.cancel};FlexGrid.prototype.onDeletedRow=function(e){this.deletedRow.raise(this,e)};FlexGrid.prototype.onCopying=function(e){this.copying.raise(this,e);return!e.cancel};FlexGrid.prototype.onCopied=function(e){this.copied.raise(this,e)};FlexGrid.prototype.onPasting=function(e){this.pasting.raise(this,e);return!e.cancel};FlexGrid.prototype.onPasted=function(e){this.pasted.raise(this,e)};FlexGrid.prototype.onPastingCell=function(e){this.pastingCell.raise(this,e);return!e.cancel};FlexGrid.prototype.onPastedCell=function(e){this.pastedCell.raise(this,e)};FlexGrid.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)};FlexGrid.prototype.onUpdatingView=function(e){this.updatingView.raise(this,e);return!e.cancel};FlexGrid.prototype.onUpdatedView=function(e){this.updatedView.raise(this,e)};FlexGrid.prototype._createSelHdl=function(){return new _SelectionHandler(this)};FlexGrid.prototype._getTabIndex=function(){return this._orgTabIndex};FlexGrid.prototype._setTabOrder=function(e){this._orgTabIndex=e;this._updateTabIndex()};FlexGrid.prototype._updateTabIndex=function(){var e=this.isDisabled?-1:this._orgTabIndex,t=this._imeHdl;t&&t._updateImeFocus();var i=this._activeCell,o=this._root,n=this._eFocus;if(i){i.tabIndex=e;n.tabIndex=-1;o.tabIndex=-1}else if(this.selectionMode!=SelectionMode.None){n.tabIndex=e;o.tabIndex=-1}else{o.tabIndex=e;n.tabIndex=-1}};FlexGrid.prototype._autoRowHeights=function(){var e=this;if(this._autoHeights){this.rows.length>100&&[this.columnHeaders,this.rowHeaders].forEach((function(e){e._updateContent(!0,!1,e._getOffsetY())}));clearTimeout(this._toAutoHeights);this._toAutoHeights=setTimeout((function(){e._toAutoHeights=null;e.editRange||e._autoSizeRows()}),Control._REFRESH_INTERVAL)}};FlexGrid.prototype._autoSizeRows=function(){var e=this.autoSizeMode,t=AutoSizeMode;if(e&t.Headers){this._autoSizeMode=t.Both;this.autoSizeRows(0,this.columnHeaders.rows.length-1,!0);this._autoSizeMode=e}e&t.Cells&&this.autoSizeRows()};FlexGrid.prototype._getShowErrors=function(){return this.showErrors&&this._hasValidation};FlexGrid.prototype._getHasValidation=function(){return this._hasValidation};FlexGrid.prototype._getError=function(e,t,i,o){if(isFunction(this.itemValidator)){if(e==this.cells)return this.itemValidator(t,i,o);if(e==this.rowHeaders)for(i=0;i<this.columns.length;i++){if(c=this.itemValidator(t,i,o))return c}}var n=this._cv,r=n?n.getError:null;if(isFunction(r)){var l=e.rows,s=this.columns,a=l[t].dataItem;if(a&&!(a instanceof CollectionViewGroup))if(e==this.cells)for(;t<l.length&&l[t].dataItem==a;t++){return r(a,this._getBindingColumn(this.cells,t,s[i]).binding,o)}else if(e==this.rowHeaders){var c;if(!(c=r(a,null,!1))){for(var u=[];t<l.length&&l[t].dataItem==a;t++)for(i=0;i<s.length;i++){c=r(a,this._getBindingColumn(this.cells,t,s[i]).binding,!1);var d=this.getMergedRange(this.cells,t,i),h=d&&(d.columnSpan>1&&d.col<i||d.rowSpan>1&&d.row<t);c&&!h&&u.push(c)}if(u.length){var p=this.errorTip,f=!!p&&p.isContentHtml;c=u.join(f?\"<br/>\":\"\\n\")}}return c}}return null};FlexGrid.prototype._setAria=function(e,t){setAttribute(this.cells.hostElement,\"aria-\"+e,t)};FlexGrid.prototype._setFocus=function(e){if(this.hostElement){var t=getActiveElement(),i=this.activeEditor,o=this._activeCell,n=this._eFocus,r=this._root,l=this._getTabIndex(),s=this.containsFocus();if(!e&&s&&this.selectionMode!=SelectionMode.None){if(this.rows.length>0&&this.selection.row>=0&&this.selection.col>=0){var a=this._getBindingColumn(this.cells,this.selection.row,this.columns[this.selection.col]),c=a&&a._edt;!o||contains(o,t)||this.imeEnabled||c||this._correctFocusOfActiveCell(o)}}else if(e||!s){if(i){if(!contains(i,t)){i.focus();n.tabIndex=-1;r.tabIndex=-1}}else if(o)contains(o,t)||this._correctFocusOfActiveCell(o);else if(!contains(n,t)&&t!=r)if(this.selectionMode!=SelectionMode.None){n.tabIndex=l;this._setFocusNoScroll(n)}else{r.tabIndex=l;this._setFocusNoScroll(r)}if(!this.containsFocus())if(this.selectionMode!=SelectionMode.None){n.tabIndex=l;this._setFocusNoScroll(n)}else{r.tabIndex=l;this._setFocusNoScroll(r)}}}};FlexGrid.prototype._correctFocusOfActiveCell=function(e){var t=this._getTabIndex();if(getActiveElement()!=this._root){isIE()&&hasClass(e,\"wj-group\")&&(e=e.querySelector(\".\"+CellFactory._WJC_COLLAPSE)||e);e.tabIndex=t;this._setFocusNoScroll(e)}else e.tabIndex=t;this._eFocus.tabIndex=-1};FlexGrid.prototype._setFocusNoScroll=function(e){if(getActiveElement()!=e){if(supportsFocusOptions())e.focus({preventScroll:!0});else{var t=this.scrollPosition,i=e.style,o=i.position;i.position=\"fixed\";e.focus();i.position=o;this.scrollPosition=t}this._fixScroll()}};FlexGrid.prototype._clearAnchorCell=function(){this._anchorCell=null};FlexGrid.prototype._setAnchorCell=function(e,t){var i=this.getMergedRange(this.cells,e,t);this._anchorCell=i?new Point(i.col,i.row):new Point(t,e)};FlexGrid.prototype._getAnchorCell=function(){return this._anchorCell};FlexGrid.prototype._updateDefaultSizes=function(){var e=this._getDefaultRowHeight();this._rows._setDefaultSize(e);this._cols._setDefaultSize(4*e);this._hdrRows._setDefaultSize(e);this._hdrCols._setDefaultSize(Math.round(1.25*e));this._ftrRows._setDefaultSize(e);return e};FlexGrid.prototype._getDefaultRowHeight=function(){var e=this.hostElement,t=this._eFocus,i=null;if(!t.offsetHeight){i=createElement('<div><div class=\"wj-cell\">0</div></div>',document.body);e&&i.setAttribute(\"class\",e.getAttribute(\"class\"));t=i.children[0]}var o=t.offsetHeight;(isNaN(o)||o<=6)&&(o=28);removeChild(i);return o};FlexGrid.prototype._getCollectionView=function(e){return asCollectionView(e)};FlexGrid.prototype._getCanvasContext=function(){var e=document.createElement(\"canvas\").getContext(\"2d\"),t=getComputedStyle(this.hostElement);e.font=t.fontSize+\" \"+t.fontFamily.split(\",\")[0];return e};FlexGrid.prototype._getWidestRow=function(e,t,i,o){for(var n=0,r=0,l=1===this._getRowsPerItem()&&e.columns[i].dataType==DataType.Boolean,s=t.row;s<=t.row2;s++)if(e.rows[s].isVisible){var a=e.getCellData(s,i,!0),c=o.measureText(a).width,u=this.getMergedRange(e,s,i,!1);u&&u.columnSpan>1&&(c/=u.columnSpan);if(c>r){r=c;n=s}if(l)break;s+=u?u.rowSpan-1:0}return n};FlexGrid.prototype._getDesiredWidth=function(e,t,i,o){var n=this.getMergedRange(e,t,i,!1),r=o.style;this.cellFactory.updateCell(e,t,i,o,n);r.width=r.top=r.left=\"\";return o.offsetWidth/(n&&n.columnSpan>1?n.columnSpan:1)};FlexGrid.prototype._getDesiredHeight=function(e,t,i,o){var n=o.style,r=this.getMergedRange(e,t,i,!1),l=r?r.rowSpan:1;this.cellFactory.updateCell(e,t,i,o,r);o.innerHTML.trim()||(o.innerHTML=\"&nbsp;\");n.height=n.top=n.left=\"\";return o.offsetHeight/l};FlexGrid.prototype._getDesiredRowHeight=function(e,t,i,o){for(var n=0,r=(e.rows[t],this._getQuickAutoSize()),l=0;l<e.columns.length;l++){if(e.columns[l].isVisible){var s=this.getMergedRange(e,t,l,!1),a=void 0;if(r){var c={ct:e.cellType,col:l,spr:s&&s.rowSpan>1?s.rowSpan:1,spc:s&&s.columnSpan>1?s.columnSpan:1,data:e.getCellData(t,l,!0)||\"1\"},u=JSON.stringify(c);if(null==(a=o[u])){a=this._getDesiredHeight(e,t,l,i);o[u]=a}}else a=this._getDesiredHeight(e,t,l,i);n=Math.max(a,n);l+=s?s.columnSpan-1:0}}return n};FlexGrid.prototype._getSortRowIndex=function(){return null!=this._sortRowIndex?this._sortRowIndex:this.columnHeaders.rows.length-1};FlexGrid.prototype._getDeleteColumnIndex=function(){return 0};FlexGrid.prototype._getEditColumnIndex=function(){return null!=this._editColIndex?this._editColIndex:this.rowHeaders.columns.length-1};FlexGrid.prototype._sortConverter=function(e,t,i,o){var n,r=this;if(o){this._mappedColumns=null;this._cv&&this._cv.sortDescriptions.forEach((function(e){if((n=r.getColumn(e.property))&&n.dataMap){r._mappedColumns||(r._mappedColumns={});r._mappedColumns[n.binding]=n.dataMap}}));if(this._mouseHdl._htDown&&this._mouseHdl._htDown.col>-1){n=this.columns[this._mouseHdl._htDown.col];this._mappedColumns&&n.dataMap&&(this._mappedColumns[n.binding]=n.dataMap)}}if(this._mappedColumns){var l=this._mappedColumns[e.property];l&&l.sortByDisplayValues&&(i=l.getDisplayValue(i))}return i};FlexGrid.prototype._bindGrid=function(e){var t=this;this.finishEditing();this.deferUpdate((function(){t.autoGenerateColumns&&0==t._lastCount&&hasItems(t._cv)&&(e=!0);var i;t.preserveSelectedState&&(i=t._getMap())&&t.rows.forEach((function(e){e.isSelected&&e.dataItem&&i.set(e.dataItem,!0)}));var o,n=t._getMap();n&&t.rows.forEach((function(e){e.isReadOnly&&e.dataItem&&n.set(e.dataItem,!0)}));if(t.preserveOutlineState&&t.rows.maxGroupLevel>-1&&(o=t._getMap()))for(var r=0;r<t.rows.length;r++){var l=t.rows[r];if(l instanceof GroupRow&&l.isCollapsed&&l.dataItem){var s=l.dataItem;s instanceof CollectionViewGroup&&(s=s._path);o.set(s,!0)}}e&&t.columns.deferUpdate((function(){t._bindColumns()}));var a=new CancelEventArgs;if(t.onLoadingRows(a)){t.rows.deferUpdate((function(){t._bindRows()}));t.onLoadedRows(a)}t._selHdl.extendedSelection.clear();var c=0;i&&i.size&&t.rows.forEach((function(e){var t=e.dataItem;if(t&&i.has(t)){e.isSelected=!0;c++}}));n&&n.size&&t.rows.forEach((function(e){var t=e.dataItem;t&&n.has(t)&&(e.isReadOnly=!0)}));if(0==c&&t.selectionMode==SelectionMode.ListBox){var u=t.selection;for(r=u.topRow;r<=u.bottomRow&&r>-1&&r<t.rows.length;r++)t.rows[r]._setFlag(RowColFlags.Selected,!0,!0)}o&&o.size&&t.rows.deferUpdate((function(){t.rows.forEach((function(e){if(e instanceof GroupRow){var t=e.dataItem;t instanceof CollectionViewGroup&&(t=t._path);o.has(t)&&(e.isCollapsed=!0)}}))}));if(!t._lastCount){var d=t._cv;d&&d.items&&(t._lastCount=d.items.length)}}));if(this._cv){var i=e&&!this._toInv;this._syncSelection(i)}else{var o=this.selection,n=new CellRange(-1,o.col,-1,o.col2);this._selHdl._adjustSelection(n,this.selectionMode)}};FlexGrid.prototype._getMap=function(){return window.Map?new Map:null};FlexGrid.prototype._cvCollectionChanged=function(e,t){if(this.autoGenerateColumns&&0==this.columns.length)this._bindGrid(!0);else{var i=NotifyCollectionChangedAction;if(this.childItemsPath&&t.action!=i.Change)this._bindGrid(!1);else{switch(t.action){case i.Change:this.invalidate();return;case i.Add:if(t.index==this._cv.items.length-1){var o=this.rows.length;this.rows[o-1]instanceof _NewRowTemplate&&o--;this.rows.insert(o,new Row(t.item));return}assert(!1,\"added item should be the last one.\");break;case i.Remove:var n=this._findRow(t.item);if(n>-1){this.rows.removeAt(n);this._syncSelection(!1);return}assert(!1,\"removed item not found on grid.\")}this._bindGrid(!1)}}};FlexGrid.prototype._cvCurrentChanged=function(e,t){this._syncSelection(!1)};FlexGrid.prototype._syncSelection=function(e){if(this._cv&&this.selectionMode!=SelectionMode.None){var t=this._selHdl,i=t.selection,o=i.row>-1&&i.row<this.rows.length?this.rows[i.row]:null,n=o?o.dataItem:null,r=this._cv;if(r instanceof CollectionView&&r.isUpdating)return;if(this.newRowAtTop&&o instanceof _NewRowTemplate)return;n instanceof CollectionViewGroup&&(n=null);var l=this._isISChanging;if(e||n!=r.currentItem||i.row>=this.rows.length||i.row2>=this.rows.length||l&&i.row!==i.row2){var s=this.editableCollectionView;if(!this.childItemsPath||!s||!s.currentAddItem){var a=this._getRowIndex(r.currentPosition);if(a!=i.row||!this.childItemsPath){var c=l?i.col:i.col2;i=new CellRange(a,i.col,a,c);t._adjustSelection(i,this.selectionMode);this.selectionMode&&!this._updating&&this.scrollIntoView(i.row,-1)}}}}};FlexGrid.prototype._getRowIndex=function(e){if(this._cv){var t=this.rows;if(e>-1){for(var i=this._cv.items[e];e<t.length;e++)if(t[e].dataItem===i)return e;return-1}if(1==t.length&&t[0]instanceof _NewRowTemplate)return 0;var o=this.selection.row,n=o>-1?t[o]:null;return n&&(n instanceof GroupRow||null==n.dataItem)?o:-1}return this.selection.row};FlexGrid.prototype._getCvIndex=function(e){return e>-1&&e<this.rows.length?this.rows[e].dataIndex:-1};FlexGrid.prototype._findRow=function(e){for(var t=0;t<this.rows.length;t++)if(this.rows[t].dataItem==e)return t;return-1};FlexGrid.prototype._preWidth=function(){var e=this._root,t=this._hdrVis&HeadersVisibility.Row?this._hdrCols.getTotalSize():0;return e.clientWidth-t};FlexGrid.prototype._updateLayout=function(){var e=new CancelEventArgs;if(this.onUpdatingLayout(e)){var t=this._hdrVis&HeadersVisibility.Row?this._hdrCols.getTotalSize():0,i=this._hdrVis&HeadersVisibility.Column?this._hdrRows.getTotalSize():0,o=this._ftrRows.getTotalSize(),n=this._rows.getTotalSize()+o;n<1&&(n=1);this._heightReal=n;this._heightBrowser=Math.min(n,FlexGrid._getMaxSupportedCssHeight());this._maxOffsetY=Math.max(0,n-this._heightBrowser);var r=getComputedStyle(this._eFocus);this._cellPadVert=parseInt(r.paddingTop)+parseInt(r.paddingBottom);this._cellPadHorz=parseInt(r.paddingLeft)+parseInt(r.paddingRight);this._cellPadLeft=parseInt(this.rightToLeft?r.paddingRight:r.paddingLeft);var l=this._heightBrowser+i-o,s=this._gpCells.width,a=this._heightBrowser;!s&&this.rows.length&&(s=.1);!a&&this.columns.length&&(a=.1);if(this.rightToLeft){setCss(this._eTL,{right:0,top:0,width:t,height:i});setCss(this._eCHdr,{right:t,top:0,height:i});setCss(this._eRHdr,{right:0,top:i,width:t});setCss(this._eCt,{right:t,top:i,width:s,height:a});setCss(this._fCt,{right:t,top:i});setCss(this._eBL,{right:0,top:l,width:t,height:o});setCss(this._eCFtr,{right:t,top:l,height:o})}else{setCss(this._eTL,{left:0,top:0,width:t,height:i});setCss(this._eCHdr,{left:t,top:0,height:i});setCss(this._eRHdr,{left:0,top:i,width:t});setCss(this._eCt,{left:t,top:i,width:s,height:a});setCss(this._fCt,{left:t,top:i});setCss(this._eBL,{left:0,top:l,width:t,height:o});setCss(this._eCFtr,{left:t,top:l,height:o})}this._stickyHdr&&this._updateStickyHeaders();var c=this.frozenRows||this.frozenColumns?\"3\":\"\";setCss([this._eTL,this._eBL,this._eCFtr,this._eRHdr,this._eMarquee],{zIndex:c||\"1\"});setCss(this._root,{zIndex:0});setCss(this._eCHdr,{zIndex:c||\"2\"});isIE()&&(this._fCt.style.zIndex=c?\"2\":\"\");var u=this._root,d=u.offsetWidth-u.clientWidth,h=u.offsetHeight-u.clientHeight;setCss(this._eSz,{width:t+d+this._gpCells.width,height:i+h+this._heightBrowser});var p=null;if(this.columns._updateStarSizes(u.clientWidth-t)){p=u.clientWidth;setCss(this._eCt,{width:this._gpCells.width});this.onStarSizedColumns()}this._szClient=new Size(u.clientWidth-t,u.clientHeight-i);this._szClientSB=new Size(u.offsetWidth-t,u.offsetHeight-i);this._rcBounds=null;this._updateScrollHandler();this._updateContent(!1);d=u.offsetWidth-u.clientWidth;h=u.offsetHeight-u.clientHeight;setCss(this._eSz,{width:t+d+this._gpCells.width,height:i+h+this._heightBrowser});this._szClient=new Size(u.clientWidth-t,u.clientHeight-i);if(p&&p!=u.clientWidth&&this.columns._updateStarSizes(u.clientWidth-t)){setCss(this._eCt,{width:this._gpCells.width});this._updateContent(!1)}setCss([this._eCHdr,this._eCFtr,this._fCt],{width:this._szClient.width});setCss([this._eRHdr,this._fCt],{height:this._szClient.height});if(o){l=Math.min(l,this._szClient.height+i-o);setCss([this._eBL,this._eCFtr],{top:l})}this.onUpdatedLayout(e)}};FlexGrid.prototype._updateStickyHeaders=function(){var e=!1,t=0;if(this._stickyHdr){for(var i=0,o=null,n=this.hostElement;n;n=n.parentElement)if(\"inline\"!=getComputedStyle(n).display){var r=n.getBoundingClientRect();null==o&&(o=r.top);i=Math.max(i,r.top)}t=-(o=Math.max(0,i-o-1));e=o>0;this._rcBounds=null}this._eTL.style.top=this._eCHdr.style.top=e?-t+\"px\":\"\";toggleClass(this._eTL,FlexGrid._WJS_STICKY,e);toggleClass(this._eCHdr,FlexGrid._WJS_STICKY,e)};FlexGrid.prototype._updateScrollHandler=function(){this._clipToScreen=this._getClipToScreen();var e=this._stickyHdr||this._clipToScreen;if(e!=this._scrollHandlerAttached){this._scrollHandlerAttached=e;e?this.addEventListener(window,\"scroll\",this._scroll.bind(this),!0):this.removeEventListener(window,\"scroll\")}};FlexGrid.prototype._getClipToScreen=function(){if(this.rows.length<=FlexGrid._MIN_VIRT_ROWS)return!1;if(this._root.scrollHeight>this._root.clientHeight)return!1;for(var e=this.hostElement;e&&e!=document.documentElement;e=e.parentElement){if(\"auto\"==getComputedStyle(e).overflow)return!1}return!0};FlexGrid.prototype._scroll=function(e){var t=this;if(contains(e.target,this.hostElement)){if(this._clipToScreen){this._afClip&&cancelAnimationFrame(this._afClip);this._afClip=requestAnimationFrame((function(){t._afClip=null;t.finishEditing();t._updateContent(!0)}))}if(this._stickyHdr){this._afSticky&&cancelAnimationFrame(this._afSticky);this._afSticky=requestAnimationFrame((function(){t._afSticky=null;var e=new CancelEventArgs;if(t.onUpdatingLayout(e)){t._updateStickyHeaders();t.onUpdatedLayout(e)}}))}}};FlexGrid.prototype._getCssPage=function(e){if(this._heightReal>this._heightBrowser){var t=this._szClient.height-this._gpCFtr.rows.getTotalSize();if(this._heightBrowser>t)return clamp(Math.round(e/(this._heightBrowser-t)*10)/10,0,1)}return 0};FlexGrid.prototype._updateScrollPosition=function(){var e=this._root,t=e.scrollTop,i=e.scrollLeft;this.rightToLeft&&\"rev\"==FlexGrid._getRtlMode()&&(i=e.scrollWidth-e.clientWidth-i);var o=new Point(-Math.abs(i),-t);if(!this._ptScrl.equals(o)){this._ptScrl=o;this.onScrollPositionChanged();return!0}return!1};FlexGrid.prototype._updateContent=function(e,t){var i=this,o=this._root,n=this.hostElement,r=this.cells.hostElement,l=this._activeCell,s=getActiveElement(),a=contains(n,s),c=closest(s,\".wj-flexgrid\")==n?s:null,u=new CancelEventArgs;if(this.onUpdatingView(u)){if([HeadersFocusability.All,HeadersFocusability.Column].includes(this.headersFocusability)){setAttribute(this.hostElement,\"role\",this.rows.maxGroupLevel<0?\"grid\":\"treegrid\");setAttribute(this.hostElement,\"aria-label\",this.ariaLabel)}else{setAttribute(r,\"role\",this.rows.maxGroupLevel<0?\"grid\":\"treegrid\");setAttribute(r,\"aria-label\",this.ariaLabel)}this._hasValidation=isFunction(this._itemValidator)||this._cv&&isFunction(this._cv.getError);var d=!t&&this._errorTip&&this._errorTip._tips.length,h=this._getCssPage(-this._ptScrl.y);if(h!=this._cssPage){this._cssPage=h;this._offsetY=Math.round(this._maxOffsetY*h)}this._updateScrollPosition();this._updateMarquee();var p=this._gpCells._updateContent(e,t,this._offsetY),f=this._hdrVis;if(f&HeadersVisibility.Column&&(!t||this._ssHdr&f)){this._gpCHdr._updateContent(e,t,0);this.rightToLeft||(this._eCHdr.scrollLeft=0)}if(f&HeadersVisibility.Row&&(!t||this._ssHdr&f)){this._gpRHdr._updateContent(e,t,this._offsetY);this._eRHdr.scrollTop=0}f&&!t&&this._gpTL._updateContent(e,t,0);if(this._gpCFtr.rows.length){this._gpBL._updateContent(e,t,0);this._gpCFtr._updateContent(e,t,0)}if(d&&this._errorTip&&this._errorTip._tips.length){clearTimeout(this._toErrorTips);this._toErrorTips=setTimeout((function(){var e=i._errorTip;if(e){e.hide();for(var t=e._tips,o=0;o<t.length;o++){var n=t[o].element;if(!n.offsetHeight||!hasClass(n,\"wj-state-invalid\")){e.setTooltip(n,null);o--}}}}),250)}if(this._useFrozenDiv()){this._updateFrozenCells(t);p&&hasClass(p,\"wj-frozen\")&&(p=null)}this._fCt.style.display=this._fCt.childElementCount?\"\":\"none\";this._activeCell=p;if(c)if(c!=o&&c!=this._eFocus&&contains(n,c)&&!contains(r,c)){getActiveElement()!==c&&c.focus();if(isIE()&&c instanceof HTMLInputElement&&!c.type.match(/checkbox|radio|range/i)){var g=c.selectionStart,_=c.selectionEnd;c.setSelectionRange(g,_)}}else{var m=p!==l;this._setFocus(m)}!c&&p&&(p.tabIndex=this.isDisabled?-1:this._orgTabIndex);l&&l!=p&&(l.tabIndex=-1);if(this.selectionMode!=SelectionMode.None)this._eFocus.tabIndex=null!=p||this.isDisabled?-1:this._orgTabIndex;else{this._eFocus.tabIndex=-1;this._root.tabIndex=null!=p||this.isDisabled?-1:this._orgTabIndex}a&&this.focus();this._fixScroll();this._rcBounds=null;this.onUpdatedView(u)}};FlexGrid.prototype._fixScroll=function(){var e=this._root;if(!this._updating){var t=this.hostElement,i=e?e.parentElement:null,o=this.rightToLeft;if(t){t.scrollTop&&(t.scrollTop=0);t.scrollLeft&&!o&&(t.scrollLeft=0)}if(i){i.scrollTop&&(i.scrollTop=0);i.scrollLeft&&!o&&(i.scrollLeft=0)}}var n=_getSafariVer();if(e&&n&&14==n.major&&n.minor>=1){e.style.transform=\"\";e.style.transform=\"translateZ(0)\"}};FlexGrid.prototype._clearCells=function(){for(var e in this)if(\"_\"==e[0]){var t=this[e];t instanceof GridPanel&&t._clearCells()}this.invalidate()};FlexGrid.prototype._useFrozenDiv=function(){return isBoolean(this._fzClone)?this._fzClone:isIE()||isFirefox()||isSafari()||isMobile()};FlexGrid.prototype._updateFrozenCells=function(e){var t=this._fCt;if(this.frozenRows||this.frozenColumns){var i=this._eCt.querySelectorAll(\".wj-frozen\");if(e&&t.children.length==i.length){for(var o=0;o<i.length;o++)t.children[o].className=i[o].className;return}setText(t,null);if(!this.activeEditor){var n=this._errorTip,r=navigator.userAgent.indexOf(\"MSIE\")>=0;for(o=0;o<i.length;o++){var l=i[o];if(closest(l,\".wj-flexgrid\")==this.hostElement){var s=l[GridPanel._INDEX_KEY],a=l.firstElementChild,c=null;if(s&&a){var u=s.panel,d=this._getBindingColumn(u,s.row,u.columns[s.col]);c=isFunction(d.cellTemplate)?a.onclick:null}if(r){var h=\"input[type=checkbox]\",p=l.querySelector(h);l=l.cloneNode(!0);if(p){l.querySelector(h).checked=p.checked}}else l=l.cloneNode(!0);a=l.firstElementChild;c&&a&&(a.onclick=c);l[GridPanel._INDEX_KEY]=s;if(n){var f=n.getTooltip(i[o]);f&&n.setTooltip(l,f)}t.appendChild(l)}}}}else setText(t,null)};FlexGrid.prototype._updateMarquee=function(){var e=this._eMarquee,t=this._getMarqueeRect();if(t&&t.width&&t.height){var i=e.firstChild,o=e.offsetWidth-i.offsetWidth,n=e.offsetHeight-i.offsetHeight,r=this.cells.hostElement;setCss(e,{left:t.left+r.offsetLeft-o/2,top:t.top+r.offsetTop-n/2,width:t.width+o,height:t.height+n,display:\"\"})}else e.style.display=\"none\"};FlexGrid.prototype._hideMarquee=function(){var e=this._eMarquee;setCss(e,{display:\"none\"})};FlexGrid.prototype._getMarqueeRect=function(){if(!this._shMarquee||!this.selectionMode)return null;var e=this._selHdl.selection;if(!this.isRangeValid(e))return null;e=(e=(e=this.cells._getAdjustedSelection(e)).combine(this.getMergedRange(this.cells,e.topRow,e.leftCol,!1))).combine(this.getMergedRange(this.cells,e.bottomRow,e.rightCol,!1));var t=this.cells.getCellBoundingRect(e.topRow,e.leftCol,!0),i=this.cells.getCellBoundingRect(e.bottomRow,e.rightCol,!0);if(this.rows.frozen){var o=Math.min(this.rows.length,this.rows.frozen),n=this.cells.getCellBoundingRect(o-1,0,!0);e.topRow>=o&&t.top<n.bottom&&(t.top=n.bottom);e.bottomRow>=o&&i.bottom<n.bottom&&(i.height=n.bottom-i.top)}if(this.columns.frozen){var r=Math.min(this.columns.length,this.columns.frozen);n=this.cells.getCellBoundingRect(0,r-1,!0);if(this.rightToLeft){e.leftCol>=r&&t.right>n.left&&(t.left=n.left-t.width);e.rightCol>=r&&i.left>n.left&&(i.left=n.left)}else{e.leftCol>=r&&t.left<n.right&&(t.left=n.right);e.rightCol>=r&&i.right<n.right&&(i.width=n.right-i.left)}}return this.rightToLeft?new Rect(i.left,t.top,t.right-i.left,i.bottom-t.top):new Rect(t.left,t.top,i.right-t.left,i.bottom-t.top)};FlexGrid.prototype._bindColumns=function(){for(var e=this.columns,t=0;t<e.length;t++){if(e[t]._getFlag(RowColFlags.AutoGenerated)){e.removeAt(t);t--}}var i=this._cv,o=i?i.items:null;o&&o.length&&this.autoGenerateColumns&&this._getColumnTypes(o).forEach((function(t){var i=new Column(t);i._setFlag(RowColFlags.AutoGenerated,!0);i.name=i.binding;i.header=toHeaderCase(i.binding);var o=FlexGrid._defTypeWidth[i.dataType];if(null!=o){if(isString(o)){var n=Math.round(parseFloat(o));o=o.indexOf(\"*\")>-1?n*e.defaultSize:n}isNumber(o)&&o>0&&(i.width=o)}e.push(i)}));this._updateColumnTypes()};FlexGrid.prototype._getColumnTypes=function(e){return getTypes(e)};FlexGrid.prototype._updateColumnTypes=function(){var e=this._cv;if(hasItems(e)){var t=e.items[0];this.columns.forEach((function(e){null==e.dataType&&e._binding&&(e.dataType=getType(e._binding.getValue(t)))}))}};FlexGrid.prototype._getMapEditor=function(e,t){return t.editor?null!=t.editor.isDroppedDown?t.dataMapEditor:null:!e.dataMap||e instanceof GroupRow?t.dataMap?t.dataMapEditor:null:e.dataMapEditor};FlexGrid.prototype._getBindingColumn=function(e,t,i){return i};FlexGrid.prototype._getBindingColumns=function(){return this.columns};FlexGrid.prototype._getRowsPerItem=function(){return 1};FlexGrid.prototype._isTransposed=function(){return!1};FlexGrid.prototype._getRowHeaderPath=function(){return this._rowHdrPath};FlexGrid.prototype._bindRows=function(){this.rows.clear();var e=this._cv;if(e&&e.items){var t=e.items,i=e.groups;if(this.childItemsPath)for(var o=0;o<t.length;o++)this._addNode(t,o,0);else if(null!=i&&i.length>0&&this.showGroups)for(o=0;o<i.length;o++)this._addGroup(i[o]);else for(o=0;o<t.length;o++)this._addBoundRow(t,o)}};FlexGrid.prototype._addBoundRow=function(e,t){var i=new Row(e[t]),o=this.rows;i._list=o;o[o.length++]=i};FlexGrid.prototype._addGroupRow=function(e){this.rows.push(new GroupRow(e))};FlexGrid.prototype._addNode=function(e,t,i){var o=e[t],n=this.childItemsPath,r=o[isArray(n)?n[i]:n],l=new GroupRow(o);l.level=i;this.rows.push(l);if(isArray(r))for(var s=0;s<r.length;s++)this._addNode(r,s,i+1)};FlexGrid.prototype._addGroup=function(e){this._addGroupRow(e);if(e.isBottomLevel)for(var t=e.items,i=0;i<t.length;i++)this._addBoundRow(t,i);else for(i=0;i<e.groups.length;i++)this._addGroup(e.groups[i])};FlexGrid._getSerializableProperties=function(e){var t=[];for(e=e.prototype;e!=Object.prototype;e=Object.getPrototypeOf(e))for(var i=Object.getOwnPropertyNames(e),o=0;o<i.length;o++){var n=i[o],r=Object.getOwnPropertyDescriptor(e,n);r&&r.set&&r.get&&\"_\"!=n[0]&&!n.match(/^(disabled|required|showDropDown)$/)&&t.push(n)}return t};FlexGrid.prototype._hasColumnGroups=function(){return this._grpHdl.hasColumnGroups()};FlexGrid.prototype._getColumnGroup=function(e,t){return this._grpHdl.getColumnGroup(e,t)};FlexGrid.prototype._canMoveColumnGroup=function(e,t,i,o){return this._grpHdl.canMoveColumnGroup(e,t,i,o)};FlexGrid.prototype._moveColumnGroup=function(e,t,i,o,n){return this._grpHdl.moveColumnGroup(e,t,i,o,n)};FlexGrid.prototype._copy=function(e,t){var i=this;if(\"columns\"==e){var o=asArray(t);if(o.some((function(e){return null!=e.columns})))this.columnGroups=o;else{this.columns.clear();o.forEach((function(e){var t=new Column(e);i.columns.push(t)}))}return!0}return!1};FlexGrid.prototype._isInputElement=function(e){return e instanceof HTMLElement&&!hasClass(e,\"wj-btn-glyph\")&&(\"true\"==e.contentEditable||null!=e.tagName.match(/^(INPUT|TEXTAREA|BUTTON|A|SELECT|OPTION)$/i))};FlexGrid.prototype._isNativeCheckbox=function(e){return e instanceof HTMLInputElement&&\"checkbox\"==e.type&&!e.disabled&&!e.readOnly&&hasClass(e,CellFactory._WJC_CHECKBOX)&&closest(e,\".wj-flexgrid\")==this.hostElement};FlexGrid.prototype._wantsInput=function(e){return this._isInputElement(e)&&!this.activeEditor&&!this._isNativeCheckbox(e)&&!hasClass(e,\"wj-grid-ime\")&&contains(document.body,e)};FlexGrid._getMaxSupportedCssHeight=function(){if(!FlexGrid._maxCssHeight){var e=265e5;isIE()?e=15e5:isFirefox()&&(e=175e5);FlexGrid._maxCssHeight=e}return FlexGrid._maxCssHeight};FlexGrid._getRtlMode=function(){if(!FlexGrid._rtlMode){var e=createElement('<div dir=\"rtl\"><div></div></div>');setCss(e,{visibility:\"hidden\",width:100,height:100,overflow:\"auto\"});setCss(e.firstChild,{width:2e3,height:2e3});document.body.appendChild(e);var t=e.scrollLeft;e.scrollLeft=-1e3;var i=e.scrollLeft;removeChild(e);FlexGrid._rtlMode=i<0?\"neg\":t>0?\"rev\":\"std\"}return FlexGrid._rtlMode};FlexGrid.prototype.getEmptyRequiredCell=function(e){if(e>=0)for(var t=0;t<this.columns.length;t++){var i=this.getCellData(e,t,!1);if(this.columns[t].getIsRequired(this.rows[e])&&(\"\"===i||null==i))return t}return null};FlexGrid._WJS_STICKY=\"wj-state-sticky\";FlexGrid._WJS_MEASURE=\"wj-state-measuring\";FlexGrid._WJS_UPDATING=\"wj-state-updating\";FlexGrid._WJS_WSPRE=\"wj-whitespace-pre\";FlexGrid._MIN_VIRT_ROWS=200;FlexGrid._defTypeWidth=((_a={})[DataType.Number]=\"0.714285714*\",_a);FlexGrid.controlTemplate='<div>  <div wj-part=\"ch\"><div wj-part=\"chcells\" class=\"wj-colheaders\"></div></div><div wj-part=\"root\"><div wj-part=\"cells\" class=\"wj-cells\"></div><div wj-part=\"marquee\" class=\"wj-marquee\"><div></div></div></div><div wj-part=\"fcells\" aria-hidden=\"true\" class=\"wj-cells wj-frozen-clone\"></div><div wj-part=\"rh\"><div wj-part=\"rhcells\" class=\"wj-rowheaders\"></div></div><div wj-part=\"cf\"><div wj-part=\"cfcells\" class=\"wj-colfooters\"></div></div><div wj-part=\"bl\"><div wj-part=\"blcells\" class=\"wj-bottomleft\"></div></div><div wj-part=\"tl\"><div wj-part=\"tlcells\" class=\"wj-topleft\"></div></div><div wj-part=\"focus\" class=\"wj-cell\">0</div><div wj-part=\"sz\"></div></div>';return FlexGrid}(Control);export{FlexGrid};var _ImeHandler=function(){function _ImeHandler(e){var t=this;this._updateImeFocusAsyncBnd=this._updateImeFocusAsync.bind(this);this._cmpstartBnd=this._compositionstart.bind(this);this._keypressBnd=this._keypress.bind(this);this._g=e;var i=createElement('<textarea class=\"wj-grid-editor wj-form-control wj-grid-ime\" aria-hidden=\"true\"/>');setCss(i,_ImeHandler._cssHidden);disableAutoComplete(i);i.tabIndex=-1;this._tbx=i;this._maskProvider=new _MaskProvider(i);e._root.appendChild(i);this._updateImeFocus();var o=e.hostElement,n=e.addEventListener.bind(e),r=this._updateImeFocusAsyncBnd;n(o,\"blur\",r,!0);n(o,\"focus\",r,!0);n(i,\"compositionstart\",this._cmpstartBnd);isiOS()&&n(o,\"keypress\",this._keypressBnd);e.selectionChanged.addHandler(r,this);e.cellEditEnded.addHandler(this._cellEditEnded,this);e.cellEditEnding.addHandler(this._cellEditEnding,this);n(o,\"mousedown\",(function(t){closest(getActiveElement(),\".wj-flexgrid\")==e.hostElement&&e.hitTest(t).panel==e.cells&&hasClass(e.hitTest(t).target,\"wj-cell\")&&t.preventDefault()}));e.gotFocus.addHandler((function(){return t._updateImeFocus()}))}_ImeHandler.prototype.dispose=function(){var e=this._g,t=e.hostElement,i=this._tbx,o=e.removeEventListener.bind(e),n=this._updateImeFocusAsyncBnd;o(t,\"blur\",n);o(t,\"focus\",n);o(t,\"keypress\",this._keypressBnd);o(i,\"compositionstart\",this._cmpstartBnd);e.selectionChanged.removeHandler(n);e.cellEditEnded.removeHandler(this._cellEditEnded);e.cellEditEnding.removeHandler(this._cellEditEnding);removeChild(i)};_ImeHandler.prototype._compositionstart=function(e){var t=this,i=this._g;if(!i.activeEditor){var o=i._selHdl.selection;if(i.startEditing(!1,o.row,o.col,!1,e)){if(i.activeEditor&&\"checkbox\"!=i.activeEditor.type){o=i.editRange;var n=i._getBindingColumn(i.cells,o.row,i.columns[o.col]),r=n&&n._edt,l=i.activeEditor,s=this._tbx,a=i.cells.hostElement,c=i.columns[o.col].pos+a.offsetLeft,u=i.rows[o.row].pos+a.offsetTop,d=i.getCellBoundingRect(o.row,o.col),h=i.cells.getCellElement(o.row,o.col);d.width=h.offsetWidth;d.height=h.offsetHeight;o.row<i.frozenRows&&(u+=i._root.scrollTop);o.col<i.frozenColumns&&(c+=i._root.scrollLeft);var p=h.querySelector(\".wj-btn.wj-right\");p&&(d.width-=p.offsetWidth);\"minLength,maxLength,pattern\".split(\",\").forEach((function(e){setAttribute(s,e,l.getAttribute(e))}));var f=l instanceof HTMLTextAreaElement;setAttribute(s,\"wrap\",f?\"soft\":\"off\");var g=getComputedStyle(h),_=g.paddingTop;if(o.rowSpan>1&&!f){var m=parseFloat(g.lineHeight);isNaN(m)&&(m=1.2*parseFloat(g.fontSize));_=Math.max(0,(d.height-m)/2)+\"px\"}var C={position:\"absolute\",left:c,top:u,width:d.width-1,height:d.height-1,paddingTop:_,paddingLeft:g.paddingLeft,paddingRight:g.paddingRight,textAlign:g.textAlign,zIndex:h.style.zIndex};if(i.rightToLeft){C.right=parseInt(h.style.right)+parseInt(i.cells.hostElement.style.right);C.left=\"\"}setCss(s,C);if(r){var w=r._tbx.getBoundingClientRect(),v=s.getBoundingClientRect(),y=window.getComputedStyle(s),b=parseFloat(y.left),R=parseFloat(y.right),E=parseFloat(y.top);i.rightToLeft?setCss(s,{right:R+v.right-w.right+\"px\",top:E+w.top-v.top+\"px\",width:w.width+\"px\",height:w.height+\"px\"}):setCss(s,{left:b+w.left-v.left+\"px\",top:E+w.top-v.top+\"px\",width:w.width+\"px\",height:w.height+\"px\"})}i._edtHdl._edt=s;s.select();var x=l.value;setTimeout((function(){\"\"!=s.value&&\" \"!=s.value||(s.value=x);setSelectionRange(s,s.value.length)}),20);s.placeholder=l.placeholder;l.placeholder=\"\";l.value=\"\"}}else{this._tbx.blur();setTimeout((function(){t._tbx.focus();i._setFocusNoScroll(i.hostElement)}),20)}}};_ImeHandler.prototype._cellEditEnding=function(){var e=this._maskProvider;e&&e.mask&&e._valueChanged()};_ImeHandler.prototype._cellEditEnded=function(){var e=this._tbx,t=this._g;if(this._enableIme()){var i=getActiveElement();i.blur();if(t._isScrollingByWheel)setTimeout((function(){i.focus();t._setFocusNoScroll(t.hostElement);i.focus()}),20);else{i.focus();t._setFocusNoScroll(t.hostElement);i.focus()}}e.value=\"\";setCss(e,_ImeHandler._cssHidden);this._updateImeFocus()};_ImeHandler.prototype._keypress=function(e){if(!e.defaultPrevented&&e.target==this._tbx&&!(e.ctrlKey||e.altKey||e.metaKey||27==e.keyCode||this._g.activeEditor)){this._tbx.value=\"\";this._compositionstart(e);e.stopPropagation()}};_ImeHandler.prototype._updateImeFocus=function(){var e=this._g,t=this._tbx,i=getActiveElement(),o=e._getTabIndex();if(e.activeEditor||closest(i,\".wj-flexgrid\")!=e.hostElement)(e.isDisabled||o<0)&&t.tabIndex>=0&&(t.tabIndex=-1);else if(this._enableIme()&&!e._wantsInput(i)){if(i!=t){e.activeCell&&(e.activeCell.tabIndex=-1);t.tabIndex=o;t.disabled=!1;t.value=\"\";if(!e.isTouching)if(window&&window.top!=window.self){setSelectionRange(t,0,0,!1);e._setFocusNoScroll(t)}else{setSelectionRange(t,0);t.focus()}}var n=e._selHdl.selection,r=n.isValid?e._getBindingColumn(e.cells,n.row,e.columns[n.col]):null;this._maskProvider.mask=r?r.mask:null}else{t.tabIndex=-1;t.disabled=!0;t.value=\"\";if(i==t){t.blur();var l=e.activeCell;if(l){l.tabIndex=o;l.focus()}else e.focus()}}};_ImeHandler.prototype._updateImeFocusAsync=function(){var e=this;this._toFocus&&clearTimeout(this._toFocus);this._toFocus=setTimeout((function(){e._toFocus=null;e._updateImeFocus()}),100)};_ImeHandler.prototype._resetTabIndex=function(){this._tbx.tabIndex=-1};_ImeHandler.prototype._enableIme=function(){var e=this._g,t=e._selHdl.selection;if(!e.canEditCell(t.row,t.col))return!1;var i=t.isValid?e._getBindingColumn(e.cells,t.row,e.columns[t.col]):null;return!(!i||i.dataType==DataType.Boolean)&&(!i||!i.dataMap||i.dataMapEditor!=DataMapEditor.RadioButtons)};_ImeHandler._cssHidden={position:\"fixed\",width:\"1px\",left:-32e3,top:-32e3,overflow:\"hidden\"};return _ImeHandler}();export{_ImeHandler};var _AddNewHandler=function(){function _AddNewHandler(e){this._nrt=new _NewRowTemplate;this._top=!1;this._keydownBnd=this._keydown.bind(this);this._committing=!1;this._pasting=!1;this._g=e;this._attach()}Object.defineProperty(_AddNewHandler.prototype,\"newRowAtTop\",{get:function(){return this._top},set:function(e){if(e!=this.newRowAtTop){this._top=asBoolean(e);this.updateNewRowTemplate();var t=this._g;if(this._top&&t.selectionMode==SelectionMode.ListBox){t.rows.forEach((function(e,t){e._setFlag(RowColFlags.Selected,0==t,!0)}));t.select(0,t.selection.col)}}},enumerable:!0,configurable:!0});_AddNewHandler.prototype.updateNewRowTemplate=function(){var e=this._g,t=e.editableCollectionView,i=e.rows,o=this._nrt,n=t&&t.canAddNew&&e.allowAddNew&&!e.isReadOnly,r=i.indexOf(o),l=this._top?0:i.length-1,s=!1;if(!n&&r>-1){var a=e.selection;a.row==r&&e.select(a.row-1,a.col);i.removeAt(r)}else if(n){if(r<0)s=!0;else if(r!=l){i.removeAt(r);s=!0}s&&(this._top?i.insert(0,o):i.push(o));if(o){o._ubv=null;o._setFlag(RowColFlags.ParentCollapsed,!1);this._top&&e.selectionMode==SelectionMode.ListBox||o._setFlag(RowColFlags.Selected,!1)}}};_AddNewHandler.prototype._attach=function(){var e=this._g;if(e){e.pasting.addHandler(this._pastingData,this);e.pasted.addHandler(this._pastedData,this);e.loadedRows.addHandler(this.updateNewRowTemplate,this);e.hostElement.addEventListener(\"keydown\",this._keydownBnd,!0)}};_AddNewHandler.prototype._detach=function(){var e=this._g;if(e){e.pasting.removeHandler(this._pastingData,this);e.pasted.removeHandler(this._pastedData,this);e.loadedRows.removeHandler(this.updateNewRowTemplate);e.hostElement.removeEventListener(\"keydown\",this._keydownBnd,!0)}};_AddNewHandler.prototype._keydown=function(e){if(!e.defaultPrevented&&e.keyCode==Key.Escape&&null==this._g.activeEditor&&this._top&&this._nrt.dataItem){this._nrt.dataItem=null;this._g.invalidate()}};_AddNewHandler.prototype._beginningEdit=function(e,t){if(!t.cancel){var i=e.rows[t.row];i instanceof _NewRowTemplate&&this._handleEditStarting(e,t,i)}};_AddNewHandler.prototype._pastingData=function(e,t){t.cancel||(this._pasting=!0)};_AddNewHandler.prototype._pastedData=function(e,t){this._pasting=!1};_AddNewHandler.prototype._rowEditStarting=function(e,t){if(this._pasting){var i=e.rows[t.row];i instanceof _NewRowTemplate&&this._handleEditStarting(e,t,i)}};_AddNewHandler.prototype._rowEditEnding=function(e,t){var i=e.editableCollectionView,o=this._nrt.dataItem;if(i&&this._top&&o&&!t.cancel){var n=i.currentAddItem;if(!(n&&n==o)){n=i.addNew();for(var r in o)n[r]=o[r]}}};_AddNewHandler.prototype._rowEditEnded=function(e,t){var i=this,o=e.editableCollectionView;if(o&&!this._committing)if(this._top){if(t.cancel)return;var n=this._nrt.dataItem;if(n){this._committing=!0;this._nrt.dataItem=null;var r=this._g.rows,l=o.items.indexOf(n)+1;l<r.length&&t._rng.setRange(l,-1);e.onRowAdded(t)?o.commitNew():o.cancelNew();this._committing=!1}var s=e.rows[t.row];setTimeout((function(){s instanceof _NewRowTemplate&&e.select(0,e.columns.firstVisibleIndex);i.updateNewRowTemplate()}),20)}else o.isAddingNew&&o.commitNew()};_AddNewHandler.prototype._handleEditStarting=function(e,t,i){var o=e.editableCollectionView;if(o&&o.canAddNew)if(this._top)if(null==this._nrt.dataItem){var n=null,r=o.sourceCollection,l=o.newItemCreator;n=isFunction(l)?l():r&&r.length?new r[0].constructor:{};this._nrt.dataItem=n}else o.currentAddItem&&(e.onRowAdded(t)||o.cancelNew());else{n=o.currentAddItem&&o.currentAddItem==i.dataItem?o.currentAddItem:o.addNew();o.moveCurrentTo(n);var s=this._nrt.isSelected;this.updateNewRowTemplate();s&&t.row>-1&&(e.rows[t.row].isSelected=!0);e.isUpdating||e.refresh(!0);e.onRowAdded(t)||o.cancelNew()}};return _AddNewHandler}();export{_AddNewHandler};var _NewRowTemplate=function(e){__extends(_NewRowTemplate,e);function _NewRowTemplate(){return null!==e&&e.apply(this,arguments)||this}return _NewRowTemplate}(Row);export{_NewRowTemplate};export var AllowMerging;!function(e){e[e.None=0]=\"None\";e[e.Cells=1]=\"Cells\";e[e.ColumnHeaders=2]=\"ColumnHeaders\";e[e.RowHeaders=4]=\"RowHeaders\";e[e.AllHeaders=6]=\"AllHeaders\";e[e.All=7]=\"All\"}(AllowMerging||(AllowMerging={}));var MergeManager=function(){function MergeManager(e){null!=e&&console.error('** WARNING: the \"grid\" parameter has been deprecated. Please remove it.')}MergeManager.prototype.getMergedRange=function(e,t,i,o){void 0===o&&(o=!0);var n=e.grid,r=e.cellType,l=e.columns,s=e.rows,a=s[t],c=l[i];if(a instanceof _NewRowTemplate)return null;if(!(a instanceof Row&&c instanceof Column))return null;if(e==n.columnHeaders){var u=n._getColumnGroup(t,i);if(u){var d=u._rng,h=e.columns;if(h.isFrozen(d.col)!=h.isFrozen(d.col2)){d=d.clone();h.isFrozen(i)?d.col2=h.frozen-1:d.col=h.frozen}return d}}if(n.showGroups&&!n.childItemsPath&&a instanceof GroupRow&&a.dataItem instanceof CollectionViewGroup&&r==CellType.Cell){d=new CellRange(t,i);if(c.aggregate==Aggregate.None){for(;d.col>0&&l[d.col-1].aggregate==Aggregate.None&&d.col!=l.frozen;)d.col--;for(;d.col2<l.length-1&&l[d.col2+1].aggregate==Aggregate.None&&d.col2+1!=l.frozen;)d.col2++}for(;d.col<i&&!l[d.col].visible;)d.col++;return d.isSingleCell?null:d}var p=!1,f=AllowMerging,g=CellType;switch(n.allowMerging){case f.None:p=!0;break;case f.Cells:p=r!=g.Cell;break;case f.ColumnHeaders:p=r!=g.ColumnHeader&&r!=g.TopLeft;break;case f.RowHeaders:p=r!=g.RowHeader&&r!=g.TopLeft;break;case f.AllHeaders:p=r==g.Cell}if(p)return null;if(r==g.Cell){var _=n.editableCollectionView,m=_?_.currentAddItem:null;if(m&&a.dataItem==m)return null}if(l[i].allowMerging){d=new CellRange(t,i);var C=e._vrb,w=0,v=s.length-1;if(t>=s.frozen){if(o&&(r==CellType.Cell||r==CellType.RowHeader)&&n._vtRows<s.length&&C){w=C.topRow;v=C.bottomRow}}else s.length>s.frozen&&(v=s.frozen-1);for(var y=t-1;y>=w&&this._mergeCell(e,y,i,t,i);y--)d.row=y;for(var b=t+1;b<=v&&this._mergeCell(e,t,i,b,i);b++)d.row2=b;for(;d.row<t&&!s[d.row].visible;)d.row++;if(!d.isSingleCell)return d}if(s[t].allowMerging){d=new CellRange(t,i),C=e._vrb;var R=0,E=l.length-1;if(i>=l.frozen){if(o&&(r==CellType.Cell||r==CellType.ColumnHeader)&&n._vtCols<l.length&&C){R=C.leftCol;E=C.rightCol}}else E=l.frozen-1;for(var x=i-1;x>=R&&this._mergeCell(e,t,x,t,i);x--)d.col=x;for(var S=i+1;S<=E&&this._mergeCell(e,t,i,t,S);S++)d.col2=S;for(;d.col<i&&!l[d.col].visible;)d.col++;if(!d.isSingleCell)return d}return null};MergeManager.prototype._mergeCell=function(e,t,i,o,n){var r=e.rows[t],l=e.rows[o];if(!r||!l)return!1;if(r instanceof GroupRow||r instanceof _NewRowTemplate||l instanceof GroupRow||l instanceof _NewRowTemplate)return!1;var s=e.grid.editableCollectionView,a=s?s.currentAddItem:null;if(a&&(r.dataItem==a||l.dataItem==a))return!1;if(t!=o&&e.rows.isFrozen(t)!=e.rows.isFrozen(o))return!1;if(i!=n&&e.columns.isFrozen(i)!=e.columns.isFrozen(n))return!1;if(t!=o){if(i>0&&(r.allowMerging&&this._mergeCell(e,t,i-1,t,i)||l.allowMerging&&this._mergeCell(e,o,i-1,o,i)))return!1;if(n<e.columns.length-1&&(r.allowMerging&&this._mergeCell(e,t,n,t,n+1)||l.allowMerging&&this._mergeCell(e,o,n,o,n+1)))return!1}return e.getCellData(t,i,!0)==e.getCellData(o,n,!0)};return MergeManager}();export{MergeManager};var HitTestInfo=function(){function HitTestInfo(e,t){this._row=-1;this._col=-1;this._edge=0;var i;if(t instanceof Element){if(closest(t,\".wj-flexgrid\")!=e.hostElement)return;e=t;this._target=t}if(!(e instanceof Element)||e instanceof FlexGrid){if(e instanceof FlexGrid){this._target=e.hostElement;i=this._g=e}else{if(!(e instanceof GridPanel))throw\"First parameter should be a FlexGrid or GridPanel.\";this._target=e.hostElement;this._p=e;i=this._g=this._p.grid}if(t instanceof MouseEvent){this._target=t.target;\"mousedown\"==t.type&&(i._rcBounds=null)}t=mouseToPage(t);this._pt=t.clone();var o=i.controlRect,n=i._szClient,r=i.topLeftCells,l=i._eTL,s=i.headersVisibility,a=HeadersVisibility,c=s&a.Row?r.columns.getTotalSize():0,u=s&a.Column?r.rows.getTotalSize():0,d=s&a.Column?u+l.offsetTop:0,h=i._eBL,p=h.offsetHeight,f=getComputedStyle(i.hostElement),g=f&&f.borderLeftWidth?parseFloat(f.borderLeftWidth):0,_=f&&f.borderTopWidth?parseFloat(f.borderTopWidth):0;t.x-=o.left-g;t.y-=o.top-_;i.rightToLeft&&(t.x=o.width-t.x);this._p||t.x>=0&&t.y>=l.offsetTop&&n&&t.x<=n.width+c&&t.y<=n.height+u&&(t.y<d?this._p=t.x<c?i.topLeftCells:i.columnHeaders:t.y<h.offsetTop?this._p=t.x<c?i.rowHeaders:i.cells:this._p=t.x<c?i.bottomLeftCells:i.columnFooters);if(null!=this._p){var m=this._p.rows,C=this._p.columns,w=this._p.cellType,v=CellType,y=this._p._getFrozenPos(),b=w==v.TopLeft||w==v.ColumnHeader?u:w==v.BottomLeft||w==v.ColumnFooter?p:m.getTotalSize(),R=w==v.TopLeft||w==v.BottomLeft||w==v.RowHeader?c:C.getTotalSize();if(w==v.RowHeader||w==v.Cell){t.y-=u;if(t.y>y.y||y.y<=0){t.y-=i._ptScrl.y;t.y+=this._p._getOffsetY()}}else w!=v.BottomLeft&&w!=v.ColumnFooter||(t.y-=h.offsetTop);if(w==v.ColumnHeader||w==v.Cell||w==v.ColumnFooter){t.x-=c;(t.x>y.x||y.x<=0)&&(t.x-=i._ptScrl.x)}w!=v.ColumnHeader&&w!=v.TopLeft||(t.y-=d-u);this._edge=0;var E=HitTestInfo._SZEDGE[this._g.isTouching?1:0];if(this._g.isTouching){E=HitTestInfo._SZEDGE[1];t.x-=E/2}this._row=t.y>b?-1:m.getItemAt(t.y);this._col=t.x>R?-1:C.getItemAt(t.x);if(this._row<0||this._col<0){this._p=null;return}if(this._col>-1){var x=C[this._col];t.x-x.pos<=E&&(this._edge|=1);var S=x.pos+x.renderSize-t.x;if(S<=E){this._edge|=4;S<=E/2&&(this._edge|=16)}}if(this._row>-1){var H=m[this._row];t.y-H.pos<=E&&(this._edge|=2);var M=H.pos+H.renderSize-t.y;if(M<=E){this._edge|=8;M<=E/2&&(this._edge|=32)}}}}else{var F=closest(e,\".wj-cell\"),T=F?F[GridPanel._INDEX_KEY]:null;if(T){this._target=e;this._row=T.row;this._col=T.col;this._rng=T.rng;this._p=T.panel;this._g=T.panel.grid}}}Object.defineProperty(HitTestInfo.prototype,\"point\",{get:function(){return this._pt},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,\"cellType\",{get:function(){return this._p?this._p.cellType:CellType.None},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,\"panel\",{get:function(){return this._p},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,\"grid\",{get:function(){return this._p?this._p.grid:null},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,\"row\",{get:function(){return this._row},enumerable:!0,configurable:!0});HitTestInfo.prototype.getRow=function(){return this._p&&this._row>-1?this._p.rows[this._row]:null};Object.defineProperty(HitTestInfo.prototype,\"col\",{get:function(){return this._col},enumerable:!0,configurable:!0});HitTestInfo.prototype.getColumn=function(e){var t=this._p,i=t&&this._col>-1?t.columns[this._col]:null;if(i&&e){var o=t.grid;i=t.cellType===CellType.ColumnHeader&&o._hasColumnGroups()?o._getColumnGroup(this._row,this._col):o._getBindingColumn(t,this._row,i)}return i};Object.defineProperty(HitTestInfo.prototype,\"range\",{get:function(){this._rng||(this._rng=new CellRange(this._row,this._col));return this._rng},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,\"edgeLeft\",{get:function(){return 0!=(1&this._edge)},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,\"edgeTop\",{get:function(){return 0!=(2&this._edge)},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,\"edgeRight\",{get:function(){return 0!=(4&this._edge)},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,\"edgeFarRight\",{get:function(){return 0!=(16&this._edge)},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,\"edgeBottom\",{get:function(){return 0!=(8&this._edge)},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,\"edgeFarBottom\",{get:function(){return 0!=(32&this._edge)},enumerable:!0,configurable:!0});Object.defineProperty(HitTestInfo.prototype,\"target\",{get:function(){return this._target},enumerable:!0,configurable:!0});HitTestInfo._SZEDGE=[6,30];return HitTestInfo}();export{HitTestInfo};export function softInput(){return _getModule(\"wijmo.input\")}var _MASK_PROVIDER=\"$WJ-MSKP\",CellFactory=function(){function CellFactory(){}CellFactory.prototype.updateCell=function(e,t,i,o,n,r){var l=e.grid,s=l.rightToLeft,a=e.rows,c=e.columns,u=a[t],d=c[i],h=t,p=i,f=u instanceof GroupRow?u:null,g=u instanceof _NewRowTemplate?u:null,_=d.renderWidth,m=u.renderHeight,C=e.cellType,w=\"wj-cell\",v=\"\",y={display:\"\"},b=CellType;0!=r&&o.firstElementChild&&(1==o.childNodes.length&&\"checkbox\"==o.firstElementChild.type||(o.textContent=\"\"));if(n&&!n.isSingleCell){t=n.row;i=n.col;h=n.row2;p=n.col2;u=a[t];d=c[i];f=u instanceof GroupRow?u:null;m=(I=n.getRenderSize(e)).height;_=I.width}var R,E,x,S,H,M,F=l._getBindingColumn(e,t,d),T=F?F.dataType:u?u.dataType:void 0;x=C==b.RowHeader||C==b.Cell&&(!f||l.childItemsPath);M=F&&F.isContentHtml||u&&u.isContentHtml;if(null!=T){R=F.dataMap||u.dataMap,E=C==b.Cell?l._getMapEditor(u,F):null,S=x&&E==DataMapEditor.RadioButtons;H=T==DataType.Boolean&&!R}var G=d.pos,P=u.pos,A=l._ptScrl;if(l._useFrozenDiv()&&C==b.Cell&&!l.editRange)i<c.frozen&&h>=a.frozen?P+=A.y:t<a.frozen&&p>=c.frozen&&(G+=A.x);else{var I=l._szClient;if(h<a.frozen){P=Math.min(P,I.height);m=Math.min(m,Math.max(0,I.height-P));P-=A.y}if(p<c.frozen){var z=0!=I.width?I.width:l._preWidth();G=Math.min(G,z);_=Math.min(_,Math.max(0,z-G));G-=A.x}}s?y.right=G+\"px\":y.left=G+\"px\";h>=a.frozen&&(P-=e._getOffsetY());y.top=P+\"px\";y.width=_+\"px\";y.height=m+\"px\";y.zIndex=\"\";(t<a.frozen||i<c.frozen)&&(y.zIndex=t<a.frozen&&i<c.frozen?2:1);var D=!1,L=l.alternatingRowStep;if(L&&(!n||n.row==n.row2)){D=u.visibleIndex%(L+1)==0;1==L&&(D=!D)}if(C==b.Cell){f&&(w+=\" wj-group\");D&&(w+=\" wj-alt\");(t<a.frozen||i<c.frozen)&&(w+=\" wj-frozen\");g&&(w+=\" wj-new\");u&&u.cssClass&&(w+=\" \"+u.cssClass);F&&F.cssClass&&(w+=\" \"+F.cssClass)}else{w+=\" wj-header\";D&&(w+=\" wj-header-alt\");u&&u.cssClass&&C==b.ColumnHeader&&(w+=\" \"+u.cssClass);F&&F.cssClass&&C==b.RowHeader&&(w+=\" \"+F.cssClass);var O=!1;C!=b.ColumnHeader&&C!=b.TopLeft||l.allowResizing&AllowResizing.Columns&&(O=null!=l._mouseHdl._getResizeCol(e,p));O||C!=b.RowHeader||l.allowResizing&AllowResizing.Rows&&(O=null!=l._mouseHdl._getResizeRow(e,h));O&&(w+=\" wj-big-header\")}u&&u.cssClassAll&&(w+=\" \"+u.cssClassAll);F&&F.cssClassAll&&(w+=\" \"+F.cssClassAll);var j=SelectedState,N=e.getSelectedState(t,i,n);N!=j.None&&C==b.Cell&&!H&&l.editRange&&l.editRange.contains(t,i)&&(N=j.None);switch(N){case j.Active:w+=\" wj-state-active\";break;case j.Cursor:w+=\" wj-state-selected wj-state-active\";break;case j.Selected:w+=\" wj-state-multi-selected\"}h==a._lastFrozen&&(w+=\" wj-frozen-row\");p==c._lastFrozen&&(w+=\" wj-frozen-col\");(F&&F.wordWrap||u&&u.wordWrap)&&(w+=\" wj-wrap\");(F&&F.multiLine||u&&u.multiLine)&&(w+=\" wj-multiline\");var k=F?F.getAlignment(u):void 0;k&&(v=\" wj-align-\"+k);var B=C,V=l._isTransposed(),K=(B==b.ColumnHeader&&!V||B==b.RowHeader&&V)&&l._hasColumnGroups()?l._getColumnGroup(t,i):null;K&&K.align&&(v=\" wj-align-\"+K.align);y.paddingLeft=y.paddingRight=y.paddingTop=y.paddingBottom=\"\";if(C==b.Cell&&l.rows.maxGroupLevel>-1&&i==c.firstVisibleIndex&&l.treeIndent){var W=f?Math.max(0,f.level):a.maxGroupLevel+1,q=Math.min(l.treeIndent*W+l._cellPadLeft,_-l._cellPadHorz)+\"px\";s?y.paddingRight=q:y.paddingLeft=q}_<=l._cellPadHorz&&null==o.getAttribute(FlexGrid._WJS_MEASURE)&&(y.paddingLeft=y.paddingRight=0);var U=C==b.Cell&&i==c.firstVisibleIndex&&f&&f.hasChildren&&!_isEditingCell(l,t,i);U&&(v=\"\");if(0!=r&&F){var J=e.getCellData(t,i,!1),Y=e.getCellData(t,i,!0);if(U){var X=_getTreeBtn(f,o);Y=f.getGroupHeader()||escapeHtml(Y);o.innerHTML=X.outerHTML+\" \"+Y}else if(C!=b.ColumnHeader||h!=l._getSortRowIndex()&&F==d)if(C==b.RowHeader&&!Y&&function(){var e=!1;if(i==l._getEditColumnIndex()){var t=l.editableCollectionView,n=t?t.currentEditItem:null;Y=o.innerHTML=n&&u.dataItem==n?_getGlyph(\"pencil\"):u instanceof _NewRowTemplate?_getGlyph(\"asterisk\"):\"\";e=!0}var r=F._tpl;if(r){_renderTemplate(r,o,J,Y,u,F);e=!0}return e}());else if(C!=b.Cell||T!=DataType.Boolean||R||f&&!isBoolean(J))if(C==b.Cell&&!S&&_isEditingCell(l,t,i)){var Z=F.inputType||u.inputType;Z||(Z=T!=DataType.Number||R?\"text\":\"tel\");if(!R&&!F.mask&&!u.mask){var $=e.getCellData(t,i,!1);isNumber($)&&(Y=_getEditString($,F.format||u.format))}o.innerHTML=(F.multiLine||u.multiLine)&&\"checkbox\"!=Z?'<textarea wrap=\"soft\"></textarea>':'<input type=\"'+Z+'\"/>';var Q=o.children[0];addClass(Q,\"wj-grid-editor wj-form-control\");disableAutoComplete(Q);M&&R&&!R.isEditable&&(Y=toPlainText(Y));Q.value=Y;Q.tabIndex=-1;Q.required=F.getIsRequired(u);setAttribute(Q,\"aria-required\",Q.required);var ee=F.maxLength||u.maxLength;ee&&(Q.maxLength=ee);Q.style.textAlign=F.getAlignment(u);var te=F.mask||u.mask;te&&(Q[_MASK_PROVIDER]=new _MaskProvider(Q,te));l.showPlaceholders&&(Q.placeholder=F.header);l._edtHdl._edt=Q}else{if(S){var ie=[],oe=e.getCellData(t,i,!1);R.getDisplayValues(u.dataItem).forEach((function(e){var t=R.getKeyValue(e)==oe?\" checked\":\"\",i=l.isReadOnly||u.isReadOnly||d.isReadOnly?\" disabled\":\"\",o=escapeHtml(e);ie.push('<label><input type=\"radio\" tabindex=\"-1\"'+t+i+' value=\"'+o+'\"><span>'+o+\"</span></label>\")}));o.innerHTML=ie.join(\" \");w+=\" \"+CellFactory._WJC_RADIOMAP}var ne=x?F._tpl:null;ne?_renderTemplate(ne,o,J,Y,u,F):S||(C==b.Cell&&M?o.innerHTML=Y:o.textContent=Y||\"\");if(K&&K.collapseTo){var re=K._rng;if(re&&(C==b.ColumnHeader&&re.columnSpan>1||C==b.RowHeader&&re.rowSpan>1)){var le=K.isCollapsed;o.innerHTML='<div role=\"button\" class=\"'+CellFactory._WJC_COLLAPSE+'\">'+_getGlyph(le?\"plus\":\"minus\")+\"</div>&nbsp;\"+o.innerHTML;le&&addClass(o,\"wj-state-collapsed\")}}}else{var se=o.firstChild;if(!l._isNativeCheckbox(se)){o.innerHTML='<label><input type=\"checkbox\" class=\"'+CellFactory._WJC_CHECKBOX+'\" tabindex=\"-1\"/><span></span></label>';se=o.querySelector(\"input\")}setChecked(se,J);se.disabled=!l.canEditCell(t,i);se.disabled&&(se.style.cursor=\"default\");l.editRange&&l.editRange.contains(t,i)&&(l._edtHdl._edt=se)}else{o.innerHTML=escapeHtml(Y);var ae=F.currentSort;if(ae&&l.showSort){w+=\" wj-sort-\"+(\"+\"==ae?\"asc\":\"desc\");o.innerHTML+=\"&nbsp;\"+_getSortGlyph(F)}l.allowPinning&&contains(l.hostElement,o)&&_addPinButton(o,i<l.frozenColumns)}if(E==DataMapEditor.DropDownList&&l.showDropDown&&l.canEditCell(t,i)&&softInput()){var ce=_getDropDownBtn();o.insertBefore(ce,o.firstChild);_isEditingCell(l,t,i)&&(w+=\" wj-hasdropdown\")}}if(C==b.RowHeader||C==b.ColumnHeader){var ue=C==b.RowHeader?!f&&!g&&u.allowDragging&&0!=(l.allowDragging&AllowDragging.Rows):(K||d).allowDragging&&0!=(l.allowDragging&AllowDragging.Columns);setAttribute(o,\"draggable\",ue?\"true\":null)}if([b.ColumnHeader,b.RowHeader].includes(C)&&[HeadersFocusability.All,HeadersFocusability.Column].includes(l.headersFocusability)){colHdrAriaAttributes(o,d,e,l);setAttribute(e.hostElement.parentElement,\"aria-hidden\",!1)}w+=v;o.className!=w&&(o.className=w);var de=o.style;for(var he in y)de[he]!==y[he]&&(de[he]=y[he]);if(l._edtHdl._edt&&l._edtHdl._edt.parentElement==o){var pe=l._root,fe=pe.getBoundingClientRect(),ge=o.getBoundingClientRect(),_e=fe.top+pe.clientHeight-ge.top,me=fe.left+pe.clientWidth-ge.left;ge.height>_e&&(o.style.height=_e+\"px\");ge.width>me&&(o.style.width=me+\"px\")}if((C==b.Cell||C==b.RowHeader)&&l._getShowErrors()){var Ce=l._getError(e,t,i,!1);l._edtHdl._setCellError(o,Ce)}l.itemFormatter&&l.itemFormatter(e,t,i,o);if(l.formatItem.hasHandlers){var we=CellFactory._fmtItemArgs;if(we){we._p=e;we._rng.setRange(t,i,h,p);we._cell=o}else we=CellFactory._fmtItemArgs=new FormatItemEventArgs(e,new CellRange(t,i,h,p),o);we._updateContent=!1!==r;l.onFormatItem(we)}};CellFactory.prototype.disposeCell=function(e){};CellFactory.prototype.getEditorValue=function(e){var t=e._edtHdl._edt;if(t instanceof HTMLInputElement)switch(t.type){case\"checkbox\":return t.checked;case\"radio\":return t.value}if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){var i=t[_MASK_PROVIDER],o=i?i._applyMask():t.value,n=t.maxLength;if(isNumber(n)&&n>-1&&o.length>n){var r=culture.Globalize.numberFormat[\"%\"]||\"%\",l=o.length&&o[o.length-1]==r;o=o.substr(0,n);l&&o.indexOf(r)<0&&(o+=r)}return o}return null};CellFactory._WJC_RADIOMAP=\"wj-radio-map\";CellFactory._WJC_CHECKBOX=\"wj-cell-check\";CellFactory._WJC_COLLAPSE=\"wj-elem-collapse\";CellFactory._WJC_DROPDOWN=\"wj-elem-dropdown\";CellFactory._WJC_PIN=\"wj-elem-pin\";CellFactory._tplDdBtn=_getButton(CellFactory._WJC_DROPDOWN,\"down\");CellFactory._tplCtx={row:null,col:null,value:null,text:null,item:null};return CellFactory}();export{CellFactory};function _renderTemplate(e,t,i,o,n,r){var l=CellFactory._tplCtx;l.value=i;l.text=o;l.item=n.dataItem;l.row=n;l.col=r;var s=isString(e)?evalTemplate(e,l):e(l,t);null!=s&&(t.innerHTML=s)}function _getEditString(e,t){t=t||\"n\";var i=Globalize._parseNumericFormat(t);switch(i.spec){case\"d\":case\"x\":break;case\"e\":t=t.replace(/[0-9]/g,\"\");break;default:t=\"p\"==i.spec?\"P15\":\"r\";i.scale&&(t+=Array(i.scale/3+1).join(\",\"))}return Globalize.formatNumber(e,t,!0)}function _isEditingCell(e,t,i){return e.editRange&&e.editRange.contains(t,i)}function _getDropDownBtn(){var e=CellFactory._ddBtn;if(!e){e=CellFactory._ddBtn=createElement(CellFactory._tplDdBtn);setAriaLabel(e,culture.FlexGrid.ariaLabels.toggleDropDown);setAttribute(e,\"aria-expanded\",!1)}return e.cloneNode(!0)}function _addPinButton(e,t){var i=_getButton(CellFactory._WJC_PIN,\"pin\"),o=createElement(i);toggleClass(o,\"wj-state-pinned\",t);setAttribute(o,\"aria-pressed\",t);e.insertBefore(o,e.firstChild)}function _getSortGlyph(e){var t=_getGlyph(\"+\"==e.currentSort?\"up\":\"down\"),i=e.grid.collectionView;if(i&&i.sortDescriptions.length>1){var o=e.currentSortIndex;o>-1&&(t+='<span class=\"wj-sort-index\">'+(o+1)+\"</span>\")}return t}function _getTreeBtn(e,t){var i=CellFactory._WJC_COLLAPSE,o=(e.isCollapsed?\"\":\"down-\")+(e.grid.rightToLeft?\"left\":\"right\"),n=createElement('<button class=\"wj-btn wj-btn-glyph '+i+'\" type=\"button\" tabindex=\"-1\">'+_getGlyph(o)+\"</button>\");setAriaLabel(n,culture.FlexGrid.ariaLabels.toggleGroup);setAttribute(n,\"aria-expanded\",!e.isCollapsed);setAttribute(t,\"aria-expanded\",!e.isCollapsed);return n}function _getGlyph(e){return'<span class=\"wj-glyph-'+e+'\"></span>'}function _getButton(e,t){return'<button class=\"wj-btn wj-btn-glyph wj-right {cls}\" type=\"button\" tabindex=\"-1\">{glyph}</button>'.replace(\"{cls}\",e).replace(\"{glyph}\",_getGlyph(t))}var _LB_PAGE_SIZE=4,_EditHandler=function(){function _EditHandler(e){var t=this;this._rng=null;this._edt=null;this._edItem=null;this._edtCanceled=!1;this._list=null;this._mapSearch=null;this._fullEdit=!1;this._evtInput=null;this._evtChange=null;this._cstEdtValue=null;this._validating=!1;this._composing=!1;this._g=e;this._evtInput=document.createEvent(\"HTMLEvents\");this._evtInput.initEvent(\"input\",!0,!1);this._evtChange=document.createEvent(\"HTMLEvents\");this._evtChange.initEvent(\"change\",!0,!1);e.selectionChanging.addHandler((function(i,o){if(t.finishEditing()){var n=e._selHdl.selection.row;if(n!=o.row){var r=e.rows.length;if((n>-1&&n<r?e.rows[n].dataItem:null)!=(o.row>-1&&o.row<r?e.rows[o.row].dataItem:null)){t._commitRowEdits();if(e._getHasValidation()){var l=!e.rows[n]||e.rows[n]&&Object.getPrototypeOf(e.rows[n])!==Row.prototype?null:e.getEmptyRequiredCell(n);null!==l&&setTimeout((function(){e.select(new CellRange(n,l));t.startEditing(!0,n,l,!0,o)}))}}}}else o.cancel=!0}));e.lostFocus.addHandler((function(){var e=getActiveElement();e&&\"fixed\"==getComputedStyle(e).position?t.finishEditing():t._commitRowEdits()}));var i=e.hostElement;e.addEventListener(i,\"mousedown\",(function(i){if(!i.defaultPrevented&&0==i.button&&!e._mouseHdl._szRowCol){var o=e.hitTest(i);o.cellType!=CellType.Cell&&o.cellType!=CellType.None&&(t.finishEditing()||t.finishEditing(!0))}}),!0);e.addEventListener(i,\"compositionend\",(function(){t._composing=!1;t._keypress.bind(t)}));e.addEventListener(i,\"compositionstart\",(function(i){var o=t._getCustomEditor(e),n=null!=i?closest(i.target,\".wj-flexgrid\"):null,r=Control.getControl(n),l=r&&r._edtHdl?null!=r._edtHdl.activeEditor:null!=t.activeEditor;if(!o||l||e.imeEnabled)t._composing=!0;else{var s=window.getSelection(),a=s.rangeCount>0?s.getRangeAt(0):null,c=document.activeElement;if(null!=c){c.blur();window.getSelection().removeAllRanges();setTimeout((function(){null!=a&&window.getSelection().addRange(a);c.focus()}),20)}}}))}_EditHandler.prototype.startEditing=function(e,t,i,o,n){void 0===e&&(e=!0);var r=this._g,l=r._selHdl.selection;t=asNumber(t,!0,!0);i=isString(i)?r.columns.indexOf(i):asNumber(i,!0,!0);null==t&&(t=l.row);null==i&&(i=l.col);null==o&&(o=!0);if(!this._allowEdit(t,i))return!1;var s=r.getMergedRange(r.cells,t,i,!1);s||(s=new CellRange(t,i));var a=r.rows[t].dataItem;r.scrollIntoView(s.row,s.col,!0);if(!r.select(s,!0))return!1;if(!r.rows[t]||a!=r.rows[t].dataItem)return!1;if(this.activeEditor){if(s.equals(this._rng))return!0;if(!this.finishEditing())return!1}var c=new CellRangeEventArgs(r.cells,s,n);if(!r.onBeginningEdit(c))return!1;var u=r.editableCollectionView,d=!1;if(u){(d=(a=r.rows[t].dataItem)!=u.currentEditItem)&&r.onRowEditStarting(c);u.editItem(a);if(d){r.onRowEditStarted(c);this._edItem=a}}var h=r.rows[t],p=r._getBindingColumn(r.cells,t,r.columns[i]),f=p.dataMap||h.dataMap,g=DataMapEditor.RadioButtons,_=h.dataMap&&h.dataMapEditor==g||p.dataMap&&p.dataMapEditor==g;this._fullEdit=asBoolean(e);this._rng=s;this._list=null;if(f&&!_&&!p.editor){var m=f.getDisplayValues(a);(p.isContentHtml||h.isContentHtml)&&(m=m.map((function(e){return toPlainText(e)})));this._list=m;this._mapSearch=f.search}if(_){var C=r._activeCell||r.hostElement.querySelector(\".wj-cell.wj-state-active\");if(C){var w=n?n.target:null;w instanceof HTMLSpanElement&&(w=closest(w,\"label\"));w instanceof HTMLLabelElement&&(w=w.querySelector(\"input\"));if(w instanceof HTMLInputElement)this._edt=w;else{var v=C.querySelectorAll(\"input[checked]\");v.length>0?this._edt=v[0]:this._edt=C.querySelector(\"input\")}this._updateRowHeaderCell(t)}}else s.isSingleCell?this._updateEditorCell(t,i,d):r.refresh(!1);var y=this._edt;if(y){if(\"checkbox\"==y.type||\"radio\"==y.type)this._fullEdit=!1;else if(o){var b=0,R=y.value.length,E=!1,x=culture.Globalize.numberFormat[\"%\"]||\"%\",S=r.getCellData(t,i,!1);isNumber(S)?E=y.value.indexOf(x)>-1:null==S&&(E=/^p/i.test(p.format))&&y.value.indexOf(x)<0&&(y.value+=x);if(E){var H=y.value;b=0;R=H.length;for(;R>0&&(H[R-1]==x||\" \"==H[R-1]);)R--;for(;b<R&&H[b]==x;)b++}n&&\"keydown\"==n.type&&n.keyCode==Key.Space&&(b=R);setSelectionRange(y,b,R);isIE()&&\"right\"==y.style.textAlign&&(y.style.paddingRight=\"1px\")}r.onPrepareCellForEdit(c)}o&&!r.containsFocus()&&r.focus();return null!=y&&!y.disabled&&!y.readOnly};_EditHandler.prototype.finishEditing=function(e){var t=this._edt;if(!t){this._removeListBox();return!0}var i=this._g,o=this._rng,n=new CellEditEndingEventArgs(i.cells,o),r=i.containsFocus();if(!e){var l=i.hostElement.querySelector(\".wj-control.wj-state-focused\");if(l){var s=Control.getControl(l);s&&(s.containsFocus()||s._focus)&&s.onLostFocus(n)}}n.cancel=e;if(!e&&i.validateEdits){if(C=this._getValidationError()){n.cancel=!0;var a=i.cells.getCellElement(o.row,o.col);if(a){this._setCellError(a,C);n.stayInEditMode=!0}}}this._cstEdtValue=null;n.data=i.cells.getCellData(o.topRow,o.leftCol,!1);if(!i.onCellEditEnding(n)&&n.stayInEditMode){r?setTimeout((function(){t.select()})):t.select();this._fullEdit=!0;return!1}if(!n.cancel){var c=null,u=!1;if(null!=this._lbx_SelectedValue){c=this._lbx_SelectedValue;u=!0}else{var d=this._cstEdtValue;c=d&&!isUndefined(d.value)?d.value:this._lbx_SelectedValue?this._lbx_SelectedValue:i.cellFactory.getEditorValue(i);u=null!=this._lbx_SelectedValue}for(var h=o.topRow;h<=o.bottomRow&&h<i.rows.length;h++)for(var p=o.leftCol;p<=o.rightCol&&p<i.columns.length;p++){var f=i._getBindingColumn(i.cells,h,i.columns[p]),g=i.rows[h],_=f&&f.dataMap||g&&g.dataMap,m=!_||_.serializeKeys;if(!i.cells.setCellData(h,p,c,m,!1,u)&&i.validateEdits){var C;if(C=this._getValidationError(!0)){n.cancel=!0;var w=i.cells.getCellElement(o.row,o.col);if(w){this._setCellError(w,C);n.stayInEditMode=!0}return!1}}}t.value==this._edtValue&&t.dispatchEvent(this._evtChange)}this._edt=null;this._rng=null;this._list=null;this._edtValue=null;this._edtCanceled=n.cancel;this._removeListBox();this._lbx_SelectedValue=null;var v=closest(t,\".wj-cell\");contains(v,getActiveElement())&&i._setFocusNoScroll(v);!n.cancel&&n.refresh&&i._refreshOnEdit?i.refresh(!1):this._updateEditorCell(o.row,o.col,!1);r&&i.focus();i.onCellEditEnded(n);return!0};_EditHandler.prototype._setCustomEditorValue=function(e){this._cstEdtValue={value:e}};_EditHandler.prototype._getCustomEditor=function(e){var t=null,i=e.selection;if(null!=i){var o=e._getBindingColumn(e.cells,i.row,e.columns[i.col]);t=o&&o._edt}return t};_EditHandler.prototype._setCellError=function(e,t){var i=this._g;\"\"==t&&(t=null);toggleClass(e,\"wj-state-invalid\",null!=t);var o=i.errorTip,n=i.activeEditor;if(o){o.setTooltip(e,t);n&&contains(e,n)&&setAttribute(n,\"title\",\"\")}else setAttribute(e,\"title\",t);n&&e==i.activeCell&&!contains(e,n)&&o&&o.setTooltip(n,t)};Object.defineProperty(_EditHandler.prototype,\"activeEditor\",{get:function(){return this._edt},enumerable:!0,configurable:!0});Object.defineProperty(_EditHandler.prototype,\"editRange\",{get:function(){return this._rng},enumerable:!0,configurable:!0});_EditHandler.prototype.getClipString=function(e,t,i,o){var n,r=this,l=this._g,s=l.selectionMode,a=[],c=0!=(t&ClipStringOptions.CSV),u=c?\"\\r\\n\":\"\\n\",d=c?\",\":\"\\t\",h=0!=(t&ClipStringOptions.InvisibleRows),p=SelectionMode,f=null!=e;if(!e&&s!=p.ListBox)for(var g=l.rows,_=0;_<g.length;_++)if(g[_].isSelected){s=p.ListBox;break}if(!e){l._selHdl._expandSelection();e=l.selection;switch(s){case p.Row:case p.RowRange:case p.ListBox:e.col=0;e.col2=l.columns.length-1;break;case p.MultiRange:var m=l.selectedRanges;if(m.length>1){var C=this._sameCols(m),w=this._sameRows(m);if(C||w){(m=m.slice()).sort((function(e,t){var i=e.topRow-t.topRow;return i||e.leftCol-t.leftCol}));for(var v=0;v<m.length;v++)for(var y=m[v],b=v+1;b<m.length;b++)if(y.contains(m[b])){m.splice(b,1);b--}if(C){var R=[];m.forEach((function(e){R.push(r.getClipString(e,t,i,o));i=!1}));return R.join(u)}if(w){var E;m.forEach((function(e){var n=r.getClipString(e,t,i,o).split(u);if(null==E){E=n;o=!1}else n.forEach((function(e,t){E[t]+=d+e}))}));return E.join(u)}}}}}var x=e.col>-1&&e.col2>-1;i&&x&&(n=l.columnHeaders).rows.forEach((function(i,l){if(h||i.isVisible){var s=r._getRowClipString(n,l,e,t,o);a.push(s)}}));if(e.row>-1&&e.row2>-1){n=l.cells;if(s!=p.ListBox||f){assert(e.bottomRow<n.rows.length,\"Row index must be less than the number of rows.\");for(v=e.topRow;v<=e.bottomRow;v++)if(h||n.rows[v].isVisible){var S=this._getRowClipString(n,v,e,t,o);a.push(S)}}else n.rows.forEach((function(i,l){if(i.isSelected&&(h||i.isVisible)){var s=r._getRowClipString(n,l,e,t,o);a.push(s)}}))}return a.join(u)};_EditHandler.prototype._getRowClipString=function(e,t,i,o,n){var r=[],l=e.rows[t],s=ClipStringOptions,a=0!=(o&s.CSV),c=0!=(o&s.InvisibleColumns),u=0==(o&s.Unformatted),d=0!=(o&s.SkipMerged);if(l.isVisible){if(n)for(var h=e.cellType==CellType.ColumnHeader?e.grid.topLeftCells:e.grid.rowHeaders,p=0;p<h.columns.length;p++)if(c||h.columns[p].isVisible){var f=h.getCellData(t,p,!0);d&&this._skipMergedCell(e,null,t,p)&&(f=\"\");r.push(this._getCellClipString(f,o))}if(i.col>-1&&i.col2>-1){assert(i.rightCol<e.columns.length,\"Column index must be less than the number of columns.\");for(p=i.leftCol;p<=i.rightCol;p++)if(c||e.columns[p].isVisible){!(f=e.getCellData(t,p,u))&&l instanceof GroupRow&&p==e.columns.firstVisibleIndex&&(f=toPlainText(l.getGroupHeader()));d&&this._skipMergedCell(e,null,t,p)&&(f=\"\");r.push(this._getCellClipString(f,o))}}}return r.join(a?\",\":\"\\t\")};_EditHandler.prototype._skipMergedCell=function(e,t,i,o){var n=e.grid.getMergedRange(e,i,o,!1);if(n){if(t){n.row=Math.max(t.topRow,n.row);n.col=Math.max(t.leftCol,n.col)}if(n.row!=i||n.col!=o)return!0}return!1};_EditHandler.prototype._getCellClipString=function(e,t){isString(e)||(e=isDate(e)?e.toJSON():null!=e?e.toString():\"\");e=e.replace(/\\t/g,\" \");var i=0!=(t&ClipStringOptions.QuoteAll);(i=i||/\\n|^\"|\"$/.test(e))||0==(t&ClipStringOptions.CSV)||(i=e.indexOf(\",\")>-1);i&&(e='\"'+(e=e.replace(/\"/g,'\"\"'))+'\"');return e};_EditHandler.prototype._sameRows=function(e){for(var t=e[0],i=1;i<e.length;i++)if(e[i].topRow!=t.topRow||e[i].bottomRow!=t.bottomRow)return!1;return!0};_EditHandler.prototype._sameCols=function(e){for(var t=e[0],i=1;i<e.length;i++)if(e[i].leftCol!=t.leftCol||e[i].rightCol!=t.rightCol)return!1;return!0};_EditHandler.prototype.setClipString=function(e,t){var i=this,o=this._g,n=o.editableCollectionView,r=null==t,l=SelectionMode;if(r){o._selHdl._expandSelection();t=o.selection;switch(o.selectionMode){case l.Row:case l.RowRange:case l.ListBox:t.col=0;t.col2=o.columns.length-1;break;case l.MultiRange:var s=o.selectedRanges;if(s.length>1){n&&n.beginUpdate();s.forEach((function(t){o.setClipString(e,t)}));n&&n.endUpdate();o.selectedRanges=s;return}}}t=asType(t,CellRange);var a=this._parseClipString(asString(e));!r&&a.length>t.rowSpan&&(a=a.slice(0,t.rowSpan));this._expandClipRows(a,t);var c=0;if(a.length)for(var u=t.leftCol,d=o.columns.length,h=0;h<a[0].length;h++)for(var p=u+h+c;p<d&&!o.columns[p].visible;){c++;p++}var f=r?new CellRange(t.topRow,t.leftCol,Math.min(t.topRow+a.length-1,o.rows.length-1),Math.min(t.leftCol+a[0].length-1+c,o.columns.length-1)):t,g=new CellRangeEventArgs(o.cells,f,e);if(!o.onPasting(g))return!1;f=new CellRange(t.topRow,t.leftCol);var _=new CellRangeEventArgs(o.cells,new CellRange(t.topRow,-1)),m=!1,C=0,w=t.topRow,v=o.rows,y=o.columns,b=o._getRowsPerItem(),R=a.length>b,E=this._deferPaste(t,a.length);assert(b>=1,\"Invalid RPI value = \"+b);o.deferUpdate((function(){var e=-1;if(n&&E){e=n.currentPosition;n.beginUpdate()}for(var r=0;r<a.length&&w<v.length;r++,w++){var l=v[w];if(l.isVisible){if(!R||!l.isReadOnly){var s=l.dataItem,c=n?n.currentEditItem:null;if(c&&s!=c){o.onRowEditEnding(_);o.onRowEditEnded(_)}if(l instanceof _NewRowTemplate&&n){if(E){l.dataItem=n.addNew();_._rng.setRange(o.newRowAtTop?0:w,-1);if(!o.onRowEditStarting(_)){w--;n.cancelNew();continue}o.onRowEditStarted(_)}else if(1==b||(w+1)%b==1){_._rng.setRange(o.newRowAtTop?w%b:w,-1);if(!o.onRowEditStarting(_)){w--;continue}o.onRowEditStarted(_)}}else if(s!=c){_._rng.setRange(w,-1);o.onRowEditStarting(_);o.onRowEditStarted(_)}for(var u=a[r],d=t.leftCol,h=0;h<u.length&&d<y.length;h++,d++){var p=y[d];if(p.isVisible){if(!R||!p.isReadOnly){var g=o.getMergedRange(o.cells,w,d,!1);if(!(g&&(g.leftCol!=d||g.topRow!=w))&&i._allowEdit(w,d)){var x=u[h],S=x.length;S>1&&'\"'==x[0]&&'\"'==x[S-1]&&x.indexOf(\"\\n\")>-1&&(x=x.substr(1,S-2));var H=p.maxLength||l.maxLength;H&&(x=x.substr(0,H));var M=new CellRangeEventArgs(o.cells,new CellRange(w+C,d),x);if(o.onPastingCell(M)){if(n){n.editItem(s);i._edItem=n.currentEditItem}var F=o.getCellData(w,d,!1),T=M.data,G=softInput();if(G){var P=o._getBindingColumn(o.cells,w,o.columns[d]),A=P.editor,I=null,z=null;if(A instanceof G.InputNumber){I=A.clamp.bind(A);z=DataType.Number}else if(A instanceof G.InputDate||A instanceof G.InputTime){I=A._clamp.bind(A);z=DataType.Date}if(I){T=changeType(T,z,P.format,F);getType(T)==z&&(T=I(T))}}if(o.setCellData(w,d,T)){M.data=F;o.onPastedCell(M);m=!0}}f.row2=Math.max(f.row2,w+C);f.col2=Math.max(f.col2,d)}}}else h--}if(i._edItem&&n instanceof CollectionView){var D=new NotifyCollectionChangedEventArgs(NotifyCollectionChangedAction.Change,i._edItem,w);n.onCollectionChanged(D)}if(l instanceof _NewRowTemplate&&n)if(E){l.dataItem=null;if(m){_._rng.setRange(o.newRowAtTop?0:w,-1);o.onRowEditEnding(_);o.onRowEditEnded(_);w--;C++;n.commitNew()}else n.cancelNew()}else if(R&&b>1&&(w+1)%b==0&&m){_._rng.setRange(o.newRowAtTop?w%b:w,-1);o.onRowEditEnding(_);o.onRowEditEnded(_);w-=b;C++}}}else r--}if(n)if(E){if(n.currentEditItem){n.commitEdit();o.onRowEditEnding(_);o.onRowEditEnded(_)}n.moveCurrentToPosition(e);n.endUpdate(!0)}else{var L=n.currentAddItem;!L&&0==t.row&&o.newRowAtTop&&v[0]instanceof _NewRowTemplate&&(L=v[0].dataItem);if(L){n.editItem(L);i._edItem=L}}f.rowSpan>1&&0==f.topRow&&v[0]instanceof _NewRowTemplate&&(f.row=f.row2=0);o.select(f)}));o.onPasted(g);if(m&&closest(o.hostElement,\"form\")){var x=document.createEvent(\"HTMLEvents\"),S=createElement(\"<input>\",o.hostElement);x.initEvent(\"change\",!0,!1);S.dispatchEvent(x);removeChild(S)}};_EditHandler.prototype._deferPaste=function(e,t){var i=this._g.rows,o=i.length;if(t>1){if(o>1&&i[0].dataItem!=i[1].dataItem)return!0;if(1==o&&i[0]instanceof _NewRowTemplate)return!0}return!1};_EditHandler.prototype._parseClipString=function(e){var t=[],i=(e=(e=e.replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\")).replace(/\\n$/,\"\")).length,isTabOrNewLineChar=function(e){return\"\\n\"===e||\"\\t\"===e},o=0,n=0;for(o=0;o<i;o++){var r=!1,l=!1,s=!1;if('\"'===e[o]){for(var a=!1,c=!1,u=o+1;u<i;u++){var d=e[u];if('\"'===d){var h=u+1;if(h<i){isTabOrNewLineChar(e[h])&&(c=!0)}else c=!0}else!a&&isTabOrNewLineChar(d)&&(a=!0);if(c)break}c&&a&&(r=!0)}for(n=o;n<i&&!s;n++){var p=e[n];if('\"'===p)r&&(l=!l);else if(isTabOrNewLineChar(p)&&!l){this._parseClipCell(t,e,o,n,\"\\n\"==p);o=n;n==i-1&&(o=n+1);s=!0}}if(n==i){this._parseClipCell(t,e,o,n,!1);break}}0==t.length&&t.push([\"\"]);return t};_EditHandler.prototype._parseClipCell=function(e,t,i,o,n){e.length||e.push([]);var r=t.substr(i,o-i),l=r.length;if(l>2&&'\"'==r[0]&&'\"'==r[l-1]){var s=r.substr(1,l-2),unquotedStringHasChar=function(e){return s.indexOf(e)>-1};(unquotedStringHasChar('\"\"')||unquotedStringHasChar(\"\\t\")||unquotedStringHasChar(\"\\n\"))&&(r=s.replace(/\"\"/g,'\"'))}else\"\\t\"==r&&(r=\"\");e[e.length-1].push(r);n&&e.push([])};_EditHandler.prototype._expandClipRows=function(e,t){for(var i=e.length,o=0,n=0;n<i;n++)o=Math.max(o,e[n].length);for(var r=this._g,l=0,s=0,a=t.topRow;a<=t.bottomRow;a++)r.rows[a].isVisible&&l++;for(var c=t.leftCol;c<=t.rightCol;c++)r.columns[c].isVisible&&s++;if(l>1||s>1){1==l&&(l=i);1==s&&(s=o);if(s%o==0&&l%i==0){for(c=o;c<s;c++)for(a=0;a<i;a++)e[a].push(e[a%i][c%o]);for(a=i;a<l;a++)e.push(e[a%i])}}};_EditHandler.prototype._updateEditorCell=function(e,t,i){var o=this._g,n=o.cells.getCellElement(e,t),r=o._useFrozenDiv()&&(e<o.frozenRows||t<o.frozenColumns);if(!n||r||o._hasPendingUpdates())o.refresh(!1);else if(o.onUpdatingView(new CancelEventArgs)){this._updateCell(n);(i||o._getHasValidation())&&this._updateRowHeaderCell(e);o.onUpdatedView()}};_EditHandler.prototype._updateRowHeaderCell=function(e){var t=this._g;if(t.headersVisibility&HeadersVisibility.Row){var i=t.rowHeaders,o=t._getEditColumnIndex(),n=i.getCellElement(e,o);n&&this._updateCell(n)}};_EditHandler.prototype._updateCell=function(e){var t=new HitTestInfo(e,null),i=FlexGrid._WJS_UPDATING;if(t.panel){addClass(e,i);t.grid.cellFactory.updateCell(t.panel,t.row,t.col,e,t.range);removeClass(e,i)}};_EditHandler.prototype._getValidationError=function(e){var t=this,i=this._g,o=\"\";if(i&&this._rng&&!this._validating){var n=this._rng.row,r=this._rng.col,l=i.activeEditor,s=i.cellFactory.getEditorValue(i),a=i.getCellData(n,r,!1);e&&(o=i._getError(i.cells,n,r,!0));if(!o&&i._getHasValidation()){l&&(o=l.validationMessage);if(!o){var c=i.columns[r],u=i.rows[n];!i._getBindingColumn(i.cells,n,c).getIsRequired(u)||null!=s&&\"\"!==s||(o=this._getRequiredMsg())}if(!o&&i.setCellData(n,r,s,!0,!1)){o=i._getError(i.cells,n,r,!1);i.setCellData(n,r,a,!1,!1)}}if(!o){var d=Control.getControl(closest(l,\".wj-control\"));if(d&&d!=i&&d.invalidInput.hasHandlers){var invInputHandler=function(e,l){if(l.cancel){o=i._getError(i.cells,n,r,!0)||t._getBadInputMsg();l.cancel=!1}};this._validating=!0;var h=l.value;d.invalidInput.addHandler(invInputHandler);if(d._containsFocus()){var p=closest(d.hostElement,\".wj-cell\");p&&p.focus()}d.onLostFocus();d.invalidInput.removeHandler(invInputHandler);l.value=h;o&&l.select();this._validating=!1}}}return o};_EditHandler.prototype._getRequiredMsg=function(){if(!_EditHandler._msgRequired){var e=document.createElement(\"input\");e.required=!0;_EditHandler._msgRequired=e.validationMessage}return _EditHandler._msgRequired};_EditHandler.prototype._getBadInputMsg=function(){if(!_EditHandler._msgBadInput){var e=document.createElement(\"input\");e.pattern=\"x\";e.value=\"a\";_EditHandler._msgBadInput=e.validationMessage||\"Bad Input\"}return _EditHandler._msgBadInput};_EditHandler.prototype._allowEdit=function(e,t){var i=this._g;if(i.isReadOnly||i.selectionMode==SelectionMode.None)return!1;if(i.collectionView&&!i.editableCollectionView)return!1;if(null!=e){if(e<0||e>=i.rows.length)return!1;var o=i.rows[e];if(!o||o.isReadOnly||!o.isVisible)return!1}if(null!=t){if(t<0||t>=i.columns.length)return!1;var n=i._getBindingColumn(i.cells,e,i.columns[t]);if(!n||n.isReadOnly||!n.isVisible)return!1}return!0};_EditHandler.prototype._commitRowEdits=function(){var e=this._g;if(this.finishEditing()&&this._edItem){var t=e.editableCollectionView;if(t&&(t.currentEditItem||t.currentAddItem)){var i=new CellRangeEventArgs(e.cells,e.selection);e.onRowEditEnding(i);t.commitEdit();e.onRowEditEnded(i)}this._edItem=null}};_EditHandler.prototype._keydown=function(e){var t=this._edt;switch(e.keyCode){case Key.F2:this._fullEdit=!this._fullEdit;e.preventDefault();return!0;case Key.F4:this._toggleListBox(e);e.preventDefault();return!0;case Key.Space:if(t&&\"checkbox\"==t.type&&!t.disabled&&!t.readOnly){setChecked(t,t.indeterminate||!t.checked);this.finishEditing();e.preventDefault()}return!0;case Key.Enter:e.preventDefault();if(t&&e.altKey){var i=e.target;if(i instanceof HTMLTextAreaElement&&\"soft\"==i.wrap){if(this._composing){i.blur();i.focus()}i.style.setProperty(\"ime-mode\",\"auto\",\"important\");var o=i.value,n=i.selectionStart,r=i.selectionEnd;i.value=o.substr(0,n)+\"\\n\"+o.substr(r);setSelectionRange(i,n+1);i.style.imeMode=\"\"}return!0}if(t&&this._lbx){this._toggleListBox(e);this.finishEditing();return!0}return!this.finishEditing();case Key.Tab:e.preventDefault();return!this.finishEditing();case Key.Escape:e.preventDefault();this.finishEditing(!0);return!0;case Key.Up:case Key.Down:case Key.Left:case Key.Right:case Key.PageUp:case Key.PageDown:case Key.Home:case Key.End:if(this._lbx)return this._keydownListBox(e);if(e.altKey)switch(e.keyCode){case Key.Up:case Key.Down:this._toggleListBox(e);e.preventDefault();return!0}if(this._fullEdit)switch(e.keyCode){case Key.PageUp:case Key.PageDown:e.preventDefault()}else if(this.finishEditing())return!1}return!0};_EditHandler.prototype._keydownListBox=function(e){var t=!0;if(this._lbx)switch(e.keyCode){case Key.Up:e.altKey?this._toggleListBox(e):this._lbx.selectedIndex>0&&this._lbx.selectedIndex--;break;case Key.Down:e.altKey?this._toggleListBox(e):this._lbx.selectedIndex++;break;case Key.Home:case Key.PageUp:this._lbx.selectedIndex=0;break;case Key.End:case Key.PageDown:this._lbx.selectedIndex=this._lbx.collectionView.items.length-1;break;default:t=!1}if(t){e.preventDefault();return!0}return!1};_EditHandler.prototype._keypress=function(e){if(\"AltLeft\"!=e.code&&\"AltRight\"!=e.code){var t=this._edt,i=e.charCode||32,o=this._list;if(t&&\"checkbox\"!=t.type&&getActiveElement()==t&&o&&o.length>0&&i>=32){var n=t.selectionStart,r=t.value.substr(0,n);if(e.target==t&&e.charCode){r+=String.fromCharCode(e.charCode);n++}var l=this._mapSearch,s=-1;if(l)for(var a=0;a<o.length;a++){var c=o[a];if(l(null==c?c:c.toString(),r)){s=a;break}}else(s=this._findString(o,r,!0))<0&&!this._g.caseSensitiveSearch&&(s=this._findString(o,r,!1));if(s>-1){var u=this._lbx;u&&(u.selectedIndex=s);t.value=o[s];setSelectionRange(t,n,t.value.length);t.dispatchEvent(this._evtInput);e.preventDefault&&e.preventDefault()}else this._lbx&&(this._lbx_SelectedValue=null)}}else e.preventDefault()};_EditHandler.prototype._findString=function(e,t,i){i||(t=t.toLowerCase());for(var o=0;o<e.length;o++){var n=e[o];if(null!=n){n=n.toString();i||(n=n.toLowerCase());if(0==n.indexOf(t))return o}}return-1};_EditHandler.prototype._toggleListBox=function(e,t){var i=this._g,o=i._selHdl.selection,n=i.isTouching;t||(t=o);if(this._lbx){this._removeListBox();if(o.intersects(t)){i.activeEditor?i.activeEditor.focus():i.containsFocus()||i.focus();return!0}}if(!t.isValid)return!1;var r=i.rows[t.row],l=i._getBindingColumn(i.cells,t.row,i.columns[t.col]),s=r.dataMap||l.dataMap,a=i._getMapEditor(r,l);if(!s||a!=DataMapEditor.DropDownList||!softInput())return!1;if(null!=l.editor)return!1;if(!t.intersects(i.editRange)&&!this.startEditing(!0,t.row,t.col,!n,e))return!1;var c=this._lbx=this._createListBox();requestAnimationFrame((function(){return c.showSelection()}));n&&c.focus();return!0};_EditHandler.prototype._createListBox=function(){var e=this,t=this._g,i=t.activeEditor,o=this._rng,n=t.rows[o.row],r=t._getBindingColumn(t.cells,o.row,t.columns[o.col]),l=r.isContentHtml||n.isContentHtml,s=r.dataMap||n.dataMap,a=r.dropDownCssClass||n.dropDownCssClass,c=document.createElement(\"div\");this._removeListBox();addClass(c,\"wj-dropdown-panel wj-grid-listbox\");addClass(c,a);var u=i?i.value:t.getCellData(o.row,o.col,!0),d=new mInput.ListBox(c,{maxHeight:n.renderHeight*_LB_PAGE_SIZE,isContentHtml:l,itemsSource:s.getDisplayValues(n.dataItem)});if(s._displayPath==s._keyPath)d.selectedValue=u;else{var h=t.getCellData(o.row,o.col,!1),p=-1,f=this._findDuplicateValues(s,u,l),g=s._cv.items.findIndex((function(t){return e.isEqualValue(t[s._keyPath],h,l)}));if(g>-1){var _=s._cv.items[g][s._displayPath];if(this.isEqualValue(u,_,l))if(1==f.length)p=g>d.itemsSource.length||!this.isEqualValue(d.itemsSource[g],u,l)?d.itemsSource.findIndex((function(t){return e.isEqualValue(_,t,l)})):g;else for(var m=-1,C=0;C<d.itemsSource.length;C++)if(this.isEqualValue(d.itemsSource[C],_,l)){m++;if(this.isEqualValue(f[m],h,l)){p=C;break}}}p<0&&(p=d.itemsSource.findIndex((function(t){return e.isEqualValue(u,t,l)})));p>=0?d.selectedIndex=p:d.selectedValue=null}d.addEventListener(c,\"keydown\",(function(i){switch(i.keyCode){case Key.Enter:case Key.Escape:e._removeListBox();t.focus()}}));d.addEventListener(c,\"click\",(function(){e._lbx&&(e._lbx_SelectedValue=e._findKeyValue(s,l));e._removeListBox();t.focus();e.finishEditing()}));d.gotFocus.addHandler((function(){d.containsFocus()&&i&&i.focus()}));d.selectedIndexChanged.addHandler((function(){e._lbx&&(e._lbx_SelectedValue=e._findKeyValue(s,l));var i=t.activeEditor;if(i){i.value=e._list[d.selectedIndex];i.dispatchEvent(e._evtInput);setSelectionRange(i,0,i.value.length)}}));var w=t.cells.getCellElement(o.row,o.col);if(w){showPopup(c,w,!1,!1,!1);var v=w.querySelector(\".\"+CellFactory._WJC_DROPDOWN);setAttribute(v,\"aria-expanded\",!0)}else{showPopup(c,t.getCellBoundingRect(o.row,o.col));c[Control._OWNR_KEY]=t.hostElement}return d};_EditHandler.prototype._findKeyValue=function(e,t){void 0===t&&(t=!1);var i=this._lbx.selectedValue,o=this._findDuplicateValues(e,i,t),n=e.getKeyValue(i);if(this._lbx.selectedIndex>0&&o.length>1){for(var r=-1,l=0;l<=this._lbx.selectedIndex;l++)this.isEqualValue(this._lbx.itemsSource[l],i,t)&&r++;r>=0&&(n=o[r])}return n};_EditHandler.prototype._findDuplicateValues=function(e,t,i){void 0===i&&(i=!1);for(var o=[],n=e.getKeyValues(),r=0;r<n.length;r++)this.isEqualValue(e.getDisplayValue(n[r]),t,i)&&o.push(n[r]);return o};_EditHandler.prototype._removeListBox=function(){var e=this._lbx;if(e){this._lbx=null;hidePopup(e.hostElement,(function(){e.dispose()}))}};_EditHandler.prototype.isEqualValue=function(e,t,i){void 0===i&&(i=!1);if(e instanceof Date&&t instanceof Date)return e.getTime()==t.getTime();null!=e&&null!=e||(e=\"\");null!=t&&null!=t||(t=\"\");Number.isNaN(e)&&(e=\"NaN\");Number.isNaN(t)&&(t=\"NaN\");if(i){isString(e)&&e.indexOf(\"<\")>-1&&(e=toPlainText(e));isString(t)&&t.indexOf(\"<\")>-1&&(t=toPlainText(t))}return e.toString()==t.toString()};_EditHandler._msgRequired=\"\";_EditHandler._msgBadInput=\"\";return _EditHandler}();export{_EditHandler};var _CustomEditor=function(){function _CustomEditor(e,t){this._col=asType(e,Column);this._ctl=t;this._tbx=t.hostElement.querySelector(\"input\");assert(this._col instanceof Column,\"Invalid Column\");assert(this._ctl instanceof Control,\"Invalid edit control\");assert(this._tbx instanceof HTMLInputElement,\"Input element not found in editor\");var i=this._ctl;this._prop=isUndefined(i.value)?isUndefined(i.checkedItems)?isUndefined(i.text)?null:\"text\":\"checkedItems\":\"value\";assert(null!=this._prop,\"value, text properties not found in editor\");var o=softInput();if(o){this._isDropDown=i instanceof o.DropDown;this._isComboBox=i instanceof o.ComboBox;this._isAutoComplete=i instanceof o.AutoComplete;this._isInputDateTime=i instanceof o.InputDateTime;this._isInputMask=i instanceof o.InputMask}this._updateFocusBnd=this._updateFocus.bind(this);this._keydownBnd=this._keydown.bind(this);this._cmpstartBnd=this._cmpstart.bind(this);this._mousedownBnd=this._mousedown.bind(this);this._connect();this._col.gridChanged.addHandler(this._connect,this);this._hideEditor();this._updateFocus()}Object.defineProperty(_CustomEditor.prototype,\"grid\",{get:function(){return this._g},enumerable:!0,configurable:!0});Object.defineProperty(_CustomEditor.prototype,\"column\",{get:function(){return this._col},enumerable:!0,configurable:!0});Object.defineProperty(_CustomEditor.prototype,\"control\",{get:function(){return this._ctl},enumerable:!0,configurable:!0});_CustomEditor.prototype.dispose=function(){this._disconnect();this._isDropDown&&(this._isDropDown=!1);this._g=this._col=this._ctl=this._tbx=null};_CustomEditor.prototype._connect=function(){var e=this._col?this._col.grid:null;if(e!=this._g){this._disconnect();if(e){var t=e.hostElement,i=e.addEventListener.bind(e),o=this._updateFocusBnd;this._g=e;this._hideEditor();this._updateFocus();i(t,\"keydown\",this._keydownBnd,!0);i(t,\"mousedown\",this._mousedownBnd,!0);i(t,\"mouseup\",o,!0);i(t,\"blur\",o,!0);i(t,\"focus\",o);i(this._tbx,\"compositionstart\",this._cmpstartBnd);e.gotFocus.addHandler(o,this);e.selectionChanged.addHandler(o,this);e.prepareCellForEdit.addHandler(this._prepareCellForEdit,this);e.cellEditEnding.addHandler(this._cellEditEnding,this);e.cellEditEnded.addHandler(this._cellEditEnded,this)}}};_CustomEditor.prototype._disconnect=function(){var e=this._g;if(e){var t=e.hostElement,i=e.removeEventListener.bind(e),o=this._updateFocusBnd;i(t,\"keydown\",this._keydownBnd);i(t,\"mousedown\",this._mousedownBnd);i(t,\"mouseup\",o);i(t,\"blur\",o);i(t,\"focus\",o);i(this._tbx,\"compositionstart\",this._cmpstartBnd);e.gotFocus.removeHandler(o,this);e.selectionChanged.removeHandler(o,this);e.prepareCellForEdit.removeHandler(this._prepareCellForEdit,this);e.cellEditEnding.removeHandler(this._cellEditEnding,this);e.cellEditEnded.removeHandler(this._cellEditEnded,this);this._g=null}};_CustomEditor.prototype._prepareCellForEdit=function(e,t){if(!t.cancel&&t.getColumn(!0)==this._col){var i=this.grid,o=this._ctl,n=this._tbx,r=this._prop,l=t.range,s=t.data,a=s?s.type:\"\",c=i.getCellData(l.row,l.col,\"text\"==r||this._isInputMask),u=!1;if(this._isComboBox){this._isAutoComplete&&(o._oldText=\"\");if(!o.isRequired){o.selectedIndex=-1;n.value=\"\"}this._isInputDateTime&&o._setDropdown(o._ddDate)}if(\"checkedItems\"==r){if(o.showFilterInput){o.showFilterInput=!1;o.showFilterInput=!0}if(null==c||0==c.length){o[r]=[];o.selectedIndex=0}}if(null!=c||!o.isRequired){o[r]=c;if(this._isAutoComplete){clearTimeout(o._toSearch);if((h=o.collectionView)&&(h.filter||o._rxHighlight)){o._rxHighlight=null;h.filter=null}if(c){var d=o._findNext(c,1,-1);o.selectedIndex!=d&&(o.selectedIndex=d)}}}switch(a){case\"keydown\":case\"mousedown\":if(isUndefined(s.keyCode)||s.keyCode==Key.F4||s.altKey){u=this._isDropDown;if(this._isAutoComplete&&(null==c||isString(c))){var h;if(h=o.collectionView){if(h.filter||o._rxHighlight){o._rxHighlight=null;h.filter=null}d=c?o._findNext(c,1,-1):-1;o.selectedIndex!=d&&(o.selectedIndex=d)}}}}i.showPlaceholders&&!o.placeholder&&(n.placeholder=this._col.header);this._showEditor();i._edtHdl._fullEdit=!0;if(0==a.indexOf(\"key\")&&32==s.keyCode){setSelectionRange(n,n.value.length);s.preventDefault()}if(isIE()&&!i.imeEnabled)if(\"keypress\"==a&&s.key){setTimeout((function(){n.value=s.key;setSelectionRange(n,1);var e=document.createEvent(\"HTMLEvents\");e.initEvent(\"input\",!0,!1);n.dispatchEvent(e)}));s.preventDefault()}else if(\"compositionstart\"==a){var p=n.value.length;setSelectionRange(n,p)}this._isDropDown&&(o.isDroppedDown=u)}};_CustomEditor.prototype._cellEditEnding=function(e,t){if(!t.cancel&&t.getColumn(!0)==this._col){var i=this.grid,o=this._ctl,n=this._prop;if(this._isAutoComplete){var r=o.selectedIndex;if(isNumber(r)&&r<0){var l=o.collectionView;l&&1==l.items.length?o.selectedIndex=0:this._col.isRequired&&(t.cancel=!0)}}if(!t.cancel&&n){var s=!1;if(this._isInputMask){var a=o;if(null!=a){i._edtHdl._setCustomEditorValue(a._msk._applyMask());s=!0}}s||i._edtHdl._setCustomEditorValue(o[n])}}};_CustomEditor.prototype._cellEditEnded=function(e,t){this._hideEditor();this._updateFocus()};_CustomEditor.prototype._cmpstart=function(e){var t=this;this.grid.imeEnabled&&(isIE()?setTimeout((function(){t._activateEditor(e)})):this._activateEditor(e))};_CustomEditor.prototype._keydown=function(e){if(!e.defaultPrevented&&this._checkColumn(e.target))if(this.grid.activeEditor){if(e.keyCode==Key.Enter&&this._isDropDown){var t=this._ctl;if(t.isDroppedDown){t.isDroppedDown=!1;e.preventDefault();e.stopImmediatePropagation()}}}else if(this._isDropDown){var i=e.keyCode;switch(i){case Key.F4:case Key.Up:case Key.Down:if(i==Key.F4||e.altKey){this._activateEditor(e);e.preventDefault()}}}};_CustomEditor.prototype._checkColumn=function(e){var t=this._g;if(contains(e,this._tbx)||null!=e&&this._imeEditor()===e){var i=t._selHdl.selection;return t._getBindingColumn(t.cells,i.row,t.columns[i.col])==this._col}return!1};_CustomEditor.prototype._mousedown=function(e){if(!e.defaultPrevented&&0==e.button&&!e.shiftKey&&!e.ctrlKey&&!e.metaKey&&this._isDropDown&&closestClass(e.target,CellFactory._WJC_DROPDOWN)){var t=this.grid,i=t.hitTest(e);if(i.getColumn(!0)==this._col){t.select(i.range);t.refresh();this._activateEditor(e);e.preventDefault()}}};_CustomEditor.prototype._activateEditor=function(e){var t=this.grid;if(!t.activeEditor){var i=t._selHdl.selection;if(i.isValid)return t.startEditing(!0,i.row,i.col,!0,e)}return!1};_CustomEditor.prototype._showEditor=function(){var e=this.grid,t=e.activeEditor,i=closest(t,\".wj-cell\");if(i){var o=this._tbx,n=this._ctl.hostElement;setCss(n,_CustomEditor._cssVisible);toggleClass(o,\"wj-grid-ime\",!1);i.innerHTML=\"\";i.appendChild(n);e._edtHdl._edt=o;if(this._imeEditor())this._initImeEditInput();else{o.select();o.focus();t.value=\"\"}}};_CustomEditor.prototype._hideEditor=function(){var e=this.grid,t=this._ctl.hostElement,i=this._tbx;this._isDropDown&&(this._ctl.isDroppedDown=!1);i.setCustomValidity(\"\");var o=i.value;i.value=o+\" \";i.value=o;setCss(t,_CustomEditor._cssHidden);toggleClass(i,\"wj-grid-ime\",!0);e&&t.parentElement!=e._root&&e._root.appendChild(t)};_CustomEditor.prototype._resetTabIndex=function(){this._tbx.tabIndex=-1};_CustomEditor.prototype._updateFocus=function(){var e=this.grid;if(e&&!e.activeEditor){var t=e.hostElement,i=\".wj-flexgrid\",o=this._tbx,n=getActiveElement(),r=e._getTabIndex();if(closest(n,i)==t)if(closest(o,i)!=t)this._hideEditor();else if(e.imeEnabled)o.tabIndex>-1&&(o.tabIndex=-1);else{var l=e._selHdl.selection,s=e._getBindingColumn(e.cells,l.row,e.columns[l.col]);if(s&&s==this._col&&e.canEditCell(l.row,l.col)){if(n!==o){e.activeCell&&(e.activeCell.tabIndex=-1);o.tabIndex=r;if(!e.isTouching){o.select();o.focus()}}}else if(o.tabIndex>-1){o.tabIndex=-1;n==o&&e.focus(!0)}}}};_CustomEditor.prototype._initImeEditInput=function(){var e=this,t=this._imeEditor();if(t){var i=this._tbx,o=i&&i.style.color,n=this._ctl,compEndEh_1=function(){t.removeEventListener(\"compositionend\",compEndEh_1);setCss(t,_ImeHandler._cssHidden);if(i){i.style.color=o;var gotF=function(){n.gotFocus.removeHandler(gotF);e._g._edtHdl._edt=i;var o=t.value;if(o){i.value=o;e._isInputMask?setTimeout((function(){_CustomEditor._setSelectionRange(i,o.length,o.length)}),0):_CustomEditor._setSelectionRange(i,o.length,o.length);var r=document.createEvent(\"HTMLEvents\");r.initEvent(\"input\",!0,!1);i.dispatchEvent(r)}};n.gotFocus.addHandler(gotF);i.focus()}};t.addEventListener(\"compositionend\",compEndEh_1);i&&(i.style.color=\"transparent\")}};_CustomEditor._setSelectionRange=function(e,t,i){void 0===i&&(i=t);if(contains(document.body,e)&&!e.disabled&&\"none\"!=e.style.display)try{e.setSelectionRange(asNumber(t),asNumber(i),isIE()?null:\"backward\");e.focus()}catch(e){}};_CustomEditor.prototype._imeEditor=function(){var e=this.grid;if(e&&e.imeEnabled){var t=getActiveElement();if(t&&(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)&&hasClass(t,\"wj-grid-ime\"))return t}return null};_CustomEditor._cssHidden={position:\"fixed\",left:-32e3,top:-32e3,width:\"1px\",height:\"1px\",overflow:\"hidden\",border:\"none\"};_CustomEditor._cssVisible={position:\"absolute\",left:0,top:0,width:\"100%\",height:\"100%\"};return _CustomEditor}();export{_CustomEditor};export var KeyAction;!function(e){e[e.None=0]=\"None\";e[e.MoveDown=1]=\"MoveDown\";e[e.MoveAcross=2]=\"MoveAcross\";e[e.Cycle=3]=\"Cycle\";e[e.CycleOut=4]=\"CycleOut\";e[e.CycleEditable=5]=\"CycleEditable\"}(KeyAction||(KeyAction={}));var _KeyboardHandler=function(){function _KeyboardHandler(e){this._kaTab=KeyAction.None;this._kaEnter=KeyAction.MoveDown;this._g=e;var t=e.hostElement;e.addEventListener(t,\"keypress\",this._keypress.bind(this));e.addEventListener(t,\"keydown\",this._keydown.bind(this))}_KeyboardHandler.prototype._keydown=function(e){var t=this._g,i=t._edtHdl,o=t.selection,n=e.ctrlKey||e.metaKey,r=e.shiftKey,l=e.altKey,s=e.target,a=e.char||e.key,c=!0;if(!n&&!l&&a&&1==a.length&&closest(s,\".wj-cell\")&&s.firstElementChild&&(\" \"!=a||!r)){var u=s.querySelectorAll(\".\"+CellFactory._WJC_RADIOMAP+\" label input\");if(u&&u.length){for(var d=-1,h=0;h<u.length;h++)if(u[h].checked){d=h;break}a=a.toLowerCase();for(h=0;h<u.length;h++){var p=u[(d+h+1)%u.length];if(\" \"==a||p.value.toLowerCase()[0]==a){p.click();break}}e.preventDefault();return}}if(!t._wantsInput(s)){var f=tryCast(t.rows[o.row],GroupRow),g=t.editableCollectionView,_=t._getKeyCode(e),m=SelMove,C=SelectionMode,w=e.defaultPrevented&&!(s instanceof HTMLInputElement);if((t.isRangeValid(o)&&!w||n&&65==_)&&(!t.activeEditor||!i._keydown(e)||t._isNativeCheckbox(t.activeEditor))){if(t.autoClipboard){if(n&&(67==_||45==_)){var v=new CellRangeEventArgs(t.cells,o);if(t.onCopying(v)){var y=HeadersVisibility,b=0!=(t.copyHeaders&y.Column),R=0!=(t.copyHeaders&y.Row),E=t.getClipString(null,!1,b,R)+\"\\r\\n\";t._eFocus.focus();Clipboard.copy(E);t.onCopied(v)}e.stopPropagation();return}if(n&&86==_||r&&45==_){t.isReadOnly||Clipboard.paste((function(e){t.setClipString(e)}));e.stopPropagation();return}}(r||n)&&\"Space\"==e.code&&(_=Key.Space);var x=e.target,S=x.closest(\".wj-cell\"),H=x&&S&&S[\"wj-cell-index\"]&&S[\"wj-cell-index\"].panel,M=[HeadersFocusability.Column,HeadersFocusability.All].includes(t.headersFocusability),F=[HeadersFocusability.Row,HeadersFocusability.All].includes(t.headersFocusability);switch(_){case Key.Space:if(S&&H&&[CellType.RowHeader,CellType.TopLeft,CellType.ColumnHeader].includes(H._ct)&&F){var T=t.activePanelType;t.activePanelType=T;var G=S.querySelector(\".wj-cell-check\"),P=G&&!G.checked;setTimeout((function(){t.activePanelType=T;S.classList.add(\"wj-focus-header-cell\");t._hideMarquee();S.focus();P&&t._activeCell.classList.add(\"wj-state-multi-selected\")}),200);t._activeCell=null}else if(r&&o.isValid)switch(t.selectionMode){case C.CellRange:case C.MultiRange:case C.Row:case C.RowRange:case C.ListBox:t.select(new CellRange(o.row,0,o.row,t.columns.length-1),!1)}else if(n&&o.isValid)switch(t.selectionMode){case C.CellRange:case C.MultiRange:t.select(new CellRange(0,o.col,t.rows.length-1,o.col),!1)}else{(c=this._startEditing(!0,e))&&setTimeout((function(){var e=t.activeEditor;if(e)if(e.disabled||e.readOnly&&!closest(e,\".wj-control\"))t.finishEditing();else if(\"checkbox\"==e.type){setChecked(e,e.indeterminate||!e.checked);t.finishEditing()}}));c=!0}break;case 65:if(n)switch(t.selectionMode){case C.None:case C.Cell:break;default:t.selectAll()}else c=!1;break;case Key.Left:if(S&&H&&H._ct===CellType.ColumnHeader&&M){e.preventDefault();t._selHdl.moveSelection(SelMove.None,SelMove.Prev,!1)}else if(n||l)c=!1;else if(o.isValid&&0==o.leftCol&&f&&!f.isCollapsed&&f.hasChildren)f.isCollapsed=!0;else if(F&&f&&!f.isCollapsed&&f.hasChildren)f.isCollapsed=!0;else{if(t.selectionMode==C.None)return;this._moveSel(m.None,n?m.Home:m.Prev,r)}break;case Key.Right:if(S&&H&&H._ct===CellType.ColumnHeader&&M){e.preventDefault();t._selHdl.moveSelection(SelMove.None,SelMove.Next,!1)}else if(n||e.altKey)c=!1;else if(o.isValid&&0==o.leftCol&&f&&f.isCollapsed)f.isCollapsed=!1;else if(F&&f&&f.isCollapsed&&(!H||H&&H._ct===CellType.Cell))f.isCollapsed=!1;else{if(t.selectionMode==C.None)return;this._moveSel(m.None,n?m.End:m.Next,r)}break;case Key.Up:if(n)c=!1;else if(e.altKey&&i._toggleListBox(e))c=!0;else{if(t.selectionMode==C.None)return;this._moveSel(m.Prev,m.None,r)}break;case Key.Down:if(n)c=!1;else if(e.altKey&&i._toggleListBox(e))c=!0;else{if(t.selectionMode==C.None)return;this._moveSel(m.Next,m.None,r)}break;case Key.PageUp:this._moveSel(e.altKey?m.Home:m.PrevPage,m.None,r);if(t.rows.frozen&&t.selection.row<t.rows.frozen){var A=t.scrollPosition;A.y&&(t.scrollPosition=new Point(A.x,0))}break;case Key.PageDown:this._moveSel(e.altKey?m.End:m.NextPage,m.None,r);break;case Key.Home:this._moveSel(n?m.Home:m.None,m.Home,r);break;case Key.End:this._moveSel(n?m.End:m.None,m.End,r);break;case Key.Tab:if(!(c=this._performKeyAction(t.keyActionTab,r))&&!t.activeCell){t.focus(!0);if(t.imeEnabled){var I=t._imeHdl;I&&I._resetTabIndex()}else{(z=this._getCustomEditor(t,o.row,o.col))&&z._resetTabIndex()}}break;case Key.Enter:if(S&&H&&H._ct===CellType.ColumnHeader&&M){e.preventDefault();S.click();setTimeout((function(){t.activePanelType=CellType.ColumnHeader;S.classList.add(\"wj-focus-header-cell\");t._hideMarquee();S.focus()}),30)}else if(S&&H&&H._ct===CellType.RowHeader&&F){e.preventDefault();t._selHdl.moveSelection(SelMove.Next,SelMove.None,!1)}else{c=this._performKeyAction(t.keyActionEnter,r);var z;(z=this._getCustomEditor(t,o.row,o.col))||t.focus(!0);!r&&g&&null!=g.currentEditItem&&i._commitRowEdits()}break;case Key.Escape:c=!1;if(g&&(g.currentAddItem||g.currentEditItem)){var D=new CellRangeEventArgs(t.cells,t.selection);D.cancel=!0;t.onRowEditEnding(D);g.currentAddItem&&g.cancelNew();g.currentEditItem&&g.cancelEdit();t.onRowEditEnded(D);c=!0}t._mouseHdl.resetMouseState();break;case Key.Delete:case Key.Back:c=this._deleteSel(e);break;case Key.F2:c=this._startEditing(!0,e);break;case Key.F4:c=i._toggleListBox(e);break;default:c=!1}if(c){t.containsFocus()||t.focus();e.preventDefault();e.stopPropagation()}}}};_KeyboardHandler.prototype._performKeyAction=function(e,t){var i=KeyAction,o=SelMove;switch(e){case i.MoveDown:this._moveSel(t?o.Prev:o.Next,o.None,!1);return!0;case i.MoveAcross:this._moveSel(o.None,t?o.Prev:o.Next,!1);return!0;case i.Cycle:this._moveSel(o.None,t?o.PrevCell:o.NextCell,!1);return!0;case i.CycleEditable:this._moveSel(o.None,t?o.PrevEditableCell:o.NextEditableCell,!1);return!0;case i.CycleOut:var n=this._g.selection;this._moveSel(o.None,t?o.PrevCell:o.NextCell,!1);return!n.equals(this._g.selection)}return!1};_KeyboardHandler.prototype._keypress=function(e){var t=this,i=this._g;if(!i._wantsInput(e.target)&&!e.defaultPrevented){var o=i._edtHdl;if(i.activeEditor)o._keypress(e);else if(e.charCode>Key.Space&&\"AltLeft\"!=e.code&&\"AltRight\"!=e.code)if(this._startEditing(!1,e)&&i.activeEditor){var n=getActiveElement();if(n instanceof HTMLInputElement&&\"checkbox\"!=n.type||n instanceof HTMLTextAreaElement){var r=i._selHdl.selection,l=i.getCellData(r.row,r.col,!0),s=i.getCellData(r.row,r.col,!1),a=culture.Globalize.numberFormat[\"%\"]||\"%\",c=String.fromCharCode(e.charCode),u=isNumber(s)&&l.indexOf(a)>-1||\"\"==l&&n.value==a,d=!0,initEditor_1=function(){n.value=u?c+a:c;setSelectionRange(n,1);n.dispatchEvent(o._evtInput);o._keypress(e);o._edtValue=n.value!=l?n.value:null};if(i.imeEnabled){var h=this._getCustomEditor(i,r.row,r.col),p=h&&h.control;if(p&&!p._focus){var gotF_1=function(){p.gotFocus.removeHandler(gotF_1);d=!1;initEditor_1()};p.gotFocus.addHandler(gotF_1)}}d&&initEditor_1();e.preventDefault()}}else if(i.autoSearch){var f=!1;r=i._selHdl.selection;if(e.charCode>32||32==e.charCode&&this._search){e.preventDefault();this._search+=String.fromCharCode(e.charCode);this._toSearch&&clearTimeout(this._toSearch);this._toSearch=setTimeout((function(){t._toSearch=null;t._search=\"\"}),Control._SEARCH_DELAY);var g=this._findNext(r.row,r.col);if(g<0&&this._search.length>1){this._search=this._search[this._search.length-1];g=this._findNext(r.row,r.col)}if(g>-1){f=!0;i.select(g,r.col)}}f||(this._search=\"\")}}};_KeyboardHandler.prototype._getCustomEditor=function(e,t,i){var o=e._getBindingColumn(e.cells,t,e.columns[i]);return o&&o._edt};_KeyboardHandler.prototype._findNext=function(e,t){var i=this._g,o=i.rows.length;(e<0||1==this._search.length)&&e++;var n=this._search,r=i.caseSensitiveSearch;r||(n=n.toLowerCase());for(var l=i.columns[t].isContentHtml,s=0;s<o;s++){var a=(e+s)%o,c=i.getCellData(a,t,!0).trim();l&&(c=toPlainText(c));r||(c=c.toLowerCase());if(0==c.indexOf(n))return a}return-1};_KeyboardHandler.prototype._moveSel=function(e,t,i){var o=this._g,n=o.selectionMode,r=o._selHdl;if(n!=SelectionMode.None){n==SelectionMode.MultiRange&&r.extendedSelection.clear();r.moveSelection(e,t,i)}};_KeyboardHandler.prototype._deleteSel=function(e){var t=this,i=this._g,o=i.rows,n=i.editableCollectionView,r=i.selection,l=[],s=new CellRange,a=new CellEditEndingEventArgs(i.cells,s,e),c=SelectionMode;if(!i._edtHdl._allowEdit())return!1;if(i.allowDelete&&(null==n||n.canRemove&&!n.isAddingNew&&!n.isEditingItem)&&0==(l=o.filter((function(e){return e.isSelected}))).length)switch(i.selectionMode){case c.CellRange:case c.MultiRange:var u=i._getDeleteColumnIndex();i.selectedRanges.forEach((function(e){if(e.leftCol==u&&e.rightCol==i.columns.length-1)for(var t=e.topRow;t>-1&&t<=e.bottomRow;t++){var n=o[t];l.indexOf(n)<0&&l.push(n)}}));break;case c.Row:r.topRow>-1&&l.push(o[r.topRow]);break;case c.RowRange:for(var d=r.topRow;d>-1&&d<=r.bottomRow;d++)l.push(o[d])}if(l.length>0){var h=0;i.deferUpdate((function(){n&&n.beginUpdate();for(var e=l.length-1;e>=0;e--){var t=l[e];if(!(t instanceof _NewRowTemplate)){s.setRange(t.index,-1);if(i.onDeletingRow(a)){n&&t.dataItem?n.remove(t.dataItem):i.rows.removeAt(t.index);h++;i.onDeletedRow(a)}}}n&&n.endUpdate(!1)}));if(h>0){var p=r.topRow;p=Math.min(p,i.rows.length-1);for(;p>0&&i.rows[p]instanceof _NewRowTemplate;)p--;r.row=r.row2=p;i.select(r,!1);i.childItemsPath&&n&&n.refresh()}return!0}if(0==l.length){i.deferUpdate((function(){var s=i.scrollPosition,a=-1;l=o.filter((function(e){return e.isSelected}));var u=i.selectedRanges.length>1||l.length>1||r.isValid&&o[r.row].dataItem!=o[r.row2].dataItem;n&&n.beginUpdate();if(l.length){var d=new CellRange(0,0,0,i.columns.length-1);l.forEach((function(i){d.row=d.row2=i.index;t._deleteRange(e,d);a=d.bottomRow}))}else{t._deleteRange(e,r);a=r.bottomRow;i.selectionMode==c.MultiRange&&i._selHdl.extendedSelection.forEach((function(i){t._deleteRange(e,i);a=i.bottomRow}))}i.select(r,!1);i.scrollPosition=s;if(n){if(u&&n.currentEditItem){n.commitEdit();var h=new CellRangeEventArgs(i.cells,new CellRange(a,-1));i.onRowEditEnding(h);i.onRowEditEnded(h)}n.endUpdate(!1)}}));return!0}return!1};_KeyboardHandler.prototype._deleteRange=function(e,t){for(var i=this._g,o=i.editableCollectionView,n=new CellRange,r=new CellEditEndingEventArgs(i.cells,n,e),l=new CellRangeEventArgs(i.cells,new CellRange(t.topRow,-1)),s=t.topRow;s<=t.bottomRow;s++){var a=i.rows[s];if(!a.isReadOnly)for(var c=t.leftCol;c<=t.rightCol;c++){var u=i._getBindingColumn(i.cells,s,i.columns[c]);if(!u.getIsRequired(a)&&!u.isReadOnly&&i.getCellData(s,c,!0)){n.setRange(s,c);r.cancel=!1;if(i.onBeginningEdit(r)){var d=a.dataItem,h=o?o.currentEditItem:null;if(h&&d!=h){i.onRowEditEnding(l);i.onRowEditEnded(l)}if(d!=h){l._rng.setRange(s,-1);i.onRowEditStarting(l);i.onRowEditStarted(l)}if(o){o.editItem(d);i._edtHdl._edItem=d}i.setCellData(s,c,\"\",!0,!1);i.onCellEditEnding(r);i.onCellEditEnded(r)}}}}};_KeyboardHandler.prototype._startEditing=function(e,t,i,o){return this._g._edtHdl.startEditing(e,i,o,!0,t)};return _KeyboardHandler}();export{_KeyboardHandler};var _AR_ALLCELLS=4,_WJC_DRAGSRC=\"wj-state-dragsrc\",_WJC_FLEXGRID=\"wj-flexgrid\";export var AllowResizing;!function(e){e[e.None=0]=\"None\";e[e.Columns=1]=\"Columns\";e[e.Rows=2]=\"Rows\";e[e.Both=3]=\"Both\";e[e.ColumnsAllCells=e.Columns|_AR_ALLCELLS]=\"ColumnsAllCells\";e[e.RowsAllCells=e.Rows|_AR_ALLCELLS]=\"RowsAllCells\";e[e.BothAllCells=e.Both|_AR_ALLCELLS]=\"BothAllCells\"}(AllowResizing||(AllowResizing={}));export var AutoSizeMode;!function(e){e[e.None=0]=\"None\";e[e.Headers=1]=\"Headers\";e[e.Cells=2]=\"Cells\";e[e.Both=3]=\"Both\"}(AutoSizeMode||(AutoSizeMode={}));export var AllowDragging;!function(e){e[e.None=0]=\"None\";e[e.Columns=1]=\"Columns\";e[e.Rows=2]=\"Rows\";e[e.Both=3]=\"Both\"}(AllowDragging||(AllowDragging={}));var _MouseHandler=function(){function _MouseHandler(e){var t=this,i=e.hostElement,o=e.addEventListener.bind(e),n=e.removeEventListener.bind(e);this._g=e;this._dvMarker=createElement('<div class=\"wj-marker\">&nbsp;</div>');o(i,\"mousedown\",(function(i){e._rcBounds=null;if(!i.defaultPrevented&&0==i.button){var r=i.target;if(!e.containsFocus()){var l=r instanceof HTMLElement&&r.tabIndex>-1?r:e._eFocus;e._setFocusNoScroll(l)}setTimeout((function(){i.defaultPrevented||e.focus()}));var s=closestClass(r,_WJC_FLEXGRID);if(s&&s!=e.hostElement||!e.activeEditor&&e._isInputElement(r)&&!t._hasRadioMap(i)&&!e._isNativeCheckbox(r)){var a=e.hitTest(i),c=CellType;switch(a.cellType){case c.Cell:e.select(a.range,!1);r instanceof HTMLElement&&\"root\"!=r.getAttribute(\"wj-part\")&&r.focus();break;case c.ColumnHeader:case c.ColumnFooter:e.scrollIntoView(-1,a.col);break;case c.RowHeader:e.scrollIntoView(a.row,-1)}isIE()&&a.cellType!=c.Cell&&e._isInputElement(r)&&r.focus();return}if(e._isNativeCheckbox(r)&&hasClass(r,\"wj-column-selector\")&&e.hitTest(i).cellType==CellType.RowHeader)return;var u=document;n(u,\"mousemove\");n(u,\"mouseup\");o(u,\"mousemove\",mouseMove);o(u,\"mouseup\",mouseUp);t._isDown=!0;t._mousedown(i)}}));var mouseMove=function(e){t._mousemove(e)},mouseUp=function(e){t._isDown=!1;n(document,\"mousemove\");n(document,\"mouseup\");t._mouseup(e)};o(i,\"mouseenter\",(function(t){e._rcBounds=null}));o(i,\"mousemove\",this._hover.bind(this));o(i,\"dblclick\",this._dblclick.bind(this));o(i,\"click\",this._click.bind(this));o(i,\"selectstart\",(function(t){e._isInputElement(t.target)||t.preventDefault()}));o(i,\"wheel\",(function(t){if(!t.defaultPrevented&&t.deltaY&&!t.ctrlKey&&!t.metaKey){var i=e._root,o=t.deltaY;if((t.shiftKey?i.scrollWidth>i.clientWidth:i.scrollHeight>i.clientHeight)&&closestClass(t.target,_WJC_FLEXGRID)==e.hostElement){switch(t.deltaMode){case 1:o=e.rows.defaultSize*(o<0?-1:1);break;case 2:o=(t.shiftKey?i.clientWidth:i.clientHeight)*(o<0?-1:1);break;case 0:default:isSafari()&&(o=clamp(o,-150,150))}e._isScrollingByWheel=!0;var n=e.finishEditing(!1);e._isScrollingByWheel=!1;n&&(t.shiftKey?i.scrollLeft+=o:i.scrollTop+=o);t.preventDefault();t.stopImmediatePropagation()}}}));o(i,\"dragstart\",this._dragstart.bind(this));o(i,\"dragover\",this._dragover.bind(this));o(i,\"dragleave\",this._dragleave.bind(this));o(i,\"drop\",this._drop.bind(this));o(i,\"dragend\",this._dragend.bind(this))}_MouseHandler.prototype.resetMouseState=function(){var e=this._g,t=e.hostElement;if(this._updating){this._updating=!1;e.endUpdate()}this._dragSrc&&removeClass(this._dragSrc,_WJC_DRAGSRC);this._showDragMarker(null);t&&(t.style.cursor=\"\");isSafari()&&this._szRowCol&&e.invalidate();e.removeEventListener(document,\"mousemove\");e.removeEventListener(document,\"mouseup\");this._eMouse=null;this._isDown=null;this._htDown=null;this._lbSelState=null;this._lbSelStateRows={};this._lbSel=null;this._szRowCol=null;this._szArgs=null;e._rcBounds=null;this._anchorCol=-1};_MouseHandler.prototype._mousedown=function(e){var t=this._g,i=e.target,o=t.hitTest(e),n=o.cellType,r=CellType,l=e.ctrlKey||e.metaKey;this._selDown=t.selection;this._ignoreClick=!1;if(o.panel==t.cells){if(closestClass(i,CellFactory._WJC_DROPDOWN)){var s=t.hitTest(i);t._edtHdl._toggleListBox(e,s.range);e.preventDefault();this._ignoreClick=!0;return}var a=t.editRange;if(a&&a.contains(o.range))return}var c=getActiveElement();if(i!=c||!t._isInputElement(i))if(n!=r.None){this._htDown=o;this._eMouse=e;this._anchorCol=o.col;if(null==this._szRowCol){var u=t.allowResizing,d=AllowResizing;if((n==r.RowHeader||n==r.TopLeft)&&o.edgeBottom&&u&d.Rows&&this._getResizeRowHt(o))this._ignoreClick=!0;else if((n==r.ColumnHeader||n==r.TopLeft)&&o.edgeRight&&u&d.Columns&&this._getResizeColHt(o))this._ignoreClick=!0;else{var h=t.allowDragging,p=AllowDragging;switch(n){case r.Cell:case r.RowHeader:if(l&&t.selectionMode==SelectionMode.ListBox){this._lbSelState=t.rows[o.row].isSelected;closest(i,\".wj-elem-collapse\")&&(this._lbSelState=!1)}this._mouseSelect(e,e.shiftKey);if(n==r.RowHeader&&!(h&p.Rows)){e.preventDefault();t.focus()}break;case r.ColumnHeader:t.allowSorting||h&p.Columns||closest(i,\"button\")||this._mouseSelect(e,e.shiftKey)}}}else{var f=t._eFocus;if(c!=f){f.tabIndex=0;f.focus()}this._ignoreClick=!0;this._handleResizing(e)}}else{t.finishEditing();i!=t._root&&i!=t._fCt&&t._edtHdl._commitRowEdits()}};_MouseHandler.prototype._mousemove=function(e){if(this._htDown&&!e.defaultPrevented){if(0==e.buttons&&this._eMouse&&e.timeStamp-this._eMouse.timeStamp>600){this.resetMouseState();return}this._eMouse=e;if(this._szRowCol)this._handleResizing(e);else{var t=this._g,i=t.allowDragging,o=AllowDragging,n=CellType;switch(this._htDown.cellType){case n.Cell:this._mouseSelect(e,!0);break;case n.RowHeader:i&o.Rows||this._mouseSelect(e,!0);break;case n.ColumnHeader:i&o.Columns||t.allowSorting||this._mouseSelect(e,!0)}}}};_MouseHandler.prototype._mouseup=function(e){var t=this._g;if(!t.isTouching||!(this._dragSrc||e.target instanceof HTMLHtmlElement)){var i=t.hitTest(e),o=this._htDown;if(o&&!e.defaultPrevented){this._szArgs&&this._finishResizing(e);if(!this._szArgs&&i.panel==o.panel&&i.row==o.row&&i.col==o.col){var n=i.getColumn();if(n){if(!(n._getFlag(RowColFlags.HasTemplate)&&!n.cellTemplate)){var r=i.target;if(r!=o.target&&r instanceof HTMLElement){if(o.target instanceof HTMLInputElement){var l=i.point,s=o.point;Math.abs(l.x-s.x)+Math.abs(l.y-s.y)<10&&(r=r.querySelector(\"input\")||r)}var a=document.createEvent(\"Event\");a.initEvent(\"click\",!0,!0);for(var c in e)/Key$|X$|Y$|^button|^(x|y|which)$/.test(c)&&(a[c]=e[c]);r.dispatchEvent(a)}}}}}this.resetMouseState()}};_MouseHandler.prototype._click=function(e){if(this._ignoreClick){this._ignoreClick=!1;e.preventDefault()}if(!e.defaultPrevented){var t=this._g,i=e.target,o=t.hitTest(i),n=tryCast(i,HTMLInputElement),r=\"input.\"+CellFactory._WJC_CHECKBOX;if(!n){var l=closest(i,\"label\");l&&(n=l.querySelector(r))}!n&&t.bigCheckboxes&&(n=i.querySelector(r));if(n!=t.activeEditor&&t._isNativeCheckbox(n)){if(o.panel==t.cells){var s=t.getCellData(o.row,o.col,!1);if(t.startEditing(!1,o.row,o.col,!1,e)){t.activeEditor.checked=!s;t.finishEditing();t.focus()}else\"boolean\"!=typeof s&&void 0!==s||(n.checked=s)}return}if(this._hasRadioMap(e)){this._handleClick(e);return}var a=e.ctrlKey||e.metaKey;if(t.rows.maxGroupLevel>-1&&closestClass(i,CellFactory._WJC_COLLAPSE)){var c=t.rows[o.row];if(o.panel==t.cells&&c instanceof GroupRow){a?t.collapseGroupsToLevel(c.isCollapsed?c.level+1:c.level):c.isCollapsed=!c.isCollapsed;return}}if(!a&&!e.shiftKey&&!t.activeEditor&&o.panel==t.cells){var u=t._selHdl.selection;if(u.equals(this._selDown)&&o.range.contains(u)){t.startEditing(!0,null,null,!0,e);return}}this._handleClick(e)}};_MouseHandler.prototype._handleClick=function(e){var t=this._g,i=e.target,o=t.hitTest(i),n=e.ctrlKey||e.metaKey,r=o.panel;if(!e.defaultPrevented&&o.grid==t){if(r==t.cells&&this._hasRadioMap(e)){var l=closest(i,\"label\"),s=l&&l.querySelector(\"input\");s&&!s.disabled&&t.startEditing(!1,o.row,o.col,!1,e)&&t.finishEditing()&&(t._edtHdl._edtCanceled?e.preventDefault():t.setCellData(o.row,o.col,l.textContent,!0,t.refreshOnEdit));return}if(!t._isInputElement(i)){if(r==t.topLeftCells){var a=SelectionMode;switch(t.selectionMode){case a.None:case a.Cell:break;default:t.selectAll()}return}if(r==t.columnHeaders){if(t.allowPinning&&closestClass(i,CellFactory._WJC_PIN))this._clickPin(e,o);else if(!t._isTransposed()&&closestClass(e.target,CellFactory._WJC_COLLAPSE)){if(p=t._getColumnGroup(o.row,o.col))if(n){for(var c=p.isCollapsed,u=p.level,d=[],h=0;h<t.columns.length;h++)if((p=t._getColumnGroup(o.row,h))&&p.collapseTo&&p.level==u&&d.indexOf(p)<0){d.push(p);p.isCollapsed=!c}}else p.isCollapsed=!p.isCollapsed}else{i instanceof HTMLSpanElement&&i.parentElement instanceof HTMLLabelElement&&(i=i.parentElement.querySelector(\"input\"));i instanceof HTMLInputElement||this._clickSort(e,o);t.focus()}return}if(r==t.rowHeaders){if(t._isTransposed()&&closestClass(e.target,CellFactory._WJC_COLLAPSE)){var p;if(p=t._getColumnGroup(o.row,o.col))if(n){c=p.isCollapsed,u=p.level,d=[];for(var f=0;f<t.rows.length;f++)if((p=t._getColumnGroup(f,o.col))&&p.collapseTo&&p.level==u&&d.indexOf(p)<0){d.push(p);p.isCollapsed=!c}}else p.isCollapsed=!p.isCollapsed}return}if(r==t.cells){if(o.row<0){this._clickSort(e,o);return}if(closestClass(i,CellFactory._WJC_COLLAPSE)){var g=t.rows[o.row];g instanceof GroupRow&&(n?t.collapseGroupsToLevel(g.isCollapsed?g.level+1:g.level):g.isCollapsed=!g.isCollapsed);return}closestClass(i,CellFactory._WJC_DROPDOWN)&&t._edtHdl._toggleListBox(e,o.range)}}}};_MouseHandler.prototype._hasRadioMap=function(e){var t=e.target;if(closest(t,\"label\")){var i=closestClass(t,CellFactory._WJC_RADIOMAP);return closestClass(i,_WJC_FLEXGRID)==this._g.hostElement}return!1};_MouseHandler.prototype._clickSort=function(e,t){var i=this._g,o=i.allowSorting,n=i.collectionView,r=n?n.sortDescriptions:null,l=e.ctrlKey||e.metaKey,s=e.shiftKey;if(n&&n.canSort&&o!=AllowSorting.None){var a=t.panel.columns[t.col],c=i._getBindingColumn(t.panel,t.row,a),u=c?c._getBindingSort():null;if(c.allowSorting&&u){if(a==c){var d=i.getMergedRange(t.panel,t.row,t.col,!1);if(d&&d.columnSpan>1)return}var h=new CellRangeEventArgs(t.panel,t.range,e);if(i.onSortingColumn(h)){i._edtHdl._commitRowEdits();for(var p=-1,f=null,g=0;g<r.length;g++)if(r[g].property==u){p=g;f=r[g];break}r.deferUpdate((function(){if(l&&s)r.clear();else if(f){var e=l;!e&&i.isTouching&&(e=0==f.ascending);e?r.removeAt(p):r[p]=new SortDescription(u,!f.ascending)}else{o!=AllowSorting.MultiColumn&&r.clear();var t=new SortDescription(u,!0);r.push(t)}}));i.onSortedColumn(h)}}}};_MouseHandler.prototype._clickPin=function(e,t){var i=this._g,o=i.columns,n=o.frozen,r=i.allowPinning;r==AllowPinning.Both&&(r=e.shiftKey?AllowPinning.ColumnRange:AllowPinning.SingleColumn);var l=new CellRangeEventArgs(i.cells,t.range);if(i.onPinningColumn(l)){if(r==AllowPinning.SingleColumn)if(t.col>=n){o.moveElement(t.col,n,!1);o.frozen++}else{o.moveElement(t.col,n-1,!1);o.frozen--}r==AllowPinning.ColumnRange&&(t.col+1!=n?o.frozen=t.col+1:o.frozen=0);i.onPinnedColumn(l)}};_MouseHandler.prototype._dblclick=function(e){if(!e.defaultPrevented){var t,i=this._g,o=i.hitTest(e),n=e.ctrlKey||e.metaKey,r=o.range,l=o.cellType,s=CellType,a=i.selection,c=i.allowResizing,u=AllowResizing;if(o.edgeRight&&c&u.Columns){if(l==s.TopLeft){if(o.panel.columns[o.col].allowResizing){t=new CellRangeEventArgs(o.panel,new CellRange(-1,o.col));if(i.onAutoSizingColumn(t)&&i.onResizingColumn(t)){this._ignoreClick=!0;i.autoSizeColumn(o.col,!0);i.onAutoSizedColumn(t);i.onResizedColumn(t);e.preventDefault()}}}else if(l==s.ColumnHeader||c&_AR_ALLCELLS){l==s.ColumnHeader&&n&&a.containsColumn(o.col)&&(r=a);for(var d=l==s.RowHeader||l==s.BottomLeft,h=r.leftCol;h<=r.rightCol;h++)if(o.panel.columns[h].allowResizing){t=new CellRangeEventArgs(o.panel,new CellRange(-1,h));if(i.onAutoSizingColumn(t)&&i.onResizingColumn(t)){this._ignoreClick=!0;i.autoSizeColumn(h,d);i.onResizedColumn(t);i.onAutoSizedColumn(t);e.preventDefault()}}}this.resetMouseState()}else if(o.edgeBottom&&c&u.Rows){if(l==s.TopLeft||l==s.BottomLeft){if(o.getRow().allowResizing){d=l==s.TopLeft||null;t=new CellRangeEventArgs(o.panel,new CellRange(o.row,-1));if(i.onAutoSizingRow(t)&&i.onResizingRow(t)){this._ignoreClick=!0;i.autoSizeRow(o.row,d);i.onResizedRow(t);i.onAutoSizedRow(t);e.preventDefault()}}}else if(l==s.RowHeader||c&_AR_ALLCELLS){var p=o.panel;d=p==i.columnHeaders||p==i.columnFooters&&null;n&&a.containsRow(o.row)&&p==i.cells&&(r=a);for(var f=r.topRow;f<=r.bottomRow;f++)if(p.rows[f].allowResizing){t=new CellRangeEventArgs(p,new CellRange(f,-1));if(i.onAutoSizingRow(t)&&i.onResizingRow(t)){this._ignoreClick=!0;i.autoSizeRow(f,d);i.onResizedRow(t);i.onAutoSizedRow(t);e.preventDefault()}}}this.resetMouseState()}else;}};_MouseHandler.prototype._hover=function(e){if(!this._isDown){var t=this._g,i=t.hitTest(e),o=\"\";this._szRowCol=this._getResizeColHt(i)||this._getResizeRowHt(i);this._szRowCol instanceof Column?o=\"col-resize\":this._szRowCol instanceof Row&&(o=\"row-resize\");this._szStart=this._szRowCol?this._szRowCol.renderSize:0;t.hostElement.style.cursor=o;return i}return null};_MouseHandler.prototype._getResizeColHt=function(e){var t,i=this._g.allowResizing,o=e.cellType,n=CellType;if(i&AllowResizing.Columns&&(o==n.ColumnHeader||o==n.TopLeft||i&_AR_ALLCELLS)){e.edgeRight&&(t=e.getColumn());e.edgeFarRight&&(t=this._getResizeCol(e.panel,e.col)||e.getColumn());e.edgeLeft&&(t=this._getResizeCol(e.panel,e.col,!0)||t)}return t&&t.allowResizing?t:null};_MouseHandler.prototype._getResizeRowHt=function(e){var t,i=this._g.allowResizing,o=AllowResizing,n=e.cellType,r=CellType;if(i&o.Rows&&(n==r.RowHeader||n==r.TopLeft||i&_AR_ALLCELLS)){e.edgeBottom&&(t=e.getRow());e.edgeFarBottom&&(t=this._getResizeRow(e.panel,e.row)||e.getRow());e.edgeTop&&(t=this._getResizeRow(e.panel,e.row,!0)||t)}return t&&t.allowResizing?t:null};_MouseHandler.prototype._getResizeCol=function(e,t,i){void 0===i&&(i=!1);var o=this._g,n=e.columns;if(i){for(var r=t-1;r>=0;r--){if((l=n[r]).isVisible)return this._asResizable(l)}if(n==o.columns&&0!=(o.headersVisibility&HeadersVisibility.Row))for(r=(n=o.rowHeaders.columns).length-1;r>=0;r--){if((l=n[r]).isVisible)return this._asResizable(l)}return null}for(r=t+1;r<n.length;r++){if((l=n[r]).isVisible)return this._asResizable(l)}if(t==n.length-1&&n==o.rowHeaders.columns){n=o.columns;for(r=0;r<n.length;r++){var l;if((l=n[r]).isVisible)return this._asResizable(l)}}return null};_MouseHandler.prototype._getResizeRow=function(e,t,i){void 0===i&&(i=!1);var o=this._g,n=e.rows;if(i){for(var r=t-1;r>=0;r--){if((l=n[r]).isVisible)return this._asResizable(l)}if(n==o.rows&&0!=(o.headersVisibility&HeadersVisibility.Column))for(r=(n=o.columnHeaders.rows).length-1;r>=0;r--){if((l=n[r]).isVisible)return this._asResizable(l)}return null}for(r=t+1;r<n.length;r++){if((l=n[r]).isVisible)return this._asResizable(l)}if(t==n.length-1&&n==o.columnHeaders.rows){n=o.rows;for(r=0;r<n.length;r++){var l;if((l=n[r]).isVisible)return this._asResizable(l)}}return null};_MouseHandler.prototype._asResizable=function(e){return 0==e.renderSize&&e.allowResizing?e:null};_MouseHandler.prototype._mouseSelect=function(e,t){var i=this,o=this._g;if(e&&this._htDown&&this._htDown.panel&&o.selectionMode!=SelectionMode.None){var n=new HitTestInfo(this._htDown.panel,e);this._handleSelection(n,t);!isIE9()&&e.button>=0&&e.target!=o._root&&((n=new HitTestInfo(o,e)).panel||setTimeout((function(){i._isDown&&i._eMouse&&i._mouseSelect(i._eMouse,t)}),100))}};_MouseHandler.prototype._handleResizing=function(e){\"mousedown\"==e.type&&(isSafari()?setAttribute(e.target,\"draggable\",null):e.preventDefault());var t=this._szRowCol;if(t instanceof Column){var i=this._g,o=mouseToPage(e).x,n=Math.round(Math.max(_MouseHandler._SZ_MIN,this._szStart+(o-this._htDown.point.x)*(i.rightToLeft?-1:1)));if(t.renderSize!=n){if(null==this._szArgs){var r=i.rowHeaders.columns.indexOf(t)>-1?i.rowHeaders:i.cells;this._szArgs=new CellRangeEventArgs(r,new CellRange(-1,t.index))}this._szArgs.cancel=!1;i.onResizingColumn(this._szArgs)&&(i.deferResizing?this._showResizeMarker(n):t.width=n)}}var l=this._szRowCol;if(l instanceof Row){i=this._g;var s=mouseToPage(e).y;n=Math.round(Math.max(_MouseHandler._SZ_MIN,this._szStart+(s-this._htDown.point.y)));if(l.renderSize!=n){if(null==this._szArgs){r=i.columnHeaders.rows.indexOf(l)>-1?i.columnHeaders:i.columnFooters.rows.indexOf(l)>-1?i.columnFooters:i.cells;this._szArgs=new CellRangeEventArgs(r,new CellRange(l.index,-1))}this._szArgs.cancel=!1;i.onResizingRow(this._szArgs)&&(i.deferResizing?this._showResizeMarker(n):l.height=n)}}this._szArgs&&e.preventDefault()};_MouseHandler.prototype._dragstart=function(e){var t=this._g,i=this._htDown,o=AllowDragging,n=CellType;if(i){this._dragSrc=null;this._htDrag=null;this._chldColGrpMarker=!1;if(!this._szRowCol){var r=new CellRangeEventArgs(i.panel,i.range),l=t.allowDragging,s=i.cellType,a=i.panel.rows,c=i.getColumn(!0);c&&c.allowDragging&&(s==n.ColumnHeader||s==n.TopLeft)&&l&o.Columns&&(t.onDraggingColumn(r)?this._dragSrc=e.target:e.preventDefault());if(!this._dragSrc&&i.row>-1&&a[i.row].allowDragging){var u=a[i.row];u instanceof GroupRow||u instanceof _NewRowTemplate||s==n.RowHeader&&l&o.Rows&&(t.onDraggingRow(r)?this._dragSrc=e.target:e.preventDefault())}}if(this._dragSrc&&e.dataTransfer&&!e.defaultPrevented){this._htDrag=i;_startDrag(e.dataTransfer,\"move\");e.stopPropagation();addClass(this._dragSrc,_WJC_DRAGSRC);t.beginUpdate();this._updating=!0}}};_MouseHandler.prototype._dragend=function(e){this._dragSrc=null;this._htDrag=null;this.resetMouseState()};_MouseHandler.prototype._dragover=function(e){var t=this._g,i=this._hitTest(e),o=this._dragSrc?this._htDrag:null,n=CellType,r=!1;if(o&&i.cellType==o.cellType){var l=new CellRangeEventArgs(i.panel,i.range,o);if(i.cellType==n.ColumnHeader&&t._hasColumnGroups()){l.cancel=!t._canMoveColumnGroup(o.row,o.col,i.row,i.col);r=t.onDraggingColumnOver(l)}else if(i.cellType==n.ColumnHeader){l.cancel=!t.columns.canMoveElement(o.col,i.col);r=t.onDraggingColumnOver(l)}else if(i.cellType==n.RowHeader){l.cancel=!t.rows.canMoveElement(o.row,i.row);r=t.onDraggingRowOver(l)}else if(i.cellType==n.TopLeft){l.cancel=!t.topLeftCells.columns.canMoveElement(o.col,i.col);r=t.onDraggingColumnOver(l)}}if(r){e.dataTransfer.dropEffect=\"move\";e.preventDefault();e.stopPropagation();this._showDragMarker(i)}else this._showDragMarker(null);if(o&&t.autoScroll){var s=t.controlRect,a=t.scrollPosition,c=Control._DRAG_SCROLL_EDGE,u=Control._DRAG_SCROLL_STEP;if(o.panel==t.columnHeaders){e.pageX-s.left<c&&(a.x+=u);s.right-e.pageX<c&&(a.x-=u)}else if(o.panel==t.rowHeaders){e.pageY-s.top<c&&(a.y+=u);s.bottom-e.pageY<c&&(a.y-=u)}if(!a.equals(t._ptScrl)){t.scrollPosition=a;t._rcBounds=null}}};_MouseHandler.prototype._dragleave=function(e){this._showDragMarker(null)};_MouseHandler.prototype._drop=function(e){var t=this._g,i=this._hitTest(e),o=this._dragSrc?this._htDrag:null,n=CellType;if(o&&i.cellType==o.cellType){var r=t.selection,l=new CellRangeEventArgs(i.panel,i.range,o);if(i.cellType==n.ColumnHeader&&t._hasColumnGroups()){t._moveColumnGroup(o.row,o.col,i.row,i.col,this._chldColGrpMarker);t.select(r.row,i.col);t.onDraggedColumn(l)}else if(i.cellType==n.ColumnHeader){t.columns.moveElement(o.col,i.col);t.select(r.row,i.col);t.onDraggedColumn(l)}else if(i.cellType==n.RowHeader){t.rows.moveElement(o.row,i.row);t.select(i.row,r.col);t.onDraggedRow(l)}else if(i.cellType==n.TopLeft){t.topLeftCells.columns.moveElement(o.col,i.col);t.onDraggedColumn(l)}}this.resetMouseState()};_MouseHandler.prototype._hitTest=function(e){var t=this._g;t._rcBounds=null;return t.hitTest(e)};_MouseHandler.prototype._showResizeMarker=function(e){var t,i=this._g,o=i._ptScrl,n=this._szArgs.panel.cellType,r=CellType,l=this._dvMarker,s=i.cells.hostElement;l.parentElement!=s&&s.appendChild(l);if(this._szRowCol instanceof Column){t={left:this._szRowCol.pos+e-1,top:-1e3,right:\"\",bottom:0,width:3,height:\"\"};n!=r.TopLeft&&n!=r.RowHeader||(t.left-=i._eTL.offsetWidth+o.x);n==r.Cell&&this._szRowCol.index<i.frozenColumns&&(t.left-=o.x);i.rightToLeft&&(t.left=s.clientWidth-t.left-t.width)}else{t={left:-1e3,top:this._szRowCol.pos+e-1,right:0,bottom:\"\",width:\"\",height:3};n!=r.TopLeft&&n!=r.ColumnHeader||(t.top-=i._eTL.offsetHeight+o.y);n==r.Cell&&this._szRowCol.index<i.frozenRows&&(t.top-=o.y)}setCss(l,t)};_MouseHandler.prototype._showDragMarker=function(e){var t=this._dvMarker;if(e&&e.panel){if(!e.range.equals(this._rngTarget)){this._rngTarget=e.range;var i=e.panel.hostElement;t.parentElement!=i&&i.appendChild(t);var o=this._g,n=o._ptScrl,r=CellType,l={left:0,top:0,width:6,height:6,right:\"\",bottom:\"\"};switch(e.cellType){case r.ColumnHeader:var s=o._getColumnGroup(e.row,e.col);if(s){var a=s._rng,c=e.panel.rows,u=e.panel.columns;if(s.isEmpty&&null===s.binding){var d=c[a.bottomRow],h=u[a.leftCol],p=o.rightToLeft,f=p?t.parentElement.clientWidth-e.point.x:e.point.x,g=Math.max(h.renderWidth/5,_MouseHandler._SZ_MAX_COLGRP_EDGE),_=h.pos+g,m=h.pos+h.renderWidth-g,C=this._htDown&&e.col>this._htDown.col;if(!C&&f>_||C&&f<m){l.top=d.pos-l.height/2+d.renderHeight;l.left=p?t.parentElement.clientWidth-h.pos-h.renderWidth:h.pos;l.width=h.renderWidth;this._chldColGrpMarker=!0;break}}this._chldColGrpMarker=!1;l.top=0;l.height=0;for(var w=0;w<a.topRow;w++)l.top+=c[w].renderHeight;for(w=a.topRow;w<=a.bottomRow;w++)l.height+=c[w].renderHeight;l.left=0;if(this._htDown&&e.col>this._htDown.col){var v=u[a.rightCol];l.left=v.pos-l.width/2+v.renderWidth}else{var y=u[a.leftCol];l.left=y.pos-l.width/2}o.rightToLeft&&(l.left=t.parentElement.clientWidth-l.left-l.width);break}case r.TopLeft:case r.ColumnHeader:var b=e.panel.columns[e.col];l.left=b.pos-l.width/2;l.height=e.panel.height;this._htDown&&e.col>this._htDown.col&&(l.left+=b.renderWidth);e.cellType==r.ColumnHeader&&e.col<o.frozenColumns&&(l.left-=n.x);o.rightToLeft&&(l.left=t.parentElement.clientWidth-l.left-l.width);break;case r.RowHeader:var R=e.getRow();l.top=R.pos-l.height/2;l.width=e.panel.width;e.row>this._htDown.row&&(l.top+=R.renderHeight);e.row<o.frozenRows&&(l.top-=n.y)}setCss(t,l)}}else{removeChild(t);this._rngTarget=null}};_MouseHandler.prototype._finishResizing=function(e){var t=this._g,i=t.selection,o=this._szArgs,n=this._eMouse,r=n&&(n.ctrlKey||n.metaKey),l=CellType;if(o&&!o.cancel){if(o.col>-1){var s=o.col,a=mouseToPage(e).x,c=Math.round(Math.max(_MouseHandler._SZ_MIN,this._szStart+(a-this._htDown.point.x)*(this._g.rightToLeft?-1:1)));o.panel.columns[s].width=Math.round(c);t.onResizedColumn(o);if(r&&this._htDown.cellType==l.ColumnHeader&&i.containsColumn(s))for(var u=i.leftCol;u<=i.rightCol;u++)if(t.columns[u].allowResizing&&u!=s){o=new CellRangeEventArgs(t.cells,new CellRange(-1,u));if(t.onResizingColumn(o)){t.columns[u].size=t.columns[s].size;t.onResizedColumn(o)}}e.preventDefault()}if(o.row>-1){var d=o.row,h=mouseToPage(e).y;c=Math.round(Math.max(_MouseHandler._SZ_MIN,this._szStart+(h-this._htDown.point.y)));o.getRow().height=Math.round(c);t.onResizedRow(o);if(r&&this._htDown.cellType==l.RowHeader&&i.containsRow(d))for(var p=i.topRow;p<=i.bottomRow;p++)if(t.rows[p].allowResizing&&p!=d){o=new CellRangeEventArgs(t.cells,new CellRange(p,-1));if(t.onResizingRow(o)){t.rows[p].size=t.rows[d].size;t.onResizedRow(o)}}t.rows[d].resizedManually=!0;e.preventDefault()}}};_MouseHandler.prototype._handleSelection=function(e,t){var i=this._g,o=i._selHdl.selection,n=new CellRange(e.row,e.col),r=CellType,l=SelectionMode,s=null,a=e.col>=this._anchorCol;if(n.isValid)if(null==this._lbSelState){e.cellType!=r.ColumnHeader&&i._clearAnchorCell();switch(e.cellType){case r.RowHeader:n.col=0;n.col2=i.columns.length-1;break;case r.ColumnHeader:switch(i.selectionMode){case l.Row:case l.Cell:n.row=n.row2=o.row;t=!1;break;default:n.row=0;n.row2=i.rows.length-1;if(null!=(s=i._getColumnGroup(e.row,e.col))){if(i.anchorCursor){s._rng.col<=this._anchorCol&&this._anchorCol<=s._rng.col2&&(this._anchorCol=s._rng.col2);i._setAnchorCell(0,this._anchorCol)}else s._rng.col<this._anchorCol&&this._anchorCol<=s._rng.col2&&(this._anchorCol=s._rng.col);if(a){n.col=s._rng.col2;n.col2=s._rng.col}else{n.col=s._rng.col;n.col2=s._rng.col2;o.col2<n.col2&&(o.col2=n.col2)}}}}if(t){if(e.cellType==r.ColumnHeader){i.anchorCursor?null==i._getAnchorCell()&&i.selectionMode!=SelectionMode.Row&&i.selectionMode!=SelectionMode.Cell&&i._setAnchorCell(o.row,o.col):i._clearAnchorCell();n.row2=o.row2;!a&&o.col>o.col2?n.col2=o.col:n.col2=o.col2;null!=s&&a&&n.col2>s._rng.col&&(n.col2=s._rng.col)}else if(i.anchorCursor){n.row=o.row;n.col=o.col}else{n.row2=o.row2;n.col2=o.col2}if(!n.isValid){var c=this._htDown;c&&(n=new CellRange(c.row,c.col))}}if(i.selectionMode==SelectionMode.MultiRange){var u=i._mouseHdl._eMouse,d=u&&(u.ctrlKey||u.metaKey),h=i._selHdl,p=h.selection,f=h.extendedSelection,g=e.panel!=i.cells;closest(u.target,\".wj-elem-collapse\")&&(d=!1);if(d){if(!t&&h._deselectRange(n))h.selection.isValid&&(n=null);else if(p.isValid&&(g||!p.intersects(n))){(g?this._splitRange(p):[p.clone()]).forEach((function(e){for(var t=!1,i=0;i<f.length&&!t;i++)f[i].equals(e)&&(t=!0);t||f.push(e)}))}}else f.clear()}if(n){i.select(n,!1);switch(e.cellType){case r.RowHeader:i.scrollIntoView(e.row,-1);break;case r.ColumnHeader:i.scrollIntoView(-1,e.col);break;default:i.scrollIntoView(e.row,e.col)}}else{var _=new CellRangeEventArgs(i.cells,new CellRange(e.row,e.col));i.onSelectionChanging(_);i.onSelectionChanged(_);i.invalidate()}}else{var m=this._htDown.row,C=e.row,w=this._lbSel;if(m>C){C=m;m=e.row}var v=this._lbSelStateRows||{};if(this._lbSel)for(var y=w.row;y<=w.row2;y++)(y<m||y>C)&&(i.rows[y].isSelected=v[y]);for(y=m;y<=C;y++){v.hasOwnProperty(y)||(v[y]=i.rows[y].isSelected);i.rows[y].isSelected=!this._lbSelState}this._lbSel=new CellRange(m,0,C,0);i.scrollIntoView(e.row,e.col)}};_MouseHandler.prototype._splitRange=function(e){var t=this._g,i=t.columns.length,o=t.rows.length,n=[];if(e.columnSpan==i)for(var r=e.topRow;r<=e.bottomRow;r++)n.push(new CellRange(r,0,r,i-1));else if(e.rowSpan==o)for(var l=e.leftCol;l<=e.rightCol;l++)n.push(new CellRange(0,l,o-1,l));else n.push(e.clone());return n};_MouseHandler._SZ_MIN=0;_MouseHandler._SZ_MAX_COLGRP_EDGE=50;return _MouseHandler}();export{_MouseHandler};_registerModule(\"wijmo.grid\",selfModule);"],"mappings":"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"},"metadata":{},"sourceType":"module"}